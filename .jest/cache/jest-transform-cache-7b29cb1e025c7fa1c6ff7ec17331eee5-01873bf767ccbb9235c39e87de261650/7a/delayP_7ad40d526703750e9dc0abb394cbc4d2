41cc1ea68600b74b5f381712e33e772b
"use strict";

exports.__esModule = true;
exports["default"] = void 0;

var _ramda = require("ramda");

var _isNonNegative = _interopRequireDefault(require("./isNonNegative"));

var _isInteger = _interopRequireDefault(require("./isInteger"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}

var makeDelay = (0, _ramda.curry)(function (settleFnPicker, opts) {
  var timeout;
  var value;

  if ((0, _isInteger["default"])(opts) && (0, _isNonNegative["default"])(opts)) {
    timeout = opts;
  } else {
    timeout = (0, _ramda.propOr)(0, 'timeout', opts);
    value = (0, _ramda.propOr)(value, 'value', opts);
  }

  return new Promise(function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var settleFn = settleFnPicker(args);
    setTimeout((0, _ramda.partial)(settleFn, [value]), timeout);
  });
});
var delayP = makeDelay((0, _ramda.nth)(0));
delayP.reject = makeDelay((0, _ramda.nth)(1));
var _default = delayP;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbGF5UC5qcyJdLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsIl9yYW1kYSIsInJlcXVpcmUiLCJfaXNOb25OZWdhdGl2ZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfaXNJbnRlZ2VyIiwib2JqIiwibWFrZURlbGF5IiwiY3VycnkiLCJzZXR0bGVGblBpY2tlciIsIm9wdHMiLCJ0aW1lb3V0IiwidmFsdWUiLCJwcm9wT3IiLCJQcm9taXNlIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJzZXR0bGVGbiIsInNldFRpbWVvdXQiLCJwYXJ0aWFsIiwiZGVsYXlQIiwibnRoIiwicmVqZWN0IiwiX2RlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxPQUFPLENBQUNDLFVBQVIsR0FBcUIsSUFBckI7QUFDQUQsT0FBTyxDQUFDLFNBQUQsQ0FBUCxHQUFxQixLQUFLLENBQTFCOztBQUVBLElBQUlFLE1BQU0sR0FBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBcEI7O0FBRUEsSUFBSUMsY0FBYyxHQUFHQyxzQkFBc0IsQ0FBQ0YsT0FBTyxDQUFDLGlCQUFELENBQVIsQ0FBM0M7O0FBRUEsSUFBSUcsVUFBVSxHQUFHRCxzQkFBc0IsQ0FBQ0YsT0FBTyxDQUFDLGFBQUQsQ0FBUixDQUF2Qzs7QUFFQSxTQUFTRSxzQkFBVCxDQUFnQ0UsR0FBaEMsRUFBcUM7QUFBRSxTQUFPQSxHQUFHLElBQUlBLEdBQUcsQ0FBQ04sVUFBWCxHQUF3Qk0sR0FBeEIsR0FBOEI7QUFBRSxlQUFXQTtBQUFiLEdBQXJDO0FBQTBEOztBQW1CakcsSUFBSUMsU0FBUyxHQUFHLENBQUMsR0FBR04sTUFBTSxDQUFDTyxLQUFYLEVBQWtCLFVBQVVDLGNBQVYsRUFBMEJDLElBQTFCLEVBQWdDO0FBQ2hFLE1BQUlDLE9BQUo7QUFDQSxNQUFJQyxLQUFKOztBQUVBLE1BQUksQ0FBQyxHQUFHUCxVQUFVLENBQUMsU0FBRCxDQUFkLEVBQTJCSyxJQUEzQixLQUFvQyxDQUFDLEdBQUdQLGNBQWMsQ0FBQyxTQUFELENBQWxCLEVBQStCTyxJQUEvQixDQUF4QyxFQUE4RTtBQUM1RUMsSUFBQUEsT0FBTyxHQUFHRCxJQUFWO0FBQ0QsR0FGRCxNQUVPO0FBQ0xDLElBQUFBLE9BQU8sR0FBRyxDQUFDLEdBQUdWLE1BQU0sQ0FBQ1ksTUFBWCxFQUFtQixDQUFuQixFQUFzQixTQUF0QixFQUFpQ0gsSUFBakMsQ0FBVjtBQUNBRSxJQUFBQSxLQUFLLEdBQUcsQ0FBQyxHQUFHWCxNQUFNLENBQUNZLE1BQVgsRUFBbUJELEtBQW5CLEVBQTBCLE9BQTFCLEVBQW1DRixJQUFuQyxDQUFSO0FBQ0Q7O0FBRUQsU0FBTyxJQUFJSSxPQUFKLENBQVksWUFBWTtBQUM3QixTQUFLLElBQUlDLElBQUksR0FBR0MsU0FBUyxDQUFDQyxNQUFyQixFQUE2QkMsSUFBSSxHQUFHLElBQUlDLEtBQUosQ0FBVUosSUFBVixDQUFwQyxFQUFxREssSUFBSSxHQUFHLENBQWpFLEVBQW9FQSxJQUFJLEdBQUdMLElBQTNFLEVBQWlGSyxJQUFJLEVBQXJGLEVBQXlGO0FBQ3ZGRixNQUFBQSxJQUFJLENBQUNFLElBQUQsQ0FBSixHQUFhSixTQUFTLENBQUNJLElBQUQsQ0FBdEI7QUFDRDs7QUFFRCxRQUFJQyxRQUFRLEdBQUdaLGNBQWMsQ0FBQ1MsSUFBRCxDQUE3QjtBQUNBSSxJQUFBQSxVQUFVLENBQUMsQ0FBQyxHQUFHckIsTUFBTSxDQUFDc0IsT0FBWCxFQUFvQkYsUUFBcEIsRUFBOEIsQ0FBQ1QsS0FBRCxDQUE5QixDQUFELEVBQXlDRCxPQUF6QyxDQUFWO0FBQ0QsR0FQTSxDQUFQO0FBUUQsQ0FuQmUsQ0FBaEI7QUFvQkEsSUFBSWEsTUFBTSxHQUFHakIsU0FBUyxDQUFDLENBQUMsR0FBR04sTUFBTSxDQUFDd0IsR0FBWCxFQUFnQixDQUFoQixDQUFELENBQXRCO0FBQ0FELE1BQU0sQ0FBQ0UsTUFBUCxHQUFnQm5CLFNBQVMsQ0FBQyxDQUFDLEdBQUdOLE1BQU0sQ0FBQ3dCLEdBQVgsRUFBZ0IsQ0FBaEIsQ0FBRCxDQUF6QjtBQUNBLElBQUlFLFFBQVEsR0FBR0gsTUFBZjtBQUNBekIsT0FBTyxDQUFDLFNBQUQsQ0FBUCxHQUFxQjRCLFFBQXJCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHZvaWQgMDtcblxudmFyIF9yYW1kYSA9IHJlcXVpcmUoXCJyYW1kYVwiKTtcblxudmFyIF9pc05vbk5lZ2F0aXZlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pc05vbk5lZ2F0aXZlXCIpKTtcblxudmFyIF9pc0ludGVnZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2lzSW50ZWdlclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vKipcbiAqIENyZWF0ZXMgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzL3JlamVjdHMgYWZ0ZXIgdGhlIHNwZWNpZmllZCBtaWxsaXNlY29uZHMuXG4gKlxuICogQGZ1bmMgZGVsYXlQXG4gKiBAbWVtYmVyT2YgUkFcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHNpZyBOdW1iZXIgLT4gUHJvbWlzZSBVbmRlZmluZWRcbiAqIEBzaWcge3RpbWVvdXQ6IE51bWJlciwgdmFsdWU6IGF9IC0+IFByb21pc2UgYVxuICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBtaWxsaXNlY29uZHMgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBvciBvcHRpb25zIG9iamVjdFxuICogQHJldHVybiB7UHJvbWlzZX0gQSBQcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQvcmVqZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUgKGlmIHByb3ZpZGVkKSBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5XG4gKiBAZXhhbXBsZVxuICpcbiAqIFJBLmRlbGF5UCgyMDApOyAvLz0+IFByb21pc2UodW5kZWZpbmVkKVxuICogUkEuZGVsYXlQKHsgdGltZW91dDogMTAwMCwgdmFsdWU6ICdoZWxsbyB3b3JsZCcgfSk7IC8vPT4gUHJvbWlzZSgnaGVsbG8gd29ybGQnKVxuICogUkEuZGVsYXlQLnJlamVjdCgxMDApOyAvLz0+IFByb21pc2UodW5kZWZpbmVkKVxuICogUkEuZGVsYXlQLnJlamVjdCh7IHRpbWVvdXQ6IDEwMCwgdmFsdWU6IG5ldyBFcnJvcignZXJyb3InKSB9KTsgLy89PiBQcm9taXNlKEVycm9yKCdlcnJvcicpKVxuICovXG52YXIgbWFrZURlbGF5ID0gKDAsIF9yYW1kYS5jdXJyeSkoZnVuY3Rpb24gKHNldHRsZUZuUGlja2VyLCBvcHRzKSB7XG4gIHZhciB0aW1lb3V0O1xuICB2YXIgdmFsdWU7XG5cbiAgaWYgKCgwLCBfaXNJbnRlZ2VyW1wiZGVmYXVsdFwiXSkob3B0cykgJiYgKDAsIF9pc05vbk5lZ2F0aXZlW1wiZGVmYXVsdFwiXSkob3B0cykpIHtcbiAgICB0aW1lb3V0ID0gb3B0cztcbiAgfSBlbHNlIHtcbiAgICB0aW1lb3V0ID0gKDAsIF9yYW1kYS5wcm9wT3IpKDAsICd0aW1lb3V0Jywgb3B0cyk7XG4gICAgdmFsdWUgPSAoMCwgX3JhbWRhLnByb3BPcikodmFsdWUsICd2YWx1ZScsIG9wdHMpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIHNldHRsZUZuID0gc2V0dGxlRm5QaWNrZXIoYXJncyk7XG4gICAgc2V0VGltZW91dCgoMCwgX3JhbWRhLnBhcnRpYWwpKHNldHRsZUZuLCBbdmFsdWVdKSwgdGltZW91dCk7XG4gIH0pO1xufSk7XG52YXIgZGVsYXlQID0gbWFrZURlbGF5KCgwLCBfcmFtZGEubnRoKSgwKSk7XG5kZWxheVAucmVqZWN0ID0gbWFrZURlbGF5KCgwLCBfcmFtZGEubnRoKSgxKSk7XG52YXIgX2RlZmF1bHQgPSBkZWxheVA7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kZWZhdWx0OyJdfQ==