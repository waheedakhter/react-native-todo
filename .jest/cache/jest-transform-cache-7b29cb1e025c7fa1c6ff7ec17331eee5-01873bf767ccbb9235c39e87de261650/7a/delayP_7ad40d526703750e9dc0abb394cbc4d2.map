{"version":3,"sources":["delayP.js"],"names":["exports","__esModule","_ramda","require","_isNonNegative","_interopRequireDefault","_isInteger","obj","makeDelay","curry","settleFnPicker","opts","timeout","value","propOr","Promise","_len","arguments","length","args","Array","_key","settleFn","setTimeout","partial","delayP","nth","reject","_default"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,cAAc,GAAGC,sBAAsB,CAACF,OAAO,CAAC,iBAAD,CAAR,CAA3C;;AAEA,IAAIG,UAAU,GAAGD,sBAAsB,CAACF,OAAO,CAAC,aAAD,CAAR,CAAvC;;AAEA,SAASE,sBAAT,CAAgCE,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACN,UAAX,GAAwBM,GAAxB,GAA8B;AAAE,eAAWA;AAAb,GAArC;AAA0D;;AAmBjG,IAAIC,SAAS,GAAG,CAAC,GAAGN,MAAM,CAACO,KAAX,EAAkB,UAAUC,cAAV,EAA0BC,IAA1B,EAAgC;AAChE,MAAIC,OAAJ;AACA,MAAIC,KAAJ;;AAEA,MAAI,CAAC,GAAGP,UAAU,CAAC,SAAD,CAAd,EAA2BK,IAA3B,KAAoC,CAAC,GAAGP,cAAc,CAAC,SAAD,CAAlB,EAA+BO,IAA/B,CAAxC,EAA8E;AAC5EC,IAAAA,OAAO,GAAGD,IAAV;AACD,GAFD,MAEO;AACLC,IAAAA,OAAO,GAAG,CAAC,GAAGV,MAAM,CAACY,MAAX,EAAmB,CAAnB,EAAsB,SAAtB,EAAiCH,IAAjC,CAAV;AACAE,IAAAA,KAAK,GAAG,CAAC,GAAGX,MAAM,CAACY,MAAX,EAAmBD,KAAnB,EAA0B,OAA1B,EAAmCF,IAAnC,CAAR;AACD;;AAED,SAAO,IAAII,OAAJ,CAAY,YAAY;AAC7B,SAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUJ,IAAV,CAApC,EAAqDK,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGL,IAA3E,EAAiFK,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACD;;AAED,QAAIC,QAAQ,GAAGZ,cAAc,CAACS,IAAD,CAA7B;AACAI,IAAAA,UAAU,CAAC,CAAC,GAAGrB,MAAM,CAACsB,OAAX,EAAoBF,QAApB,EAA8B,CAACT,KAAD,CAA9B,CAAD,EAAyCD,OAAzC,CAAV;AACD,GAPM,CAAP;AAQD,CAnBe,CAAhB;AAoBA,IAAIa,MAAM,GAAGjB,SAAS,CAAC,CAAC,GAAGN,MAAM,CAACwB,GAAX,EAAgB,CAAhB,CAAD,CAAtB;AACAD,MAAM,CAACE,MAAP,GAAgBnB,SAAS,CAAC,CAAC,GAAGN,MAAM,CAACwB,GAAX,EAAgB,CAAhB,CAAD,CAAzB;AACA,IAAIE,QAAQ,GAAGH,MAAf;AACAzB,OAAO,CAAC,SAAD,CAAP,GAAqB4B,QAArB","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _ramda = require(\"ramda\");\n\nvar _isNonNegative = _interopRequireDefault(require(\"./isNonNegative\"));\n\nvar _isInteger = _interopRequireDefault(require(\"./isInteger\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Creates a promise which resolves/rejects after the specified milliseconds.\n *\n * @func delayP\n * @memberOf RA\n * @category Function\n * @sig Number -> Promise Undefined\n * @sig {timeout: Number, value: a} -> Promise a\n * @param {number|Object} milliseconds number of milliseconds or options object\n * @return {Promise} A Promise that is resolved/rejected with the given value (if provided) after the specified delay\n * @example\n *\n * RA.delayP(200); //=> Promise(undefined)\n * RA.delayP({ timeout: 1000, value: 'hello world' }); //=> Promise('hello world')\n * RA.delayP.reject(100); //=> Promise(undefined)\n * RA.delayP.reject({ timeout: 100, value: new Error('error') }); //=> Promise(Error('error'))\n */\nvar makeDelay = (0, _ramda.curry)(function (settleFnPicker, opts) {\n  var timeout;\n  var value;\n\n  if ((0, _isInteger[\"default\"])(opts) && (0, _isNonNegative[\"default\"])(opts)) {\n    timeout = opts;\n  } else {\n    timeout = (0, _ramda.propOr)(0, 'timeout', opts);\n    value = (0, _ramda.propOr)(value, 'value', opts);\n  }\n\n  return new Promise(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var settleFn = settleFnPicker(args);\n    setTimeout((0, _ramda.partial)(settleFn, [value]), timeout);\n  });\n});\nvar delayP = makeDelay((0, _ramda.nth)(0));\ndelayP.reject = makeDelay((0, _ramda.nth)(1));\nvar _default = delayP;\nexports[\"default\"] = _default;"]}