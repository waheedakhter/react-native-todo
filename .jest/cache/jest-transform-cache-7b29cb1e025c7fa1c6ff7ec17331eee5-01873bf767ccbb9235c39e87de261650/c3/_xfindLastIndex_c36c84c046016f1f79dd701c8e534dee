347569916aea533ca41624c7448b81c3
var _curry2 = require("./_curry2");

var _xfBase = require("./_xfBase");

var XFindLastIndex = function () {
  function XFindLastIndex(f, xf) {
    this.xf = xf;
    this.f = f;
    this.idx = -1;
    this.lastIdx = -1;
  }

  XFindLastIndex.prototype['@@transducer/init'] = _xfBase.init;

  XFindLastIndex.prototype['@@transducer/result'] = function (result) {
    return this.xf['@@transducer/result'](this.xf['@@transducer/step'](result, this.lastIdx));
  };

  XFindLastIndex.prototype['@@transducer/step'] = function (result, input) {
    this.idx += 1;

    if (this.f(input)) {
      this.lastIdx = this.idx;
    }

    return result;
  };

  return XFindLastIndex;
}();

var _xfindLastIndex = _curry2(function _xfindLastIndex(f, xf) {
  return new XFindLastIndex(f, xf);
});

module.exports = _xfindLastIndex;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl94ZmluZExhc3RJbmRleC5qcyJdLCJuYW1lcyI6WyJfY3VycnkyIiwicmVxdWlyZSIsIl94ZkJhc2UiLCJYRmluZExhc3RJbmRleCIsImYiLCJ4ZiIsImlkeCIsImxhc3RJZHgiLCJwcm90b3R5cGUiLCJpbml0IiwicmVzdWx0IiwiaW5wdXQiLCJfeGZpbmRMYXN0SW5kZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxPQUFPLEdBRVhDLE9BQU8sQ0FBQyxXQUFELENBRlA7O0FBSUEsSUFBSUMsT0FBTyxHQUVYRCxPQUFPLENBQUMsV0FBRCxDQUZQOztBQUlBLElBQUlFLGNBQWMsR0FFbEIsWUFBWTtBQUNWLFdBQVNBLGNBQVQsQ0FBd0JDLENBQXhCLEVBQTJCQyxFQUEzQixFQUErQjtBQUM3QixTQUFLQSxFQUFMLEdBQVVBLEVBQVY7QUFDQSxTQUFLRCxDQUFMLEdBQVNBLENBQVQ7QUFDQSxTQUFLRSxHQUFMLEdBQVcsQ0FBQyxDQUFaO0FBQ0EsU0FBS0MsT0FBTCxHQUFlLENBQUMsQ0FBaEI7QUFDRDs7QUFFREosRUFBQUEsY0FBYyxDQUFDSyxTQUFmLENBQXlCLG1CQUF6QixJQUFnRE4sT0FBTyxDQUFDTyxJQUF4RDs7QUFFQU4sRUFBQUEsY0FBYyxDQUFDSyxTQUFmLENBQXlCLHFCQUF6QixJQUFrRCxVQUFVRSxNQUFWLEVBQWtCO0FBQ2xFLFdBQU8sS0FBS0wsRUFBTCxDQUFRLHFCQUFSLEVBQStCLEtBQUtBLEVBQUwsQ0FBUSxtQkFBUixFQUE2QkssTUFBN0IsRUFBcUMsS0FBS0gsT0FBMUMsQ0FBL0IsQ0FBUDtBQUNELEdBRkQ7O0FBSUFKLEVBQUFBLGNBQWMsQ0FBQ0ssU0FBZixDQUF5QixtQkFBekIsSUFBZ0QsVUFBVUUsTUFBVixFQUFrQkMsS0FBbEIsRUFBeUI7QUFDdkUsU0FBS0wsR0FBTCxJQUFZLENBQVo7O0FBRUEsUUFBSSxLQUFLRixDQUFMLENBQU9PLEtBQVAsQ0FBSixFQUFtQjtBQUNqQixXQUFLSixPQUFMLEdBQWUsS0FBS0QsR0FBcEI7QUFDRDs7QUFFRCxXQUFPSSxNQUFQO0FBQ0QsR0FSRDs7QUFVQSxTQUFPUCxjQUFQO0FBQ0QsQ0F6QkQsRUFGQTs7QUE2QkEsSUFBSVMsZUFBZSxHQUVuQlosT0FBTyxDQUFDLFNBQVNZLGVBQVQsQ0FBeUJSLENBQXpCLEVBQTRCQyxFQUE1QixFQUFnQztBQUN0QyxTQUFPLElBQUlGLGNBQUosQ0FBbUJDLENBQW5CLEVBQXNCQyxFQUF0QixDQUFQO0FBQ0QsQ0FGTSxDQUZQOztBQU1BUSxNQUFNLENBQUNDLE9BQVAsR0FBaUJGLGVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9jdXJyeTIgPVxuLyojX19QVVJFX18qL1xucmVxdWlyZShcIi4vX2N1cnJ5MlwiKTtcblxudmFyIF94ZkJhc2UgPVxuLyojX19QVVJFX18qL1xucmVxdWlyZShcIi4vX3hmQmFzZVwiKTtcblxudmFyIFhGaW5kTGFzdEluZGV4ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gWEZpbmRMYXN0SW5kZXgoZiwgeGYpIHtcbiAgICB0aGlzLnhmID0geGY7XG4gICAgdGhpcy5mID0gZjtcbiAgICB0aGlzLmlkeCA9IC0xO1xuICAgIHRoaXMubGFzdElkeCA9IC0xO1xuICB9XG5cbiAgWEZpbmRMYXN0SW5kZXgucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gX3hmQmFzZS5pbml0O1xuXG4gIFhGaW5kTGFzdEluZGV4LnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10odGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXShyZXN1bHQsIHRoaXMubGFzdElkeCkpO1xuICB9O1xuXG4gIFhGaW5kTGFzdEluZGV4LnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgdGhpcy5pZHggKz0gMTtcblxuICAgIGlmICh0aGlzLmYoaW5wdXQpKSB7XG4gICAgICB0aGlzLmxhc3RJZHggPSB0aGlzLmlkeDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHJldHVybiBYRmluZExhc3RJbmRleDtcbn0oKTtcblxudmFyIF94ZmluZExhc3RJbmRleCA9XG4vKiNfX1BVUkVfXyovXG5fY3VycnkyKGZ1bmN0aW9uIF94ZmluZExhc3RJbmRleChmLCB4Zikge1xuICByZXR1cm4gbmV3IFhGaW5kTGFzdEluZGV4KGYsIHhmKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IF94ZmluZExhc3RJbmRleDsiXX0=