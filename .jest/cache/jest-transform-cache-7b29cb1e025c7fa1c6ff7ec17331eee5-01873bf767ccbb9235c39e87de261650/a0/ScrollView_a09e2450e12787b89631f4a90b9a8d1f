8e9319e076b641ff9d0640ac9dace695
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));

var _Dimensions = _interopRequireDefault(require("../../Utilities/Dimensions"));

var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));

var React = _interopRequireWildcard(require("react"));

var _ReactNative = _interopRequireDefault(require("../../Renderer/shims/ReactNative"));

var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));

var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));

var _View = _interopRequireDefault(require("../View/View"));

var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));

var _Keyboard = _interopRequireDefault(require("../Keyboard/Keyboard"));

var _FrameRateLogger = _interopRequireDefault(require("../../Interaction/FrameRateLogger"));

var _TextInputState = _interopRequireDefault(require("../TextInput/TextInputState"));

var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));

var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));

var _invariant = _interopRequireDefault(require("invariant"));

var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));

var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));

var _setAndForwardRef = _interopRequireDefault(require("../../Utilities/setAndForwardRef"));

var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));

var _ScrollViewCommands = _interopRequireDefault(require("./ScrollViewCommands"));

var _AndroidHorizontalScrollContentViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollContentViewNativeComponent"));

var _AndroidHorizontalScrollViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollViewNativeComponent"));

var _ScrollContentViewNativeComponent = _interopRequireDefault(require("./ScrollContentViewNativeComponent"));

var _ScrollViewNativeComponent = _interopRequireDefault(require("./ScrollViewNativeComponent"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

require('../../Renderer/shims/ReactNative');

var _ref = _Platform.default.OS === 'android' ? {
  NativeHorizontalScrollViewTuple: [_AndroidHorizontalScrollViewNativeComponent.default, _AndroidHorizontalScrollContentViewNativeComponent.default],
  NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _View.default]
} : {
  NativeHorizontalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default],
  NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default]
},
    NativeHorizontalScrollViewTuple = _ref.NativeHorizontalScrollViewTuple,
    NativeVerticalScrollViewTuple = _ref.NativeVerticalScrollViewTuple;

var IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;

var ScrollView = function (_React$Component) {
  (0, _inherits2.default)(ScrollView, _React$Component);

  var _super = _createSuper(ScrollView);

  function ScrollView(props) {
    var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;

    var _this;

    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _super.call(this, props);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this._keyboardWillOpenTo = null;
    _this._additionalScrollOffset = 0;
    _this._isTouching = false;
    _this._lastMomentumScrollBeginTime = 0;
    _this._lastMomentumScrollEndTime = 0;
    _this._observedScrollSinceBecomingResponder = false;
    _this._becameResponderWhileAnimating = false;
    _this._preventNegativeScrollOffset = null;
    _this._animated = null;
    _this._subscriptionKeyboardWillShow = null;
    _this._subscriptionKeyboardWillHide = null;
    _this._subscriptionKeyboardDidShow = null;
    _this._subscriptionKeyboardDidHide = null;
    _this.state = {
      layoutHeight: null
    };
    _this._setNativeRef = (0, _setAndForwardRef.default)({
      getForwardedRef: function getForwardedRef() {
        return _this.props.scrollViewRef;
      },
      setLocalRef: function setLocalRef(ref) {
        _this._scrollViewRef = ref;

        if (ref) {
          ref.getScrollResponder = _this.getScrollResponder;
          ref.getScrollableNode = _this.getScrollableNode;
          ref.getInnerViewNode = _this.getInnerViewNode;
          ref.getInnerViewRef = _this.getInnerViewRef;
          ref.getNativeScrollRef = _this.getNativeScrollRef;
          ref.scrollTo = _this.scrollTo;
          ref.scrollToEnd = _this.scrollToEnd;
          ref.flashScrollIndicators = _this.flashScrollIndicators;
          ref.scrollResponderZoomTo = _this.scrollResponderZoomTo;
          ref.scrollResponderScrollNativeHandleToKeyboard = _this.scrollResponderScrollNativeHandleToKeyboard;
        }
      }
    });

    _this.getScrollResponder = function () {
      return (0, _assertThisInitialized2.default)(_this);
    };

    _this.getScrollableNode = function () {
      return _ReactNative.default.findNodeHandle(_this._scrollViewRef);
    };

    _this.getInnerViewNode = function () {
      return _ReactNative.default.findNodeHandle(_this._innerViewRef);
    };

    _this.getInnerViewRef = function () {
      return _this._innerViewRef;
    };

    _this.getNativeScrollRef = function () {
      return _this._scrollViewRef;
    };

    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;

      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }

      if (_this._scrollViewRef == null) {
        return;
      }

      _ScrollViewCommands.default.scrollTo(_this._scrollViewRef, x || 0, y || 0, animated !== false);
    };

    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;

      if (_this._scrollViewRef == null) {
        return;
      }

      _ScrollViewCommands.default.scrollToEnd(_this._scrollViewRef, animated);
    };

    _this.flashScrollIndicators = function () {
      if (_this._scrollViewRef == null) {
        return;
      }

      _ScrollViewCommands.default.flashScrollIndicators(_this._scrollViewRef);
    };

    _this.scrollResponderScrollNativeHandleToKeyboard = function (nodeHandle, additionalOffset, preventNegativeScrollOffset) {
      _this._additionalScrollOffset = additionalOffset || 0;
      _this._preventNegativeScrollOffset = !!preventNegativeScrollOffset;

      if (_this._innerViewRef == null) {
        return;
      }

      if (typeof nodeHandle === 'number') {
        _UIManager.default.measureLayout(nodeHandle, _ReactNative.default.findNodeHandle((0, _assertThisInitialized2.default)(_this)), _this._textInputFocusError, _this._inputMeasureAndScrollToKeyboard);
      } else {
        nodeHandle.measureLayout(_this._innerViewRef, _this._inputMeasureAndScrollToKeyboard, _this._textInputFocusError);
      }
    };

    _this.scrollResponderZoomTo = function (rect, animated) {
      (0, _invariant.default)(_Platform.default.OS === 'ios', 'zoomToRect is not implemented');

      if ('animated' in rect) {
        _this._animated = rect.animated;
        delete rect.animated;
      } else if (typeof animated !== 'undefined') {
        console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');
      }

      if (_this._scrollViewRef == null) {
        return;
      }

      _ScrollViewCommands.default.zoomToRect(_this._scrollViewRef, rect, animated !== false);
    };

    _this._inputMeasureAndScrollToKeyboard = function (left, top, width, height) {
      var keyboardScreenY = _Dimensions.default.get('window').height;

      var scrollTextInputIntoVisibleRect = function scrollTextInputIntoVisibleRect() {
        if (_this._keyboardWillOpenTo != null) {
          keyboardScreenY = _this._keyboardWillOpenTo.endCoordinates.screenY;
        }

        var scrollOffsetY = top - keyboardScreenY + height + _this._additionalScrollOffset;

        if (_this._preventNegativeScrollOffset === true) {
          scrollOffsetY = Math.max(0, scrollOffsetY);
        }

        _this.scrollTo({
          x: 0,
          y: scrollOffsetY,
          animated: true
        });

        _this._additionalScrollOffset = 0;
        _this._preventNegativeScrollOffset = false;
      };

      if (_this._keyboardWillOpenTo == null) {
        setTimeout(function () {
          scrollTextInputIntoVisibleRect();
        }, 0);
      } else {
        scrollTextInputIntoVisibleRect();
      }
    };

    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && _Platform.default.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }

      _this._observedScrollSinceBecomingResponder = true;
      _this.props.onScroll && _this.props.onScroll(e);
    };

    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }

      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };

    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
          width = _e$nativeEvent$layout.width,
          height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };

    _this._scrollViewRef = null;
    _this._innerViewRef = null;
    _this._setInnerViewRef = (0, _setAndForwardRef.default)({
      getForwardedRef: function getForwardedRef() {
        return _this.props.innerViewRef;
      },
      setLocalRef: function setLocalRef(ref) {
        _this._innerViewRef = ref;
      }
    });

    _this.scrollResponderKeyboardWillShow = function (e) {
      _this._keyboardWillOpenTo = e;
      _this.props.onKeyboardWillShow && _this.props.onKeyboardWillShow(e);
    };

    _this.scrollResponderKeyboardWillHide = function (e) {
      _this._keyboardWillOpenTo = null;
      _this.props.onKeyboardWillHide && _this.props.onKeyboardWillHide(e);
    };

    _this.scrollResponderKeyboardDidShow = function (e) {
      if (e) {
        _this._keyboardWillOpenTo = e;
      }

      _this.props.onKeyboardDidShow && _this.props.onKeyboardDidShow(e);
    };

    _this.scrollResponderKeyboardDidHide = function (e) {
      _this._keyboardWillOpenTo = null;
      _this.props.onKeyboardDidHide && _this.props.onKeyboardDidHide(e);
    };

    _this._handleMomentumScrollBegin = function (e) {
      _this._lastMomentumScrollBeginTime = global.performance.now();
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };

    _this._handleMomentumScrollEnd = function (e) {
      _FrameRateLogger.default.endScroll();

      _this._lastMomentumScrollEndTime = global.performance.now();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };

    _this._handleScrollBeginDrag = function (e) {
      _FrameRateLogger.default.beginScroll();

      if (_Platform.default.OS === 'android' && _this.props.keyboardDismissMode === 'on-drag') {
        (0, _dismissKeyboard.default)();
      }

      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };

    _this._handleScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;

      if (!_this._isAnimating() && (!velocity || velocity.x === 0 && velocity.y === 0)) {
        _FrameRateLogger.default.endScroll();
      }

      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };

    _this._isAnimating = function () {
      var now = global.performance.now();
      var timeSinceLastMomentumScrollEnd = now - _this._lastMomentumScrollEndTime;
      var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || _this._lastMomentumScrollEndTime < _this._lastMomentumScrollBeginTime;
      return isAnimating;
    };

    _this._handleResponderGrant = function (e) {
      _this._observedScrollSinceBecomingResponder = false;
      _this.props.onResponderGrant && _this.props.onResponderGrant(e);
      _this._becameResponderWhileAnimating = _this._isAnimating();
    };

    _this._handleResponderReject = function () {};

    _this._handleResponderRelease = function (e) {
      _this._isTouching = e.nativeEvent.touches.length !== 0;
      _this.props.onResponderRelease && _this.props.onResponderRelease(e);

      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }

        return;
      }

      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();

      if (_this.props.keyboardShouldPersistTaps !== true && _this.props.keyboardShouldPersistTaps !== 'always' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedTextInput && !_this._observedScrollSinceBecomingResponder && !_this._becameResponderWhileAnimating) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
    };

    _this._handleResponderTerminationRequest = function () {
      return !_this._observedScrollSinceBecomingResponder;
    };

    _this._handleScrollShouldSetResponder = function () {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }

      return _this._isTouching;
    };

    _this._handleStartShouldSetResponder = function (e) {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }

      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();

      if (_this.props.keyboardShouldPersistTaps === 'handled' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedInput) {
        return true;
      }

      return false;
    };

    _this._handleStartShouldSetResponderCapture = function (e) {
      if (_this._isAnimating()) {
        return true;
      }

      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }

      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';

      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }

        return false;
      }

      if (keyboardNeverPersistTaps && _this._keyboardIsDismissible() && e.target != null && !_TextInputState.default.isTextInput(e.target)) {
        return true;
      }

      return false;
    };

    _this._keyboardIsDismissible = function () {
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();

      var hasFocusedTextInput = currentlyFocusedInput != null && _TextInputState.default.isTextInput(currentlyFocusedInput);

      var softKeyboardMayBeOpen = _this._keyboardWillOpenTo != null || _Platform.default.OS === 'android';
      return hasFocusedTextInput && softKeyboardMayBeOpen;
    };

    _this._handleTouchEnd = function (e) {
      var nativeEvent = e.nativeEvent;
      _this._isTouching = nativeEvent.touches.length !== 0;
      _this.props.onTouchEnd && _this.props.onTouchEnd(e);
    };

    _this._handleTouchCancel = function (e) {
      _this._isTouching = false;
      _this.props.onTouchCancel && _this.props.onTouchCancel(e);
    };

    _this._handleTouchStart = function (e) {
      _this._isTouching = true;
      _this.props.onTouchStart && _this.props.onTouchStart(e);
    };

    _this._handleTouchMove = function (e) {
      _this.props.onTouchMove && _this.props.onTouchMove(e);
    };

    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = _this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);

    _this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = _this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);

    return _this;
  }

  (0, _createClass2.default)(ScrollView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (typeof this.props.keyboardShouldPersistTaps === 'boolean') {
        console.warn("'keyboardShouldPersistTaps={" + (this.props.keyboardShouldPersistTaps === true ? 'true' : 'false') + "}' is deprecated. " + ("Use 'keyboardShouldPersistTaps=\"" + (this.props.keyboardShouldPersistTaps ? 'always' : 'never') + "\"' instead"));
      }

      this._keyboardWillOpenTo = null;
      this._additionalScrollOffset = 0;
      this._subscriptionKeyboardWillShow = _Keyboard.default.addListener('keyboardWillShow', this.scrollResponderKeyboardWillShow);
      this._subscriptionKeyboardWillHide = _Keyboard.default.addListener('keyboardWillHide', this.scrollResponderKeyboardWillHide);
      this._subscriptionKeyboardDidShow = _Keyboard.default.addListener('keyboardDidShow', this.scrollResponderKeyboardDidShow);
      this._subscriptionKeyboardDidHide = _Keyboard.default.addListener('keyboardDidHide', this.scrollResponderKeyboardDidHide);

      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevContentInsetTop = prevProps.contentInset ? prevProps.contentInset.top : 0;
      var newContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;

      if (prevContentInsetTop !== newContentInsetTop) {
        this._scrollAnimatedValue.setOffset(newContentInsetTop || 0);
      }

      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._subscriptionKeyboardWillShow != null) {
        this._subscriptionKeyboardWillShow.remove();
      }

      if (this._subscriptionKeyboardWillHide != null) {
        this._subscriptionKeyboardWillHide.remove();
      }

      if (this._subscriptionKeyboardDidShow != null) {
        this._subscriptionKeyboardDidShow.remove();
      }

      if (this._subscriptionKeyboardDidHide != null) {
        this._subscriptionKeyboardDidHide.remove();
      }

      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "_textInputFocusError",
    value: function _textInputFocusError() {
      console.warn('Error measuring text field.');
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }

      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this._scrollViewRef, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;

      if (!stickyHeaderIndices) {
        return;
      }

      var childArray = React.Children.toArray(this.props.children);

      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }

      var layoutY = event.nativeEvent.layout.y;

      this._headerLayoutYs.set(key, layoutY);

      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];

      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));

        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _ref2 = this.props.horizontal === true ? NativeHorizontalScrollViewTuple : NativeVerticalScrollViewTuple,
          _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
          NativeDirectionalScrollView = _ref3[0],
          NativeDirectionalScrollContentView = _ref3[1];

      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];

      if (__DEV__ && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }

      var contentSizeChangeProps = this.props.onContentSizeChange == null ? null : {
        onLayout: this._handleContentOnLayout
      };
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;

      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;

          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return React.createElement(StickyHeaderComponent, {
              key: key,
              nativeID: 'StickyHeader-' + key,
              ref: function ref(_ref4) {
                return _this2._setStickyHeaderRef(key, _ref4);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              hiddenOnScroll: _this2.props.stickyHeaderHiddenOnScroll,
              scrollViewHeight: _this2.state.layoutHeight
            }, child);
          } else {
            return child;
          }
        });
      }

      children = React.createElement(_ScrollViewContext.default.Provider, {
        value: this.props.horizontal === true ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL
      }, children);
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = React.createElement(NativeDirectionalScrollContentView, (0, _extends2.default)({}, contentSizeChangeProps, {
        ref: this._setInnerViewRef,
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false
      }), children);
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;
      var props = (0, _extends2.default)({}, this.props, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: _StyleSheet.default.compose(baseStyle, this.props.style),
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._handleMomentumScrollBegin,
        onMomentumScrollEnd: this._handleMomentumScrollEnd,
        onResponderGrant: this._handleResponderGrant,
        onResponderReject: this._handleResponderReject,
        onResponderRelease: this._handleResponderRelease,
        onResponderTerminationRequest: this._handleResponderTerminationRequest,
        onScrollBeginDrag: this._handleScrollBeginDrag,
        onScrollEndDrag: this._handleScrollEndDrag,
        onScrollShouldSetResponder: this._handleScrollShouldSetResponder,
        onStartShouldSetResponder: this._handleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._handleStartShouldSetResponderCapture,
        onTouchEnd: this._handleTouchEnd,
        onTouchMove: this._handleTouchMove,
        onTouchStart: this._handleTouchStart,
        onTouchCancel: this._handleTouchCancel,
        onScroll: this._handleScroll,
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });
      var decelerationRate = this.props.decelerationRate;

      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }

      var refreshControl = this.props.refreshControl;

      if (refreshControl) {
        if (_Platform.default.OS === 'ios') {
          return React.createElement(NativeDirectionalScrollView, (0, _extends2.default)({}, props, {
            ref: this._setNativeRef
          }), refreshControl, contentContainer);
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
              outer = _splitLayoutProps.outer,
              inner = _splitLayoutProps.inner;

          return React.cloneElement(refreshControl, {
            style: _StyleSheet.default.compose(baseStyle, outer)
          }, React.createElement(NativeDirectionalScrollView, (0, _extends2.default)({}, props, {
            style: _StyleSheet.default.compose(baseStyle, inner),
            ref: this._setNativeRef
          }), contentContainer));
        }
      }

      return React.createElement(NativeDirectionalScrollView, (0, _extends2.default)({}, props, {
        ref: this._setNativeRef
      }), contentContainer);
    }
  }]);
  return ScrollView;
}(React.Component);

ScrollView.Context = _ScrollViewContext.default;

var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});

function Wrapper(props, ref) {
  return React.createElement(ScrollView, (0, _extends2.default)({}, props, {
    scrollViewRef: ref
  }));
}

Wrapper.displayName = 'ScrollView';
var ForwardedScrollView = React.forwardRef(Wrapper);
ForwardedScrollView.Context = _ScrollViewContext.default;
ForwardedScrollView.displayName = 'ScrollView';
module.exports = ForwardedScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbFZpZXcuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIlBsYXRmb3JtIiwiT1MiLCJOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlIiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIk5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlIiwiU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCIsIlZpZXciLCJTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIklTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMiLCJTY3JvbGxWaWV3IiwicHJvcHMiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQiLCJfc3RpY2t5SGVhZGVyUmVmcyIsIk1hcCIsIl9oZWFkZXJMYXlvdXRZcyIsIl9rZXlib2FyZFdpbGxPcGVuVG8iLCJfYWRkaXRpb25hbFNjcm9sbE9mZnNldCIsIl9pc1RvdWNoaW5nIiwiX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZSIsIl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lIiwiX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciIsIl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZyIsIl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQiLCJfYW5pbWF0ZWQiLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyIsIl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlIiwiX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyIsIl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUiLCJzdGF0ZSIsImxheW91dEhlaWdodCIsIl9zZXROYXRpdmVSZWYiLCJnZXRGb3J3YXJkZWRSZWYiLCJzY3JvbGxWaWV3UmVmIiwic2V0TG9jYWxSZWYiLCJyZWYiLCJfc2Nyb2xsVmlld1JlZiIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZ2V0SW5uZXJWaWV3Tm9kZSIsImdldElubmVyVmlld1JlZiIsImdldE5hdGl2ZVNjcm9sbFJlZiIsInNjcm9sbFRvIiwic2Nyb2xsVG9FbmQiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJzY3JvbGxSZXNwb25kZXJab29tVG8iLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkIiwiUmVhY3ROYXRpdmUiLCJmaW5kTm9kZUhhbmRsZSIsIl9pbm5lclZpZXdSZWYiLCJvcHRpb25zIiwiZGVwcmVjYXRlZFgiLCJkZXByZWNhdGVkQW5pbWF0ZWQiLCJ4IiwieSIsImFuaW1hdGVkIiwiY29uc29sZSIsIndhcm4iLCJDb21tYW5kcyIsIm5vZGVIYW5kbGUiLCJhZGRpdGlvbmFsT2Zmc2V0IiwicHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0IiwiVUlNYW5hZ2VyIiwibWVhc3VyZUxheW91dCIsIl90ZXh0SW5wdXRGb2N1c0Vycm9yIiwiX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQiLCJyZWN0Iiwiem9vbVRvUmVjdCIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCIsImtleWJvYXJkU2NyZWVuWSIsIkRpbWVuc2lvbnMiLCJnZXQiLCJzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QiLCJlbmRDb29yZGluYXRlcyIsInNjcmVlblkiLCJzY3JvbGxPZmZzZXRZIiwiTWF0aCIsIm1heCIsInNldFRpbWVvdXQiLCJfaGFuZGxlU2Nyb2xsIiwiZSIsIl9fREVWX18iLCJvblNjcm9sbCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJsb2ciLCJfaGFuZGxlTGF5b3V0IiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsInNldFN0YXRlIiwibmF0aXZlRXZlbnQiLCJsYXlvdXQiLCJvbkxheW91dCIsIl9oYW5kbGVDb250ZW50T25MYXlvdXQiLCJvbkNvbnRlbnRTaXplQ2hhbmdlIiwiX3NldElubmVyVmlld1JlZiIsImlubmVyVmlld1JlZiIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3ciLCJvbktleWJvYXJkV2lsbFNob3ciLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlIiwib25LZXlib2FyZFdpbGxIaWRlIiwic2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93Iiwib25LZXlib2FyZERpZFNob3ciLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZEhpZGUiLCJvbktleWJvYXJkRGlkSGlkZSIsIl9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luIiwiZ2xvYmFsIiwicGVyZm9ybWFuY2UiLCJub3ciLCJvbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJfaGFuZGxlTW9tZW50dW1TY3JvbGxFbmQiLCJGcmFtZVJhdGVMb2dnZXIiLCJlbmRTY3JvbGwiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX2hhbmRsZVNjcm9sbEJlZ2luRHJhZyIsImJlZ2luU2Nyb2xsIiwia2V5Ym9hcmREaXNtaXNzTW9kZSIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwiX2hhbmRsZVNjcm9sbEVuZERyYWciLCJ2ZWxvY2l0eSIsIl9pc0FuaW1hdGluZyIsIm9uU2Nyb2xsRW5kRHJhZyIsInRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCIsImlzQW5pbWF0aW5nIiwiX2hhbmRsZVJlc3BvbmRlckdyYW50Iiwib25SZXNwb25kZXJHcmFudCIsIl9oYW5kbGVSZXNwb25kZXJSZWplY3QiLCJfaGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsInRvdWNoZXMiLCJsZW5ndGgiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJ0YXJnZXQiLCJlcnJvciIsImN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQiLCJUZXh0SW5wdXRTdGF0ZSIsImN1cnJlbnRseUZvY3VzZWRJbnB1dCIsImtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMiLCJfa2V5Ym9hcmRJc0Rpc21pc3NpYmxlIiwiYmx1clRleHRJbnB1dCIsIl9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJfaGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwiZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwia2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzIiwiaXNUZXh0SW5wdXQiLCJoYXNGb2N1c2VkVGV4dElucHV0Iiwic29mdEtleWJvYXJkTWF5QmVPcGVuIiwiX2hhbmRsZVRvdWNoRW5kIiwib25Ub3VjaEVuZCIsIl9oYW5kbGVUb3VjaENhbmNlbCIsIm9uVG91Y2hDYW5jZWwiLCJfaGFuZGxlVG91Y2hTdGFydCIsIm9uVG91Y2hTdGFydCIsIl9oYW5kbGVUb3VjaE1vdmUiLCJvblRvdWNoTW92ZSIsIl9zY3JvbGxBbmltYXRlZFZhbHVlIiwiQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIlZhbHVlIiwiY29udGVudE9mZnNldCIsInNldE9mZnNldCIsImNvbnRlbnRJbnNldCIsIktleWJvYXJkIiwiYWRkTGlzdGVuZXIiLCJfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCIsInByZXZQcm9wcyIsInByZXZDb250ZW50SW5zZXRUb3AiLCJuZXdDb250ZW50SW5zZXRUb3AiLCJyZW1vdmUiLCJkZXRhY2giLCJpbmRleCIsImNoaWxkQXJyYXkiLCJjaGlsZCIsImtleSIsInN0aWNreUhlYWRlckluZGljZXMiLCJhdHRhY2hOYXRpdmVFdmVudCIsInNldCIsImRlbGV0ZSIsImV2ZW50IiwiUmVhY3QiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJjaGlsZHJlbiIsIl9nZXRLZXlGb3JJbmRleCIsImxheW91dFkiLCJpbmRleE9mSW5kZXgiLCJpbmRleE9mIiwicHJldmlvdXNIZWFkZXJJbmRleCIsInByZXZpb3VzSGVhZGVyIiwic2V0TmV4dEhlYWRlclkiLCJob3Jpem9udGFsIiwiTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IiwiTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50VmlldyIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsInN0eWxlcyIsImNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsIiwic3R5bGUiLCJ1bmRlZmluZWQiLCJjaGlsZExheW91dFByb3BzIiwiZmlsdGVyIiwicHJvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50U2l6ZUNoYW5nZVByb3BzIiwibWFwIiwibmV4dEluZGV4IiwiU3RpY2t5SGVhZGVyQ29tcG9uZW50IiwiU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsIl9zZXRTdGlja3lIZWFkZXJSZWYiLCJfb25TdGlja3lIZWFkZXJMYXlvdXQiLCJzdGlja3lIZWFkZXJIaWRkZW5PblNjcm9sbCIsIkhPUklaT05UQUwiLCJWRVJUSUNBTCIsImhhc1N0aWNreUhlYWRlcnMiLCJBcnJheSIsImlzQXJyYXkiLCJjb250ZW50Q29udGFpbmVyIiwicmVtb3ZlQ2xpcHBlZFN1YnZpZXdzIiwiYWx3YXlzQm91bmNlSG9yaXpvbnRhbCIsImFsd2F5c0JvdW5jZVZlcnRpY2FsIiwiYmFzZVN0eWxlIiwiYmFzZUhvcml6b250YWwiLCJiYXNlVmVydGljYWwiLCJTdHlsZVNoZWV0IiwiY29tcG9zZSIsIm9uUmVzcG9uZGVyUmVqZWN0Iiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsInNlbmRNb21lbnR1bUV2ZW50cyIsInNuYXBUb1N0YXJ0Iiwic25hcFRvRW5kIiwicGFnaW5nRW5hYmxlZCIsInNlbGVjdCIsImlvcyIsInNuYXBUb0ludGVydmFsIiwic25hcFRvT2Zmc2V0cyIsImFuZHJvaWQiLCJkZWNlbGVyYXRpb25SYXRlIiwicmVmcmVzaENvbnRyb2wiLCJvdXRlciIsImlubmVyIiwiY2xvbmVFbGVtZW50IiwiQ29tcG9uZW50IiwiQ29udGV4dCIsIlNjcm9sbFZpZXdDb250ZXh0IiwiY3JlYXRlIiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwiZmxleERpcmVjdGlvbiIsIm92ZXJmbG93IiwiV3JhcHBlciIsImRpc3BsYXlOYW1lIiwiRm9yd2FyZGVkU2Nyb2xsVmlldyIsImZvcndhcmRSZWYiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFhQTs7QUFLQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7OztBQXBDQUEsT0FBTyxDQUFDLGtDQUFELENBQVA7O0FBc0NBLFdBQ0VDLGtCQUFTQyxFQUFULEtBQWdCLFNBQWhCLEdBQ0k7QUFDRUMsRUFBQUEsK0JBQStCLEVBQUUsQ0FDL0JDLG1EQUQrQixFQUUvQkMsMERBRitCLENBRG5DO0FBS0VDLEVBQUFBLDZCQUE2QixFQUFFLENBQUNDLGtDQUFELEVBQTRCQyxhQUE1QjtBQUxqQyxDQURKLEdBUUk7QUFDRUwsRUFBQUEsK0JBQStCLEVBQUUsQ0FDL0JJLGtDQUQrQixFQUUvQkUseUNBRitCLENBRG5DO0FBS0VILEVBQUFBLDZCQUE2QixFQUFFLENBQzdCQyxrQ0FENkIsRUFFN0JFLHlDQUY2QjtBQUxqQyxDQVROO0FBQUEsSUFBT04sK0JBQVAsUUFBT0EsK0JBQVA7QUFBQSxJQUF3Q0csNkJBQXhDLFFBQXdDQSw2QkFBeEM7O0FBdW1CQSxJQUFNSSxxQ0FBcUMsR0FBRyxFQUE5Qzs7SUF5Q01DLFU7Ozs7O0FBR0osc0JBQVlDLEtBQVosRUFBMEI7QUFBQTs7QUFBQTs7QUFBQTtBQUN4Qiw4QkFBTUEsS0FBTjtBQUR3QixVQVUxQkMsOEJBVjBCLEdBVW1DLElBVm5DO0FBQUEs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QixHQUFHM0UsS0FBSyxDQUFDNEUsVUFBTixDQUFpQkgsT0FBakIsQ0FBNUI7QUFHQUUsbUJBQW1CLENBQUNULE9BQXBCLEdBQThCQywwQkFBOUI7QUFFQVEsbUJBQW1CLENBQUNELFdBQXBCLEdBQWtDLFlBQWxDO0FBRUFHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFtQkgsbUJBQW5CIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqL1xuXG5pbXBvcnQgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiBmcm9tICcuLi8uLi9BbmltYXRlZC9BbmltYXRlZEltcGxlbWVudGF0aW9uJztcbmltcG9ydCBEaW1lbnNpb25zIGZyb20gJy4uLy4uL1V0aWxpdGllcy9EaW1lbnNpb25zJztcbmltcG9ydCBQbGF0Zm9ybSBmcm9tICcuLi8uLi9VdGlsaXRpZXMvUGxhdGZvcm0nO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0TmF0aXZlIGZyb20gJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlJztcbnJlcXVpcmUoJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlJyk7IC8vIEZvcmNlIHNpZGUgZWZmZWN0cyB0byBwcmV2ZW50IFQ1NTc0NDMxMVxuaW1wb3J0IFNjcm9sbFZpZXdTdGlja3lIZWFkZXIgZnJvbSAnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJztcbmltcG9ydCBTdHlsZVNoZWV0IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi9WaWV3L1ZpZXcnO1xuaW1wb3J0IFVJTWFuYWdlciBmcm9tICcuLi8uLi9SZWFjdE5hdGl2ZS9VSU1hbmFnZXInO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gJy4uL0tleWJvYXJkL0tleWJvYXJkJztcbmltcG9ydCBGcmFtZVJhdGVMb2dnZXIgZnJvbSAnLi4vLi4vSW50ZXJhY3Rpb24vRnJhbWVSYXRlTG9nZ2VyJztcbmltcG9ydCBUZXh0SW5wdXRTdGF0ZSBmcm9tICcuLi9UZXh0SW5wdXQvVGV4dElucHV0U3RhdGUnO1xuXG5pbXBvcnQgZGlzbWlzc0tleWJvYXJkIGZyb20gJy4uLy4uL1V0aWxpdGllcy9kaXNtaXNzS2V5Ym9hcmQnO1xuaW1wb3J0IGZsYXR0ZW5TdHlsZSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZSc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5pbXBvcnQgcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUgZnJvbSAnLi9wcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSc7XG5pbXBvcnQgc3BsaXRMYXlvdXRQcm9wcyBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L3NwbGl0TGF5b3V0UHJvcHMnO1xuaW1wb3J0IHNldEFuZEZvcndhcmRSZWYgZnJvbSAnLi4vLi4vVXRpbGl0aWVzL3NldEFuZEZvcndhcmRSZWYnO1xuXG5pbXBvcnQgdHlwZSB7RWRnZUluc2V0c1Byb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvRWRnZUluc2V0c1Byb3BUeXBlJztcbmltcG9ydCB0eXBlIHtQb2ludFByb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvUG9pbnRQcm9wVHlwZSc7XG5pbXBvcnQgdHlwZSB7Vmlld1N0eWxlUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtDb2xvclZhbHVlfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge1xuICBQcmVzc0V2ZW50LFxuICBTY3JvbGxFdmVudCxcbiAgTGF5b3V0RXZlbnQsXG59IGZyb20gJy4uLy4uL1R5cGVzL0NvcmVFdmVudFR5cGVzJztcbmltcG9ydCB0eXBlIHtIb3N0Q29tcG9uZW50fSBmcm9tICcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZVR5cGVzJztcbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJy4uL1ZpZXcvVmlld1Byb3BUeXBlcyc7XG5pbXBvcnQgU2Nyb2xsVmlld0NvbnRleHQsIHtIT1JJWk9OVEFMLCBWRVJUSUNBTH0gZnJvbSAnLi9TY3JvbGxWaWV3Q29udGV4dCc7XG5pbXBvcnQgdHlwZSB7UHJvcHMgYXMgU2Nyb2xsVmlld1N0aWNreUhlYWRlclByb3BzfSBmcm9tICcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInO1xuaW1wb3J0IHR5cGUge0tleWJvYXJkRXZlbnR9IGZyb20gJy4uL0tleWJvYXJkL0tleWJvYXJkJztcbmltcG9ydCB0eXBlIHtFdmVudFN1YnNjcmlwdGlvbn0gZnJvbSAnLi4vLi4vdmVuZG9yL2VtaXR0ZXIvRXZlbnRFbWl0dGVyJztcblxuaW1wb3J0IENvbW1hbmRzIGZyb20gJy4vU2Nyb2xsVmlld0NvbW1hbmRzJztcbmltcG9ydCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCc7XG5pbXBvcnQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL1Njcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCc7XG5cbmNvbnN0IHtOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlLCBOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZX0gPVxuICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnXG4gICAgPyB7XG4gICAgICAgIE5hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGU6IFtcbiAgICAgICAgICBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgICAgQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgXSxcbiAgICAgICAgTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGU6IFtTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LCBWaWV3XSxcbiAgICAgIH1cbiAgICA6IHtcbiAgICAgICAgTmF0aXZlSG9yaXpvbnRhbFNjcm9sbFZpZXdUdXBsZTogW1xuICAgICAgICAgIFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgICAgU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgIF0sXG4gICAgICAgIE5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlOiBbXG4gICAgICAgICAgU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgICBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgXSxcbiAgICAgIH07XG5cbi8qXG4gKiBpT1Mgc2Nyb2xsIGV2ZW50IHRpbWluZyBudWFuY2VzOlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqXG4gKiBTY3JvbGxpbmcgd2l0aG91dCBib3VuY2luZywgaWYgeW91IHRvdWNoIGRvd246XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogMS4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgKHdoZW4gYW5pbWF0aW9uIGJlZ2lucyBhZnRlciBsZXR0aW5nIHVwKVxuICogICAgLi4uIHBoeXNpY2FsIHRvdWNoIHN0YXJ0cyAuLi5cbiAqIDIuIGBvblRvdWNoU3RhcnRDYXB0dXJlYCAgICh3aGVuIHlvdSBwcmVzcyBkb3duIHRvIHN0b3AgdGhlIHNjcm9sbClcbiAqIDMuIGBvblRvdWNoU3RhcnRgICAgICAgICAgIChzYW1lLCBidXQgYnViYmxlIHBoYXNlKVxuICogNC4gYG9uUmVzcG9uZGVyUmVsZWFzZWAgICAgKHdoZW4gbGlmdGluZyB1cCAtIHlvdSBjb3VsZCBwYXVzZSBmb3JldmVyIGJlZm9yZSAqIGxpZnRpbmcpXG4gKiA1LiBgb25Nb21lbnR1bVNjcm9sbEVuZGBcbiAqXG4gKlxuICogU2Nyb2xsaW5nIHdpdGggYm91bmNpbmcsIGlmIHlvdSB0b3VjaCBkb3duOlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIDEuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gICh3aGVuIGFuaW1hdGlvbiBiZWdpbnMgYWZ0ZXIgbGV0dGluZyB1cClcbiAqICAgIC4uLiBib3VuY2UgYmVnaW5zIC4uLlxuICogICAgLi4uIHNvbWUgdGltZSBlbGFwc2VzIC4uLlxuICogICAgLi4uIHBoeXNpY2FsIHRvdWNoIGR1cmluZyBib3VuY2UgLi4uXG4gKiAyLiBgb25Nb21lbnR1bVNjcm9sbEVuZGAgICAoTWFrZXMgbm8gc2Vuc2Ugd2h5IHRoaXMgb2NjdXJzIGZpcnN0IGR1cmluZyBib3VuY2UpXG4gKiAzLiBgb25Ub3VjaFN0YXJ0Q2FwdHVyZWAgICAoaW1tZWRpYXRlbHkgYWZ0ZXIgYG9uTW9tZW50dW1TY3JvbGxFbmRgKVxuICogNC4gYG9uVG91Y2hTdGFydGAgICAgICAgICAgKHNhbWUsIGJ1dCBidWJibGUgcGhhc2UpXG4gKiA1LiBgb25Ub3VjaEVuZGAgICAgICAgICAgICAoWW91IGNvdWxkIGhvbGQgdGhlIHRvdWNoIHN0YXJ0IGZvciBhIGxvbmcgdGltZSlcbiAqIDYuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gIChXaGVuIHJlbGVhc2luZyB0aGUgdmlldyBzdGFydHMgYm91bmNpbmcgYmFjaylcbiAqXG4gKiBTbyB3aGVuIHdlIHJlY2VpdmUgYW4gYG9uVG91Y2hTdGFydGAsIGhvdyBjYW4gd2UgdGVsbCBpZiB3ZSBhcmUgdG91Y2hpbmdcbiAqICpkdXJpbmcqIGFuIGFuaW1hdGlvbiAod2hpY2ggdGhlbiBjYXVzZXMgdGhlIGFuaW1hdGlvbiB0byBzdG9wKT8gVGhlIG9ubHkgd2F5XG4gKiB0byB0ZWxsIGlzIGlmIHRoZSBgdG91Y2hTdGFydGAgb2NjdXJyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gKiBgb25Nb21lbnR1bVNjcm9sbEVuZGAuXG4gKlxuICogVGhpcyBpcyBhYnN0cmFjdGVkIG91dCBmb3IgeW91LCBzbyB5b3UgY2FuIGp1c3QgY2FsbCB0aGlzLnNjcm9sbFJlc3BvbmRlcklzQW5pbWF0aW5nKCkgaWZcbiAqIG5lY2Vzc2FyeVxuICpcbiAqIGBTY3JvbGxWaWV3YCBhbHNvIGluY2x1ZGVzIGxvZ2ljIGZvciBibHVycmluZyBhIGN1cnJlbnRseSBmb2N1c2VkIGlucHV0XG4gKiBpZiBvbmUgaXMgZm9jdXNlZCB3aGlsZSBzY3JvbGxpbmcuIFRoaXMgaXMgYSBuYXR1cmFsIHBsYWNlXG4gKiB0byBwdXQgdGhpcyBsb2dpYyBzaW5jZSBpdCBjYW4gc3VwcG9ydCBub3QgZGlzbWlzc2luZyB0aGUga2V5Ym9hcmQgd2hpbGVcbiAqIHNjcm9sbGluZywgdW5sZXNzIGEgcmVjb2duaXplZCBcInRhcFwiLWxpa2UgZ2VzdHVyZSBoYXMgb2NjdXJyZWQuXG4gKlxuICogVGhlIHB1YmxpYyBsaWZlY3ljbGUgQVBJIGluY2x1ZGVzIGV2ZW50cyBmb3Iga2V5Ym9hcmQgaW50ZXJhY3Rpb24sIHJlc3BvbmRlclxuICogaW50ZXJhY3Rpb24sIGFuZCBzY3JvbGxpbmcgKGFtb25nIG90aGVycykuIFRoZSBrZXlib2FyZCBjYWxsYmFja3NcbiAqIGBvbktleWJvYXJkV2lsbC9EaWQvKmAgYXJlICpnbG9iYWwqIGV2ZW50cywgYnV0IGFyZSBpbnZva2VkIG9uIHNjcm9sbFxuICogcmVzcG9uZGVyJ3MgcHJvcHMgc28gdGhhdCB5b3UgY2FuIGd1YXJhbnRlZSB0aGF0IHRoZSBzY3JvbGwgcmVzcG9uZGVyJ3NcbiAqIGludGVybmFsIHN0YXRlIGhhcyBiZWVuIHVwZGF0ZWQgYWNjb3JkaW5nbHkgKGFuZCBkZXRlcm1pbmlzdGljYWxseSkgYnlcbiAqIHRoZSB0aW1lIHRoZSBwcm9wcyBjYWxsYmFja3MgYXJlIGludm9rZS4gT3RoZXJ3aXNlLCB5b3Ugd291bGQgYWx3YXlzIHdvbmRlclxuICogaWYgdGhlIHNjcm9sbCByZXNwb25kZXIgaXMgY3VycmVudGx5IGluIGEgc3RhdGUgd2hlcmUgaXQgcmVjb2duaXplcyBuZXdcbiAqIGtleWJvYXJkIHBvc2l0aW9ucyBldGMuIElmIGNvb3JkaW5hdGluZyBzY3JvbGxpbmcgd2l0aCBrZXlib2FyZCBtb3ZlbWVudCxcbiAqICphbHdheXMqIHVzZSB0aGVzZSBob29rcyBpbnN0ZWFkIG9mIGxpc3RlbmluZyB0byB5b3VyIG93biBnbG9iYWwga2V5Ym9hcmRcbiAqIGV2ZW50cy5cbiAqXG4gKiBQdWJsaWMga2V5Ym9hcmQgbGlmZWN5Y2xlIEFQSTogKHByb3BzIGNhbGxiYWNrcylcbiAqXG4gKiBTdGFuZGFyZCBLZXlib2FyZCBBcHBlYXJhbmNlIFNlcXVlbmNlOlxuICpcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3dcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkU2hvd1xuICpcbiAqIGBvblNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlzbWlzc2VkYCB3aWxsIGJlIGludm9rZWQgaWYgYW4gYXBwcm9wcmlhdGVcbiAqIHRhcCBpbnNpZGUgdGhlIHNjcm9sbCByZXNwb25kZXIncyBzY3JvbGxhYmxlIHJlZ2lvbiB3YXMgcmVzcG9uc2libGVcbiAqIGZvciB0aGUgZGlzbWlzc2FsIG9mIHRoZSBrZXlib2FyZC4gVGhlcmUgYXJlIG90aGVyIHJlYXNvbnMgd2h5IHRoZVxuICoga2V5Ym9hcmQgY291bGQgYmUgZGlzbWlzc2VkLlxuICpcbiAqICAgdGhpcy5wcm9wcy5vblNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlzbWlzc2VkXG4gKlxuICogU3RhbmRhcmQgS2V5Ym9hcmQgSGlkZSBTZXF1ZW5jZTpcbiAqXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGVcbiAqL1xuXG4vLyBQdWJsaWMgbWV0aG9kcyBmb3IgU2Nyb2xsVmlld1xuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzID0gJFJlYWRPbmx5PHt8XG4gIGdldFNjcm9sbFJlc3BvbmRlcjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0U2Nyb2xsUmVzcG9uZGVyJz4sXG4gIGdldFNjcm9sbGFibGVOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRTY3JvbGxhYmxlTm9kZSc+LFxuICBnZXRJbm5lclZpZXdOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRJbm5lclZpZXdOb2RlJz4sXG4gIGdldElubmVyVmlld1JlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0SW5uZXJWaWV3UmVmJz4sXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0TmF0aXZlU2Nyb2xsUmVmJz4sXG4gIHNjcm9sbFRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxUbyc+LFxuICBzY3JvbGxUb0VuZDogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnc2Nyb2xsVG9FbmQnPixcbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdmbGFzaFNjcm9sbEluZGljYXRvcnMnPixcbiAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxSZXNwb25kZXJab29tVG8nPixcbiAgc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZDogJFByb3BlcnR5VHlwZTxcbiAgICBTY3JvbGxWaWV3LFxuICAgICdzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkJyxcbiAgPixcbnx9PjtcblxuZXhwb3J0IHR5cGUgU2Nyb2xsUmVzcG9uZGVyVHlwZSA9IFNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kcztcblxudHlwZSBJT1NQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBpT1Mgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYWRqdXN0IHRoZSBjb250ZW50IGluc2V0XG4gICAqIGZvciBzY3JvbGwgdmlld3MgdGhhdCBhcmUgcGxhY2VkIGJlaGluZCBhIG5hdmlnYXRpb24gYmFyIG9yXG4gICAqIHRhYiBiYXIvIHRvb2xiYXIuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RDb250ZW50SW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIGlPUyBzaG91bGQgYXV0b21hdGljYWxseSBhZGp1c3QgdGhlIHNjcm9sbCBpbmRpY2F0b3JcbiAgICogaW5zZXRzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLiBBdmFpbGFibGUgb24gaU9TIDEzIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYXV0b21hdGljYWxseUFkanVzdHNTY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBhbW91bnQgYnkgd2hpY2ggdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQgaXMgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBEZWZhdWx0cyB0byBge3RvcDogMCwgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjb250ZW50SW5zZXQ/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hbnVhbGx5IHNldCB0aGUgc3RhcnRpbmcgc2Nyb2xsIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHt4OiAwLCB5OiAwfWAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRPZmZzZXQ/OiA/UG9pbnRQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZCBvZiB0aGVcbiAgICogY29udGVudCBpZiB0aGUgY29udGVudCBpcyBsYXJnZXIgdGhlbiB0aGUgc2Nyb2xsIHZpZXcgYWxvbmcgdGhlIGF4aXMgb2ZcbiAgICogdGhlIHNjcm9sbCBkaXJlY3Rpb24uIFdoZW4gZmFsc2UsIGl0IGRpc2FibGVzIGFsbCBib3VuY2luZyBldmVuIGlmXG4gICAqIHRoZSBgYWx3YXlzQm91bmNlKmAgcHJvcHMgYXJlIHRydWUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGJvdW5jZXM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQsIFNjcm9sbFZpZXcgaGFzIGFuIGFjdGl2ZSBwYW4gcmVzcG9uZGVyIHRoYXQgaGlqYWNrcyBwYW5yZXNwb25kZXJzXG4gICAqIGRlZXBlciBpbiB0aGUgcmVuZGVyIHRyZWUgaW4gb3JkZXIgdG8gcHJldmVudCBhY2NpZGVudGFsIHRvdWNoZXMgd2hpbGUgc2Nyb2xsaW5nLlxuICAgKiBIb3dldmVyLCBpbiBjZXJ0YWluIG9jY2FzaW9ucyAoc3VjaCBhcyB3aGVuIHVzaW5nIHNuYXBUb0ludGVydmFsKSBpbiBhIHZlcnRpY2FsIHNjcm9sbHZpZXdcbiAgICogWW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhpcyBiZWhhdmlvciBpbiBvcmRlciB0byBwcmV2ZW50IHRoZSBTY3JvbGxWaWV3IGZyb20gYmxvY2tpbmcgdG91Y2hlc1xuICAgKi9cbiAgZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXI/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgZ2VzdHVyZXMgY2FuIGRyaXZlIHpvb20gcGFzdCBtaW4vbWF4IGFuZCB0aGUgem9vbSB3aWxsIGFuaW1hdGVcbiAgICogdG8gdGhlIG1pbi9tYXggdmFsdWUgYXQgZ2VzdHVyZSBlbmQsIG90aGVyd2lzZSB0aGUgem9vbSB3aWxsIG5vdCBleGNlZWRcbiAgICogdGhlIGxpbWl0cy5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlc1pvb20/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgaG9yaXpvbnRhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIHRydWUgd2hlbiBgaG9yaXpvbnRhbD17dHJ1ZX1gIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZUhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgdmVydGljYWxseSB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZFxuICAgKiBldmVuIGlmIHRoZSBjb250ZW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcgaXRzZWxmLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIHRydWUgb3RoZXJ3aXNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhbHdheXNCb3VuY2VWZXJ0aWNhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYXV0b21hdGljYWxseSBjZW50ZXJzIHRoZSBjb250ZW50IHdoZW4gdGhlXG4gICAqIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBib3VuZHM7IHdoZW4gdGhlIGNvbnRlbnQgaXNcbiAgICogbGFyZ2VyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LCB0aGlzIHByb3BlcnR5IGhhcyBubyBlZmZlY3QuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjZW50ZXJDb250ZW50PzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgc3R5bGUgb2YgdGhlIHNjcm9sbCBpbmRpY2F0b3JzLlxuICAgKlxuICAgKiAgIC0gYCdkZWZhdWx0J2AgKHRoZSBkZWZhdWx0KSwgc2FtZSBhcyBgYmxhY2tgLlxuICAgKiAgIC0gYCdibGFjaydgLCBzY3JvbGwgaW5kaWNhdG9yIGlzIGJsYWNrLiBUaGlzIHN0eWxlIGlzIGdvb2QgYWdhaW5zdCBhIGxpZ2h0IGJhY2tncm91bmQuXG4gICAqICAgLSBgJ3doaXRlJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgd2hpdGUuIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgZGFyayBiYWNrZ3JvdW5kLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBpbmRpY2F0b3JTdHlsZT86ID8oJ2RlZmF1bHQnIHwgJ2JsYWNrJyB8ICd3aGl0ZScpLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgU2Nyb2xsVmlldyB3aWxsIHRyeSB0byBsb2NrIHRvIG9ubHkgdmVydGljYWwgb3IgaG9yaXpvbnRhbFxuICAgKiBzY3JvbGxpbmcgd2hpbGUgZHJhZ2dpbmcuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZGlyZWN0aW9uYWxMb2NrRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBmYWxzZSwgb25jZSB0cmFja2luZyBzdGFydHMsIHdvbid0IHRyeSB0byBkcmFnIGlmIHRoZSB0b3VjaCBtb3Zlcy5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY2FuQ2FuY2VsQ29udGVudFRvdWNoZXM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBhZGp1c3QgdGhlIHNjcm9sbCBwb3NpdGlvbiBzbyB0aGF0IHRoZSBmaXJzdCBjaGlsZCB0aGF0IGlzXG4gICAqIGN1cnJlbnRseSB2aXNpYmxlIGFuZCBhdCBvciBiZXlvbmQgYG1pbkluZGV4Rm9yVmlzaWJsZWAgd2lsbCBub3QgY2hhbmdlIHBvc2l0aW9uLiBUaGlzIGlzXG4gICAqIHVzZWZ1bCBmb3IgbGlzdHMgdGhhdCBhcmUgbG9hZGluZyBjb250ZW50IGluIGJvdGggZGlyZWN0aW9ucywgZS5nLiBhIGNoYXQgdGhyZWFkLCB3aGVyZSBuZXdcbiAgICogbWVzc2FnZXMgY29taW5nIGluIG1pZ2h0IG90aGVyd2lzZSBjYXVzZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRvIGp1bXAuIEEgdmFsdWUgb2YgMCBpcyBjb21tb24sXG4gICAqIGJ1dCBvdGhlciB2YWx1ZXMgc3VjaCBhcyAxIGNhbiBiZSB1c2VkIHRvIHNraXAgbG9hZGluZyBzcGlubmVycyBvciBvdGhlciBjb250ZW50IHRoYXQgc2hvdWxkXG4gICAqIG5vdCBtYWludGFpbiBwb3NpdGlvbi5cbiAgICpcbiAgICogVGhlIG9wdGlvbmFsIGBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGRgIGNhbiBiZSB1c2VkIHRvIG1ha2UgdGhlIGNvbnRlbnQgYXV0b21hdGljYWxseSBzY3JvbGxcbiAgICogdG8gdGhlIHRvcCBhZnRlciBtYWtpbmcgdGhlIGFkanVzdG1lbnQgaWYgdGhlIHVzZXIgd2FzIHdpdGhpbiB0aGUgdGhyZXNob2xkIG9mIHRoZSB0b3AgYmVmb3JlXG4gICAqIHRoZSBhZGp1c3RtZW50IHdhcyBtYWRlLiBUaGlzIGlzIGFsc28gdXNlZnVsIGZvciBjaGF0LWxpa2UgYXBwbGljYXRpb25zIHdoZXJlIHlvdSB3YW50IHRvIHNlZVxuICAgKiBuZXcgbWVzc2FnZXMgc2Nyb2xsIGludG8gcGxhY2UsIGJ1dCBub3QgaWYgdGhlIHVzZXIgaGFzIHNjcm9sbGVkIHVwIGEgd2F5cyBhbmQgaXQgd291bGQgYmVcbiAgICogZGlzcnVwdGl2ZSB0byBzY3JvbGwgYSBidW5jaC5cbiAgICpcbiAgICogQ2F2ZWF0IDE6IFJlb3JkZXJpbmcgZWxlbWVudHMgaW4gdGhlIHNjcm9sbHZpZXcgd2l0aCB0aGlzIGVuYWJsZWQgd2lsbCBwcm9iYWJseSBjYXVzZVxuICAgKiBqdW1waW5lc3MgYW5kIGphbmsuIEl0IGNhbiBiZSBmaXhlZCwgYnV0IHRoZXJlIGFyZSBjdXJyZW50bHkgbm8gcGxhbnMgdG8gZG8gc28uIEZvciBub3csXG4gICAqIGRvbid0IHJlLW9yZGVyIHRoZSBjb250ZW50IG9mIGFueSBTY3JvbGxWaWV3cyBvciBMaXN0cyB0aGF0IHVzZSB0aGlzIGZlYXR1cmUuXG4gICAqXG4gICAqIENhdmVhdCAyOiBUaGlzIHNpbXBseSB1c2VzIGBjb250ZW50T2Zmc2V0YCBhbmQgYGZyYW1lLm9yaWdpbmAgaW4gbmF0aXZlIGNvZGUgdG8gY29tcHV0ZVxuICAgKiB2aXNpYmlsaXR5LiBPY2NsdXNpb24sIHRyYW5zZm9ybXMsIGFuZCBvdGhlciBjb21wbGV4aXR5IHdvbid0IGJlIHRha2VuIGludG8gYWNjb3VudCBhcyB0b1xuICAgKiB3aGV0aGVyIGNvbnRlbnQgaXMgXCJ2aXNpYmxlXCIgb3Igbm90LlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/OiA/JFJlYWRPbmx5PHt8XG4gICAgbWluSW5kZXhGb3JWaXNpYmxlOiBudW1iZXIsXG4gICAgYXV0b3Njcm9sbFRvVG9wVGhyZXNob2xkPzogP251bWJlcixcbiAgfH0+LFxuICAvKipcbiAgICogVGhlIG1heGltdW0gYWxsb3dlZCB6b29tIHNjYWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1heGltdW1ab29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhlIG1pbmltdW0gYWxsb3dlZCB6b29tIHNjYWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1pbmltdW1ab29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTY3JvbGxWaWV3IGFsbG93cyB1c2Ugb2YgcGluY2ggZ2VzdHVyZXMgdG8gem9vbSBpbiBhbmQgb3V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBwaW5jaEdlc3R1cmVFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGlzIGNvbnRyb2xzIGhvdyBvZnRlbiB0aGUgc2Nyb2xsIGV2ZW50IHdpbGwgYmUgZmlyZWQgd2hpbGUgc2Nyb2xsaW5nXG4gICAqIChhcyBhIHRpbWUgaW50ZXJ2YWwgaW4gbXMpLiBBIGxvd2VyIG51bWJlciB5aWVsZHMgYmV0dGVyIGFjY3VyYWN5IGZvciBjb2RlXG4gICAqIHRoYXQgaXMgdHJhY2tpbmcgdGhlIHNjcm9sbCBwb3NpdGlvbiwgYnV0IGNhbiBsZWFkIHRvIHNjcm9sbCBwZXJmb3JtYW5jZVxuICAgKiBwcm9ibGVtcyBkdWUgdG8gdGhlIHZvbHVtZSBvZiBpbmZvcm1hdGlvbiBiZWluZyBzZW5kIG92ZXIgdGhlIGJyaWRnZS5cbiAgICpcbiAgICogVmFsdWVzIGJldHdlZW4gMCBhbmQgMTdtcyBpbmRpY2F0ZSA2MGZwcyB1cGRhdGVzIGFyZSBuZWVkZWQgYW5kIHRocm90dGxpbmdcbiAgICogd2lsbCBiZSBkaXNhYmxlZC5cbiAgICpcbiAgICogSWYgeW91IGRvIG5vdCBuZWVkIHByZWNpc2Ugc2Nyb2xsIHBvc2l0aW9uIHRyYWNraW5nLCBzZXQgdGhpcyB2YWx1ZSBoaWdoZXJcbiAgICogdG8gbGltaXQgdGhlIGluZm9ybWF0aW9uIGJlaW5nIHNlbnQgYWNyb3NzIHRoZSBicmlkZ2UuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHplcm8sIHdoaWNoIHJlc3VsdHMgaW4gdGhlIHNjcm9sbCBldmVudCBiZWluZyBzZW50IG9ubHlcbiAgICogb25jZSBlYWNoIHRpbWUgdGhlIHZpZXcgaXMgc2Nyb2xsZWQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbEV2ZW50VGhyb3R0bGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgaW5kaWNhdG9ycyBhcmUgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHNob3VsZCBub3JtYWxseSBiZSBzZXQgdG8gdGhlIHNhbWUgdmFsdWUgYXNcbiAgICogdGhlIGBjb250ZW50SW5zZXRgLiBEZWZhdWx0cyB0byBgezAsIDAsIDAsIDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsSW5kaWNhdG9ySW5zZXRzPzogP0VkZ2VJbnNldHNQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgY2FuIGJlIHByb2dyYW1tYXRpY2FsbHkgc2Nyb2xsZWQgYmV5b25kIGl0c1xuICAgKiBjb250ZW50IHNpemUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxUb092ZXJmbG93RW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3Agd2hlbiB0aGUgc3RhdHVzIGJhciBpcyB0YXBwZWQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbHNUb1RvcD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3AgYWZ0ZXIgdGhlIHN0YXR1cyBiYXIgaGFzIGJlZW4gdGFwcGVkXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG9uU2Nyb2xsVG9Ub3A/OiAoZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIGhvcml6b250YWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzSG9yaXpvbnRhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NhbGUgb2YgdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgem9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGhvdyB0aGUgc2FmZSBhcmVhIGluc2V0cyBhcmUgdXNlZCB0byBtb2RpZnkgdGhlXG4gICAqIGNvbnRlbnQgYXJlYSBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXNcbiAgICogXCJuZXZlclwiLiBBdmFpbGFibGUgb24gaU9TIDExIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0QWRqdXN0bWVudEJlaGF2aW9yPzogPyhcbiAgICB8ICdhdXRvbWF0aWMnXG4gICAgfCAnc2Nyb2xsYWJsZUF4ZXMnXG4gICAgfCAnbmV2ZXInXG4gICAgfCAnYWx3YXlzJ1xuICApLFxufH0+O1xuXG50eXBlIEFuZHJvaWRQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogRW5hYmxlcyBuZXN0ZWQgc2Nyb2xsaW5nIGZvciBBbmRyb2lkIEFQSSBsZXZlbCAyMSsuXG4gICAqIE5lc3RlZCBzY3JvbGxpbmcgaXMgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgb24gaU9TXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBuZXN0ZWRTY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTb21ldGltZXMgYSBzY3JvbGx2aWV3IHRha2VzIHVwIG1vcmUgc3BhY2UgdGhhbiBpdHMgY29udGVudCBmaWxscy4gV2hlbiB0aGlzIGlzXG4gICAqIHRoZSBjYXNlLCB0aGlzIHByb3Agd2lsbCBmaWxsIHRoZSByZXN0IG9mIHRoZSBzY3JvbGx2aWV3IHdpdGggYSBjb2xvciB0byBhdm9pZCBzZXR0aW5nXG4gICAqIGEgYmFja2dyb3VuZCBhbmQgY3JlYXRpbmcgdW5uZWNlc3Nhcnkgb3ZlcmRyYXcuIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW1pemF0aW9uXG4gICAqIHRoYXQgaXMgbm90IG5lZWRlZCBpbiB0aGUgZ2VuZXJhbCBjYXNlLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZW5kRmlsbENvbG9yPzogP0NvbG9yVmFsdWUsXG4gIC8qKlxuICAgKiBUYWcgdXNlZCB0byBsb2cgc2Nyb2xsIHBlcmZvcm1hbmNlIG9uIHRoaXMgc2Nyb2xsIHZpZXcuIFdpbGwgZm9yY2VcbiAgICogbW9tZW50dW0gZXZlbnRzIHRvIGJlIHR1cm5lZCBvbiAoc2VlIHNlbmRNb21lbnR1bUV2ZW50cykuIFRoaXMgZG9lc24ndCBkb1xuICAgKiBhbnl0aGluZyBvdXQgb2YgdGhlIGJveCBhbmQgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgY3VzdG9tIG5hdGl2ZVxuICAgKiBGcHNMaXN0ZW5lciBmb3IgaXQgdG8gYmUgdXNlZnVsLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgc2Nyb2xsUGVyZlRhZz86ID9zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG92ZXJyaWRlIGRlZmF1bHQgdmFsdWUgb2Ygb3ZlclNjcm9sbCBtb2RlLlxuICAgKlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqXG4gICAqICAtIGAnYXV0bydgIC0gRGVmYXVsdCB2YWx1ZSwgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsXG4gICAqICAgIHRoaXMgdmlldyBvbmx5IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlIGVub3VnaCB0byBtZWFuaW5nZnVsbHkgc2Nyb2xsLlxuICAgKiAgLSBgJ2Fsd2F5cydgIC0gQWx3YXlzIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqICAtIGAnbmV2ZXInYCAtIE5ldmVyIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBvdmVyU2Nyb2xsTW9kZT86ID8oJ2F1dG8nIHwgJ2Fsd2F5cycgfCAnbmV2ZXInKSxcbiAgLyoqXG4gICAqIENhdXNlcyB0aGUgc2Nyb2xsYmFycyBub3QgdG8gdHVybiB0cmFuc3BhcmVudCB3aGVuIHRoZXkgYXJlIG5vdCBpbiB1c2UuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcGVyc2lzdGVudFNjcm9sbGJhcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmFkZXMgb3V0IHRoZSBlZGdlcyBvZiB0aGUgdGhlIHNjcm9sbCBjb250ZW50LlxuICAgKlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAsIHRoZSBmYWRpbmcgZWRnZXMgd2lsbCBiZSBzZXQgYWNjb3JkaW5nbHlcbiAgICogdG8gdGhlIGN1cnJlbnQgc2Nyb2xsIGRpcmVjdGlvbiBhbmQgcG9zaXRpb24sXG4gICAqIGluZGljYXRpbmcgaWYgdGhlcmUgaXMgbW9yZSBjb250ZW50IHRvIHNob3cuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDAuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBmYWRpbmdFZGdlTGVuZ3RoPzogP251bWJlcixcbnx9PjtcblxudHlwZSBTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlID0gUmVhY3QuQWJzdHJhY3RDb21wb25lbnQ8XG4gIFNjcm9sbFZpZXdTdGlja3lIZWFkZXJQcm9wcyxcbiAgJFJlYWRPbmx5PGludGVyZmFjZSB7c2V0TmV4dEhlYWRlclk6IG51bWJlciA9PiB2b2lkfT4sXG4+O1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9ICRSZWFkT25seTx7fFxuICAuLi5WaWV3UHJvcHMsXG4gIC4uLklPU1Byb3BzLFxuICAuLi5BbmRyb2lkUHJvcHMsXG5cbiAgLyoqXG4gICAqIFRoZXNlIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQgY29udGFpbmVyIHdoaWNoXG4gICAqIHdyYXBzIGFsbCBvZiB0aGUgY2hpbGQgdmlld3MuIEV4YW1wbGU6XG4gICAqXG4gICAqIGBgYFxuICAgKiByZXR1cm4gKFxuICAgKiAgIDxTY3JvbGxWaWV3IGNvbnRlbnRDb250YWluZXJTdHlsZT17c3R5bGVzLmNvbnRlbnRDb250YWluZXJ9PlxuICAgKiAgIDwvU2Nyb2xsVmlldz5cbiAgICogKTtcbiAgICogLi4uXG4gICAqIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICogICBjb250ZW50Q29udGFpbmVyOiB7XG4gICAqICAgICBwYWRkaW5nVmVydGljYWw6IDIwXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBjb250ZW50Q29udGFpbmVyU3R5bGU/OiA/Vmlld1N0eWxlUHJvcCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIHRoZSBuZXh0IGluZGV4IChpbiByZWxhdGlvbiB0byBzY3JvbGxcbiAgICogcG9zaXRpb24gYXQgcmVsZWFzZSkgcmVnYXJkbGVzcyBvZiBob3cgZmFzdCB0aGUgZ2VzdHVyZSBpcy4gVGhpcyBjYW4gYmVcbiAgICogdXNlZCBmb3IgcGFnaW5hdGlvbiB3aGVuIHRoZSBwYWdlIGlzIGxlc3MgdGhhbiB0aGUgd2lkdGggb2YgdGhlXG4gICAqIGhvcml6b250YWwgU2Nyb2xsVmlldyBvciB0aGUgaGVpZ2h0IG9mIHRoZSB2ZXJ0aWNhbCBTY3JvbGxWaWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGRpc2FibGVJbnRlcnZhbE1vbWVudHVtPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIGZsb2F0aW5nLXBvaW50IG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IHF1aWNrbHkgdGhlIHNjcm9sbCB2aWV3XG4gICAqIGRlY2VsZXJhdGVzIGFmdGVyIHRoZSB1c2VyIGxpZnRzIHRoZWlyIGZpbmdlci4gWW91IG1heSBhbHNvIHVzZSBzdHJpbmdcbiAgICogc2hvcnRjdXRzIGBcIm5vcm1hbFwiYCBhbmQgYFwiZmFzdFwiYCB3aGljaCBtYXRjaCB0aGUgdW5kZXJseWluZyBpT1Mgc2V0dGluZ3NcbiAgICogZm9yIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlTm9ybWFsYCBhbmRcbiAgICogYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVGYXN0YCByZXNwZWN0aXZlbHkuXG4gICAqXG4gICAqICAgLSBgJ25vcm1hbCdgOiAwLjk5OCBvbiBpT1MsIDAuOTg1IG9uIEFuZHJvaWQgKHRoZSBkZWZhdWx0KVxuICAgKiAgIC0gYCdmYXN0J2A6IDAuOTkgb24gaU9TLCAwLjkgb24gQW5kcm9pZFxuICAgKi9cbiAgZGVjZWxlcmF0aW9uUmF0ZT86ID8oJ2Zhc3QnIHwgJ25vcm1hbCcgfCBudW1iZXIpLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcncyBjaGlsZHJlbiBhcmUgYXJyYW5nZWQgaG9yaXpvbnRhbGx5IGluIGEgcm93XG4gICAqIGluc3RlYWQgb2YgdmVydGljYWxseSBpbiBhIGNvbHVtbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBob3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBJZiBzdGlja3kgaGVhZGVycyBzaG91bGQgc3RpY2sgYXQgdGhlIGJvdHRvbSBpbnN0ZWFkIG9mIHRoZSB0b3Agb2YgdGhlXG4gICAqIFNjcm9sbFZpZXcuIFRoaXMgaXMgdXN1YWxseSB1c2VkIHdpdGggaW52ZXJ0ZWQgU2Nyb2xsVmlld3MuXG4gICAqL1xuICBpbnZlcnRTdGlja3lIZWFkZXJzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGtleWJvYXJkIGdldHMgZGlzbWlzc2VkIGluIHJlc3BvbnNlIHRvIGEgZHJhZy5cbiAgICpcbiAgICogKkNyb3NzIHBsYXRmb3JtKlxuICAgKlxuICAgKiAgIC0gYCdub25lJ2AgKHRoZSBkZWZhdWx0KSwgZHJhZ3MgZG8gbm90IGRpc21pc3MgdGhlIGtleWJvYXJkLlxuICAgKiAgIC0gYCdvbi1kcmFnJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgd2hlbiBhIGRyYWcgYmVnaW5zLlxuICAgKlxuICAgKiAqaU9TIE9ubHkqXG4gICAqXG4gICAqICAgLSBgJ2ludGVyYWN0aXZlJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgaW50ZXJhY3RpdmVseSB3aXRoIHRoZSBkcmFnIGFuZCBtb3ZlcyBpblxuICAgKiAgICAgc3luY2hyb255IHdpdGggdGhlIHRvdWNoOyBkcmFnZ2luZyB1cHdhcmRzIGNhbmNlbHMgdGhlIGRpc21pc3NhbC5cbiAgICogICAgIE9uIGFuZHJvaWQgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCBpdCB3aWxsIGhhdmUgdGhlIHNhbWUgYmVoYXZpb3IgYXMgJ25vbmUnLlxuICAgKi9cbiAga2V5Ym9hcmREaXNtaXNzTW9kZT86ID8vLyBkZWZhdWx0XG4gIC8vIGNyb3NzLXBsYXRmb3JtXG4gICgnbm9uZScgfCAnb24tZHJhZycgfCAnaW50ZXJhY3RpdmUnKSwgLy8gaW9zIG9ubHlcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hlbiB0aGUga2V5Ym9hcmQgc2hvdWxkIHN0YXkgdmlzaWJsZSBhZnRlciBhIHRhcC5cbiAgICpcbiAgICogICAtIGAnbmV2ZXInYCAodGhlIGRlZmF1bHQpLCB0YXBwaW5nIG91dHNpZGUgb2YgdGhlIGZvY3VzZWQgdGV4dCBpbnB1dCB3aGVuIHRoZSBrZXlib2FyZFxuICAgKiAgICAgaXMgdXAgZGlzbWlzc2VzIHRoZSBrZXlib2FyZC4gV2hlbiB0aGlzIGhhcHBlbnMsIGNoaWxkcmVuIHdvbid0IHJlY2VpdmUgdGhlIHRhcC5cbiAgICogICAtIGAnYWx3YXlzJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHksIGFuZCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBub3RcbiAgICogICAgIGNhdGNoIHRhcHMsIGJ1dCBjaGlsZHJlbiBvZiB0aGUgc2Nyb2xsIHZpZXcgY2FuIGNhdGNoIHRhcHMuXG4gICAqICAgLSBgJ2hhbmRsZWQnYCwgdGhlIGtleWJvYXJkIHdpbGwgbm90IGRpc21pc3MgYXV0b21hdGljYWxseSB3aGVuIHRoZSB0YXAgd2FzIGhhbmRsZWQgYnlcbiAgICogICAgIGEgY2hpbGRyZW4sIChvciBjYXB0dXJlZCBieSBhbiBhbmNlc3RvcikuXG4gICAqICAgLSBgZmFsc2VgLCBkZXByZWNhdGVkLCB1c2UgJ25ldmVyJyBpbnN0ZWFkXG4gICAqICAgLSBgdHJ1ZWAsIGRlcHJlY2F0ZWQsIHVzZSAnYWx3YXlzJyBpbnN0ZWFkXG4gICAqL1xuICBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPzogPygnYWx3YXlzJyB8ICduZXZlcicgfCAnaGFuZGxlZCcgfCB0cnVlIHwgZmFsc2UpLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBzdGFydHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsQmVnaW4/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgZW5kcyAoc2Nyb2xsIHdoaWNoIG9jY3VycyBhcyB0aGUgU2Nyb2xsVmlldyBnbGlkZXMgdG8gYSBzdG9wKS5cbiAgICovXG4gIG9uTW9tZW50dW1TY3JvbGxFbmQ/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcblxuICAvKipcbiAgICogRmlyZXMgYXQgbW9zdCBvbmNlIHBlciBmcmFtZSBkdXJpbmcgc2Nyb2xsaW5nLiBUaGUgZnJlcXVlbmN5IG9mIHRoZVxuICAgKiBldmVudHMgY2FuIGJlIGNvbnRyb2xsZWQgdXNpbmcgdGhlIGBzY3JvbGxFdmVudFRocm90dGxlYCBwcm9wLlxuICAgKi9cbiAgb25TY3JvbGw/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIGJlZ2lucyB0byBkcmFnIHRoZSBzY3JvbGwgdmlldy5cbiAgICovXG4gIG9uU2Nyb2xsQmVnaW5EcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBzdG9wcyBkcmFnZ2luZyB0aGUgc2Nyb2xsIHZpZXcgYW5kIGl0IGVpdGhlciBzdG9wc1xuICAgKiBvciBiZWdpbnMgdG8gZ2xpZGUuXG4gICAqL1xuICBvblNjcm9sbEVuZERyYWc/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHNjcm9sbGFibGUgY29udGVudCB2aWV3IG9mIHRoZSBTY3JvbGxWaWV3IGNoYW5nZXMuXG4gICAqXG4gICAqIEhhbmRsZXIgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBjb250ZW50IHdpZHRoIGFuZCBjb250ZW50IGhlaWdodCBhcyBwYXJhbWV0ZXJzOlxuICAgKiBgKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClgXG4gICAqXG4gICAqIEl0J3MgaW1wbGVtZW50ZWQgdXNpbmcgb25MYXlvdXQgaGFuZGxlciBhdHRhY2hlZCB0byB0aGUgY29udGVudCBjb250YWluZXJcbiAgICogd2hpY2ggdGhpcyBTY3JvbGxWaWV3IHJlbmRlcnMuXG4gICAqL1xuICBvbkNvbnRlbnRTaXplQ2hhbmdlPzogKGNvbnRlbnRXaWR0aDogbnVtYmVyLCBjb250ZW50SGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmREaWRTaG93PzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkSGlkZT86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZFdpbGxTaG93PzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkV2lsbEhpZGU/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzdG9wcyBvbiBtdWx0aXBsZXMgb2YgdGhlIHNjcm9sbCB2aWV3J3Mgc2l6ZVxuICAgKiB3aGVuIHNjcm9sbGluZy4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgaG9yaXpvbnRhbCBwYWdpbmF0aW9uLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZS5cbiAgICpcbiAgICogTm90ZTogVmVydGljYWwgcGFnaW5hdGlvbiBpcyBub3Qgc3VwcG9ydGVkIG9uIEFuZHJvaWQuXG4gICAqL1xuICBwYWdpbmdFbmFibGVkPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFdoZW4gZmFsc2UsIHRoZSB2aWV3IGNhbm5vdCBiZSBzY3JvbGxlZCB2aWEgdG91Y2ggaW50ZXJhY3Rpb24uXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgdmlldyBjYW4gYWx3YXlzIGJlIHNjcm9sbGVkIGJ5IGNhbGxpbmcgYHNjcm9sbFRvYC5cbiAgICovXG4gIHNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgc2hvd3MgYSB2ZXJ0aWNhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NWZXJ0aWNhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTdGlja3kgaGVhZGVyIGlzIGhpZGRlbiB3aGVuIHNjcm9sbGluZyBkb3duLCBhbmQgZG9jayBhdCB0aGUgdG9wXG4gICAqIHdoZW4gc2Nyb2xsaW5nIHVwXG4gICAqL1xuICBzdGlja3lIZWFkZXJIaWRkZW5PblNjcm9sbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgY2hpbGQgaW5kaWNlcyBkZXRlcm1pbmluZyB3aGljaCBjaGlsZHJlbiBnZXQgZG9ja2VkIHRvIHRoZVxuICAgKiB0b3Agb2YgdGhlIHNjcmVlbiB3aGVuIHNjcm9sbGluZy4gRm9yIGV4YW1wbGUsIHBhc3NpbmdcbiAgICogYHN0aWNreUhlYWRlckluZGljZXM9e1swXX1gIHdpbGwgY2F1c2UgdGhlIGZpcnN0IGNoaWxkIHRvIGJlIGZpeGVkIHRvIHRoZVxuICAgKiB0b3Agb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHByb3BlcnR5IGlzIG5vdCBzdXBwb3J0ZWQgaW4gY29uanVuY3Rpb25cbiAgICogd2l0aCBgaG9yaXpvbnRhbD17dHJ1ZX1gLlxuICAgKi9cbiAgc3RpY2t5SGVhZGVySW5kaWNlcz86ID8kUmVhZE9ubHlBcnJheTxudW1iZXI+LFxuICAvKipcbiAgICogQSBSZWFjdCBDb21wb25lbnQgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVuZGVyIHN0aWNreSBoZWFkZXJzLlxuICAgKiBUbyBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggYHN0aWNreUhlYWRlckluZGljZXNgIG9yIHdpdGggYFNlY3Rpb25MaXN0YCwgZGVmYXVsdHMgdG8gYFNjcm9sbFZpZXdTdGlja3lIZWFkZXJgLlxuICAgKiBZb3UgbWF5IG5lZWQgdG8gc2V0IHRoaXMgaWYgeW91ciBzdGlja3kgaGVhZGVyIHVzZXMgY3VzdG9tIHRyYW5zZm9ybXMgKGVnLiB0cmFuc2xhdGlvbiksXG4gICAqIGZvciBleGFtcGxlIHdoZW4geW91IHdhbnQgeW91ciBsaXN0IHRvIGhhdmUgYW4gYW5pbWF0ZWQgaGlkYWJsZSBoZWFkZXIuXG4gICAqL1xuICBTdGlja3lIZWFkZXJDb21wb25lbnQ/OiBTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlLFxuICAvKipcbiAgICogV2hlbiBgc25hcFRvSW50ZXJ2YWxgIGlzIHNldCwgYHNuYXBUb0FsaWdubWVudGAgd2lsbCBkZWZpbmUgdGhlIHJlbGF0aW9uc2hpcFxuICAgKiBvZiB0aGUgc25hcHBpbmcgdG8gdGhlIHNjcm9sbCB2aWV3LlxuICAgKlxuICAgKiAgIC0gYCdzdGFydCdgICh0aGUgZGVmYXVsdCkgd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgbGVmdCAoaG9yaXpvbnRhbCkgb3IgdG9wICh2ZXJ0aWNhbClcbiAgICogICAtIGAnY2VudGVyJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBpbiB0aGUgY2VudGVyXG4gICAqICAgLSBgJ2VuZCdgIHdpbGwgYWxpZ24gdGhlIHNuYXAgYXQgdGhlIHJpZ2h0IChob3Jpem9udGFsKSBvciBib3R0b20gKHZlcnRpY2FsKVxuICAgKi9cbiAgc25hcFRvQWxpZ25tZW50PzogPygnc3RhcnQnIHwgJ2NlbnRlcicgfCAnZW5kJyksXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2F1c2VzIHRoZSBzY3JvbGwgdmlldyB0byBzdG9wIGF0IG11bHRpcGxlcyBvZiB0aGUgdmFsdWUgb2ZcbiAgICogYHNuYXBUb0ludGVydmFsYC4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgcGFnaW5hdGluZyB0aHJvdWdoIGNoaWxkcmVuXG4gICAqIHRoYXQgaGF2ZSBsZW5ndGhzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcuIFR5cGljYWxseSB1c2VkIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGggYHNuYXBUb0FsaWdubWVudGAgYW5kIGBkZWNlbGVyYXRpb25SYXRlPVwiZmFzdFwiYC5cbiAgICpcbiAgICogT3ZlcnJpZGVzIGxlc3MgY29uZmlndXJhYmxlIGBwYWdpbmdFbmFibGVkYCBwcm9wLlxuICAgKi9cbiAgc25hcFRvSW50ZXJ2YWw/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiBzZXQsIGNhdXNlcyB0aGUgc2Nyb2xsIHZpZXcgdG8gc3RvcCBhdCB0aGUgZGVmaW5lZCBvZmZzZXRzLlxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIGZvciBwYWdpbmF0aW5nIHRocm91Z2ggdmFyaW91c2x5IHNpemVkIGNoaWxkcmVuXG4gICAqIHRoYXQgaGF2ZSBsZW5ndGhzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcuIFR5cGljYWxseSB1c2VkIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGggYGRlY2VsZXJhdGlvblJhdGU9XCJmYXN0XCJgLlxuICAgKlxuICAgKiBPdmVycmlkZXMgbGVzcyBjb25maWd1cmFibGUgYHBhZ2luZ0VuYWJsZWRgIGFuZCBgc25hcFRvSW50ZXJ2YWxgIHByb3BzLlxuICAgKi9cbiAgc25hcFRvT2Zmc2V0cz86ID8kUmVhZE9ubHlBcnJheTxudW1iZXI+LFxuICAvKipcbiAgICogVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgYmVnaW5uaW5nXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb1N0YXJ0YCB0byBmYWxzZSB0byBkaXNhYmxlXG4gICAqIHRoaXMgYmVoYXZpb3IgYW5kIGFsbG93IHRoZSBsaXN0IHRvIHNjcm9sbCBmcmVlbHkgYmV0d2VlbiBpdHMgc3RhcnQgYW5kXG4gICAqIHRoZSBmaXJzdCBgc25hcFRvT2Zmc2V0c2Agb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc25hcFRvU3RhcnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFVzZSBpbiBjb25qdW5jdGlvbiB3aXRoIGBzbmFwVG9PZmZzZXRzYC4gQnkgZGVmYXVsdCwgdGhlIGVuZFxuICAgKiBvZiB0aGUgbGlzdCBjb3VudHMgYXMgYSBzbmFwIG9mZnNldC4gU2V0IGBzbmFwVG9FbmRgIHRvIGZhbHNlIHRvIGRpc2FibGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgYWxsb3cgdGhlIGxpc3QgdG8gc2Nyb2xsIGZyZWVseSBiZXR3ZWVuIGl0cyBlbmQgYW5kXG4gICAqIHRoZSBsYXN0IGBzbmFwVG9PZmZzZXRzYCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzbmFwVG9FbmQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEV4cGVyaW1lbnRhbDogV2hlbiB0cnVlLCBvZmZzY3JlZW4gY2hpbGQgdmlld3MgKHdob3NlIGBvdmVyZmxvd2AgdmFsdWUgaXNcbiAgICogYGhpZGRlbmApIGFyZSByZW1vdmVkIGZyb20gdGhlaXIgbmF0aXZlIGJhY2tpbmcgc3VwZXJ2aWV3IHdoZW4gb2Zmc2NyZWVuLlxuICAgKiBUaGlzIGNhbiBpbXByb3ZlIHNjcm9sbGluZyBwZXJmb3JtYW5jZSBvbiBsb25nIGxpc3RzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpc1xuICAgKiB0cnVlLlxuICAgKi9cbiAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIFJlZnJlc2hDb250cm9sIGNvbXBvbmVudCwgdXNlZCB0byBwcm92aWRlIHB1bGwtdG8tcmVmcmVzaFxuICAgKiBmdW5jdGlvbmFsaXR5IGZvciB0aGUgU2Nyb2xsVmlldy4gT25seSB3b3JrcyBmb3IgdmVydGljYWwgU2Nyb2xsVmlld3NcbiAgICogKGBob3Jpem9udGFsYCBwcm9wIG11c3QgYmUgYGZhbHNlYCkuXG4gICAqXG4gICAqIFNlZSBbUmVmcmVzaENvbnRyb2xdKGRvY3MvcmVmcmVzaGNvbnRyb2wuaHRtbCkuXG4gICAqL1xuICAvKiAkRmxvd0ZpeE1lW3VuY2xlYXItdHlwZV0gLSBob3cgdG8gaGFuZGxlIGdlbmVyaWMgdHlwZSB3aXRob3V0IGV4aXN0ZW50aWFsXG4gICAqIG9wZXJhdG9yPyAqL1xuICByZWZyZXNoQ29udHJvbD86ID9SZWFjdC5FbGVtZW50PGFueT4sXG4gIGNoaWxkcmVuPzogUmVhY3QuTm9kZSxcbiAgLyoqXG4gICAqIEEgcmVmIHRvIHRoZSBpbm5lciBWaWV3IGVsZW1lbnQgb2YgdGhlIFNjcm9sbFZpZXcuIFRoaXMgc2hvdWxkIGJlIHVzZWRcbiAgICogaW5zdGVhZCBvZiBjYWxsaW5nIGBnZXRJbm5lclZpZXdSZWZgLlxuICAgKi9cbiAgaW5uZXJWaWV3UmVmPzogUmVhY3QuUmVmPHR5cGVvZiBWaWV3PixcbiAgLyoqXG4gICAqIEEgcmVmIHRvIHRoZSBOYXRpdmUgU2Nyb2xsVmlldyBjb21wb25lbnQuIFRoaXMgcmVmIGNhbiBiZSB1c2VkIHRvIGNhbGxcbiAgICogYWxsIG9mIFNjcm9sbFZpZXcncyBwdWJsaWMgbWV0aG9kcywgaW4gYWRkaXRpb24gdG8gbmF0aXZlIG1ldGhvZHMgbGlrZVxuICAgKiBtZWFzdXJlLCBtZWFzdXJlTGF5b3V0LCBldGMuXG4gICAqL1xuICBzY3JvbGxWaWV3UmVmPzogUmVhY3QuUmVmPFxuICAgIHR5cGVvZiBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50ICYgU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzLFxuICA+LFxufH0+O1xuXG50eXBlIFN0YXRlID0ge3xcbiAgbGF5b3V0SGVpZ2h0OiA/bnVtYmVyLFxufH07XG5cbmNvbnN0IElTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMgPSAxNjtcblxudHlwZSBTY3JvbGxWaWV3Q29tcG9uZW50U3RhdGljcyA9ICRSZWFkT25seTx7fFxuICBDb250ZXh0OiB0eXBlb2YgU2Nyb2xsVmlld0NvbnRleHQsXG58fT47XG5cbi8qKlxuICogQ29tcG9uZW50IHRoYXQgd3JhcHMgcGxhdGZvcm0gU2Nyb2xsVmlldyB3aGlsZSBwcm92aWRpbmdcbiAqIGludGVncmF0aW9uIHdpdGggdG91Y2ggbG9ja2luZyBcInJlc3BvbmRlclwiIHN5c3RlbS5cbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBTY3JvbGxWaWV3cyBtdXN0IGhhdmUgYSBib3VuZGVkIGhlaWdodCBpbiBvcmRlciB0byB3b3JrLFxuICogc2luY2UgdGhleSBjb250YWluIHVuYm91bmRlZC1oZWlnaHQgY2hpbGRyZW4gaW50byBhIGJvdW5kZWQgY29udGFpbmVyICh2aWFcbiAqIGEgc2Nyb2xsIGludGVyYWN0aW9uKS4gSW4gb3JkZXIgdG8gYm91bmQgdGhlIGhlaWdodCBvZiBhIFNjcm9sbFZpZXcsIGVpdGhlclxuICogc2V0IHRoZSBoZWlnaHQgb2YgdGhlIHZpZXcgZGlyZWN0bHkgKGRpc2NvdXJhZ2VkKSBvciBtYWtlIHN1cmUgYWxsIHBhcmVudFxuICogdmlld3MgaGF2ZSBib3VuZGVkIGhlaWdodC4gRm9yZ2V0dGluZyB0byB0cmFuc2ZlciBge2ZsZXg6IDF9YCBkb3duIHRoZVxuICogdmlldyBzdGFjayBjYW4gbGVhZCB0byBlcnJvcnMgaGVyZSwgd2hpY2ggdGhlIGVsZW1lbnQgaW5zcGVjdG9yIG1ha2VzXG4gKiBlYXN5IHRvIGRlYnVnLlxuICpcbiAqIERvZXNuJ3QgeWV0IHN1cHBvcnQgb3RoZXIgY29udGFpbmVkIHJlc3BvbmRlcnMgZnJvbSBibG9ja2luZyB0aGlzIHNjcm9sbFxuICogdmlldyBmcm9tIGJlY29taW5nIHRoZSByZXNwb25kZXIuXG4gKlxuICpcbiAqIGA8U2Nyb2xsVmlldz5gIHZzIFtgPEZsYXRMaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvZmxhdGxpc3QuaHRtbCkgLSB3aGljaCBvbmUgdG8gdXNlP1xuICpcbiAqIGBTY3JvbGxWaWV3YCBzaW1wbHkgcmVuZGVycyBhbGwgaXRzIHJlYWN0IGNoaWxkIGNvbXBvbmVudHMgYXQgb25jZS4gVGhhdFxuICogbWFrZXMgaXQgdmVyeSBlYXN5IHRvIHVuZGVyc3RhbmQgYW5kIHVzZS5cbiAqXG4gKiBPbiB0aGUgb3RoZXIgaGFuZCwgdGhpcyBoYXMgYSBwZXJmb3JtYW5jZSBkb3duc2lkZS4gSW1hZ2luZSB5b3UgaGF2ZSBhIHZlcnlcbiAqIGxvbmcgbGlzdCBvZiBpdGVtcyB5b3Ugd2FudCB0byBkaXNwbGF5LCBtYXliZSBzZXZlcmFsIHNjcmVlbnMgd29ydGggb2ZcbiAqIGNvbnRlbnQuIENyZWF0aW5nIEpTIGNvbXBvbmVudHMgYW5kIG5hdGl2ZSB2aWV3cyBmb3IgZXZlcnl0aGluZyBhbGwgYXQgb25jZSxcbiAqIG11Y2ggb2Ygd2hpY2ggbWF5IG5vdCBldmVuIGJlIHNob3duLCB3aWxsIGNvbnRyaWJ1dGUgdG8gc2xvdyByZW5kZXJpbmcgYW5kXG4gKiBpbmNyZWFzZWQgbWVtb3J5IHVzYWdlLlxuICpcbiAqIFRoaXMgaXMgd2hlcmUgYEZsYXRMaXN0YCBjb21lcyBpbnRvIHBsYXkuIGBGbGF0TGlzdGAgcmVuZGVycyBpdGVtcyBsYXppbHksXG4gKiBqdXN0IHdoZW4gdGhleSBhcmUgYWJvdXQgdG8gYXBwZWFyLCBhbmQgcmVtb3ZlcyBpdGVtcyB0aGF0IHNjcm9sbCB3YXkgb2ZmXG4gKiBzY3JlZW4gdG8gc2F2ZSBtZW1vcnkgYW5kIHByb2Nlc3NpbmcgdGltZS5cbiAqXG4gKiBgRmxhdExpc3RgIGlzIGFsc28gaGFuZHkgaWYgeW91IHdhbnQgdG8gcmVuZGVyIHNlcGFyYXRvcnMgYmV0d2VlbiB5b3VyIGl0ZW1zLFxuICogbXVsdGlwbGUgY29sdW1ucywgaW5maW5pdGUgc2Nyb2xsIGxvYWRpbmcsIG9yIGFueSBudW1iZXIgb2Ygb3RoZXIgZmVhdHVyZXMgaXRcbiAqIHN1cHBvcnRzIG91dCBvZiB0aGUgYm94LlxuICovXG5jbGFzcyBTY3JvbGxWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBzdGF0aWMgQ29udGV4dDogdHlwZW9mIFNjcm9sbFZpZXdDb250ZXh0ID0gU2Nyb2xsVmlld0NvbnRleHQ7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZSA9IG5ldyBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlKFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50T2Zmc2V0Py55ID8/IDAsXG4gICAgKTtcbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlLnNldE9mZnNldCh0aGlzLnByb3BzLmNvbnRlbnRJbnNldD8udG9wID8/IDApO1xuICB9XG5cbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWU7XG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudDogP3tkZXRhY2g6ICgpID0+IHZvaWQsIC4uLn0gPSBudWxsO1xuICBfc3RpY2t5SGVhZGVyUmVmczogTWFwPFxuICAgIHN0cmluZyxcbiAgICBSZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+LFxuICA+ID0gbmV3IE1hcCgpO1xuICBfaGVhZGVyTGF5b3V0WXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG5cbiAgX2tleWJvYXJkV2lsbE9wZW5UbzogP0tleWJvYXJkRXZlbnQgPSBudWxsO1xuICBfYWRkaXRpb25hbFNjcm9sbE9mZnNldDogbnVtYmVyID0gMDtcbiAgX2lzVG91Y2hpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZTogbnVtYmVyID0gMDtcbiAgX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWU6IG51bWJlciA9IDA7XG5cbiAgLy8gUmVzZXQgdG8gZmFsc2UgZXZlcnkgdGltZSBiZWNvbWVzIHJlc3BvbmRlci4gVGhpcyBpcyB1c2VkIHRvOlxuICAvLyAtIERldGVybWluZSBpZiB0aGUgc2Nyb2xsIHZpZXcgaGFzIGJlZW4gc2Nyb2xsZWQgYW5kIHRoZXJlZm9yZSBzaG91bGRcbiAgLy8gcmVmdXNlIHRvIGdpdmUgdXAgaXRzIHJlc3BvbmRlciBsb2NrLlxuICAvLyAtIERldGVybWluZSBpZiByZWxlYXNpbmcgc2hvdWxkIGRpc21pc3MgdGhlIGtleWJvYXJkIHdoZW4gd2UgYXJlIGluXG4gIC8vIHRhcC10by1kaXNtaXNzIG1vZGUgKHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gJ2Fsd2F5cycpLlxuICBfb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyOiBib29sZWFuID0gZmFsc2U7XG4gIF9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBfcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0OiA/Ym9vbGVhbiA9IG51bGw7XG5cbiAgX2FuaW1hdGVkID0gbnVsbDtcblxuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdzogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGU6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3c6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGU6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG5cbiAgc3RhdGU6IFN0YXRlID0ge1xuICAgIGxheW91dEhlaWdodDogbnVsbCxcbiAgfTtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGAna2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz17JHtcbiAgICAgICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09IHRydWUgPyAndHJ1ZScgOiAnZmFsc2UnXG4gICAgICAgIH19JyBpcyBkZXByZWNhdGVkLiBgICtcbiAgICAgICAgICBgVXNlICdrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPVwiJHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA/ICdhbHdheXMnIDogJ25ldmVyJ1xuICAgICAgICAgIH1cIicgaW5zdGVhZGAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuX2tleWJvYXJkV2lsbE9wZW5UbyA9IG51bGw7XG4gICAgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldCA9IDA7XG5cbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93ID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmRXaWxsU2hvdycsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3csXG4gICAgKTtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmRXaWxsSGlkZScsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbEhpZGUsXG4gICAgKTtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3cgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZERpZFNob3cnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZFNob3csXG4gICAgKTtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZERpZEhpZGUnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZEhpZGUsXG4gICAgKTtcblxuICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3QgcHJldkNvbnRlbnRJbnNldFRvcCA9IHByZXZQcm9wcy5jb250ZW50SW5zZXRcbiAgICAgID8gcHJldlByb3BzLmNvbnRlbnRJbnNldC50b3BcbiAgICAgIDogMDtcbiAgICBjb25zdCBuZXdDb250ZW50SW5zZXRUb3AgPSB0aGlzLnByb3BzLmNvbnRlbnRJbnNldFxuICAgICAgPyB0aGlzLnByb3BzLmNvbnRlbnRJbnNldC50b3BcbiAgICAgIDogMDtcbiAgICBpZiAocHJldkNvbnRlbnRJbnNldFRvcCAhPT0gbmV3Q29udGVudEluc2V0VG9wKSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlLnNldE9mZnNldChuZXdDb250ZW50SW5zZXRUb3AgfHwgMCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3cgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdy5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZS5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3cucmVtb3ZlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICB9XG5cbiAgX3NldE5hdGl2ZVJlZiA9IHNldEFuZEZvcndhcmRSZWYoe1xuICAgIGdldEZvcndhcmRlZFJlZjogKCkgPT4gdGhpcy5wcm9wcy5zY3JvbGxWaWV3UmVmLFxuICAgIHNldExvY2FsUmVmOiByZWYgPT4ge1xuICAgICAgdGhpcy5fc2Nyb2xsVmlld1JlZiA9IHJlZjtcblxuICAgICAgLypcbiAgICAgICAgVGhpcyBpcyBhIGhhY2suIElkZWFsbHkgd2Ugd291bGQgZm9yd2FyZFJlZiB0byB0aGUgdW5kZXJseWluZ1xuICAgICAgICBob3N0IGNvbXBvbmVudC4gSG93ZXZlciwgc2luY2UgU2Nyb2xsVmlldyBoYXMgaXQncyBvd24gbWV0aG9kcyB0aGF0IGNhbiBiZVxuICAgICAgICBjYWxsZWQgYXMgd2VsbCwgaWYgd2UgdXNlZCB0aGUgc3RhbmRhcmQgZm9yd2FyZFJlZiB0aGVuIHRoZXNlXG4gICAgICAgIG1ldGhvZHMgd291bGRuJ3QgYmUgYWNjZXNzaWJsZSBhbmQgdGh1cyBiZSBhIGJyZWFraW5nIGNoYW5nZS5cblxuICAgICAgICBUaGVyZWZvcmUgd2UgZWRpdCByZWYgdG8gaW5jbHVkZSBTY3JvbGxWaWV3J3MgcHVibGljIG1ldGhvZHMgc28gdGhhdFxuICAgICAgICB0aGV5IGFyZSBjYWxsYWJsZSBmcm9tIHRoZSByZWYuXG4gICAgICAqL1xuICAgICAgaWYgKHJlZikge1xuICAgICAgICByZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyID0gdGhpcy5nZXRTY3JvbGxSZXNwb25kZXI7XG4gICAgICAgIHJlZi5nZXRTY3JvbGxhYmxlTm9kZSA9IHRoaXMuZ2V0U2Nyb2xsYWJsZU5vZGU7XG4gICAgICAgIHJlZi5nZXRJbm5lclZpZXdOb2RlID0gdGhpcy5nZXRJbm5lclZpZXdOb2RlO1xuICAgICAgICByZWYuZ2V0SW5uZXJWaWV3UmVmID0gdGhpcy5nZXRJbm5lclZpZXdSZWY7XG4gICAgICAgIHJlZi5nZXROYXRpdmVTY3JvbGxSZWYgPSB0aGlzLmdldE5hdGl2ZVNjcm9sbFJlZjtcbiAgICAgICAgcmVmLnNjcm9sbFRvID0gdGhpcy5zY3JvbGxUbztcbiAgICAgICAgcmVmLnNjcm9sbFRvRW5kID0gdGhpcy5zY3JvbGxUb0VuZDtcbiAgICAgICAgcmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycyA9IHRoaXMuZmxhc2hTY3JvbGxJbmRpY2F0b3JzO1xuICAgICAgICByZWYuc2Nyb2xsUmVzcG9uZGVyWm9vbVRvID0gdGhpcy5zY3JvbGxSZXNwb25kZXJab29tVG87XG4gICAgICAgIHJlZi5zY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkID0gdGhpcy5zY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIsIHdoaWNoIHN1cHBvcnRzXG4gICAqIG9wZXJhdGlvbnMgbGlrZSBgc2Nyb2xsVG9gLiBBbGwgU2Nyb2xsVmlldy1saWtlIGNvbXBvbmVudHMgc2hvdWxkXG4gICAqIGltcGxlbWVudCB0aGlzIG1ldGhvZCBzbyB0aGF0IHRoZXkgY2FuIGJlIGNvbXBvc2VkIHdoaWxlIHByb3ZpZGluZyBhY2Nlc3NcbiAgICogdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlcidzIG1ldGhvZHMuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXI6ICgpID0+IFNjcm9sbFJlc3BvbmRlclR5cGUgPSAoKSA9PiB7XG4gICAgLy8gJEZsb3dGaXhNZVt1bmNsZWFyLXR5cGVdXG4gICAgcmV0dXJuICgodGhpczogYW55KTogU2Nyb2xsUmVzcG9uZGVyVHlwZSk7XG4gIH07XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGU6ICgpID0+ID9udW1iZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFZpZXdSZWYpO1xuICB9O1xuXG4gIGdldElubmVyVmlld05vZGU6ICgpID0+ID9udW1iZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX2lubmVyVmlld1JlZik7XG4gIH07XG5cbiAgZ2V0SW5uZXJWaWV3UmVmOiAoKSA9PiA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlldz4gPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lubmVyVmlld1JlZjtcbiAgfTtcblxuICBnZXROYXRpdmVTY3JvbGxSZWY6ICgpID0+ID9SZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+PiA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsVmlld1JlZjtcbiAgfTtcblxuICAvKipcbiAgICogU2Nyb2xscyB0byBhIGdpdmVuIHgsIHkgb2Zmc2V0LCBlaXRoZXIgaW1tZWRpYXRlbHkgb3Igd2l0aCBhIHNtb290aCBhbmltYXRpb24uXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqIGBzY3JvbGxUbyh7eDogMCwgeTogMCwgYW5pbWF0ZWQ6IHRydWV9KWBcbiAgICpcbiAgICogTm90ZTogVGhlIHdlaXJkIGZ1bmN0aW9uIHNpZ25hdHVyZSBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCwgZm9yIGhpc3RvcmljYWwgcmVhc29ucyxcbiAgICogdGhlIGZ1bmN0aW9uIGFsc28gYWNjZXB0cyBzZXBhcmF0ZSBhcmd1bWVudHMgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIGRlcHJlY2F0ZWQgZHVlIHRvIGFtYmlndWl0eSAoeSBiZWZvcmUgeCksIGFuZCBTSE9VTEQgTk9UIEJFIFVTRUQuXG4gICAqL1xuICBzY3JvbGxUbzogKFxuICAgIG9wdGlvbnM/OlxuICAgICAgfCB7XG4gICAgICAgICAgeD86IG51bWJlcixcbiAgICAgICAgICB5PzogbnVtYmVyLFxuICAgICAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICAgICAgICAuLi5cbiAgICAgICAgfVxuICAgICAgfCBudW1iZXIsXG4gICAgZGVwcmVjYXRlZFg/OiBudW1iZXIsXG4gICAgZGVwcmVjYXRlZEFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSA9PiB2b2lkID0gKFxuICAgIG9wdGlvbnM/OlxuICAgICAgfCB7XG4gICAgICAgICAgeD86IG51bWJlcixcbiAgICAgICAgICB5PzogbnVtYmVyLFxuICAgICAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICAgICAgICAuLi5cbiAgICAgICAgfVxuICAgICAgfCBudW1iZXIsXG4gICAgZGVwcmVjYXRlZFg/OiBudW1iZXIsXG4gICAgZGVwcmVjYXRlZEFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgbGV0IHgsIHksIGFuaW1hdGVkO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ2BzY3JvbGxUbyh5LCB4LCBhbmltYXRlZClgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgc2Nyb2xsVG8oe3g6IDUsIHk6IDUsICcgK1xuICAgICAgICAgICdhbmltYXRlZDogdHJ1ZX0pYCBpbnN0ZWFkLicsXG4gICAgICApO1xuICAgICAgeSA9IG9wdGlvbnM7XG4gICAgICB4ID0gZGVwcmVjYXRlZFg7XG4gICAgICBhbmltYXRlZCA9IGRlcHJlY2F0ZWRBbmltYXRlZDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gICAgICB4ID0gb3B0aW9ucy54O1xuICAgICAgYW5pbWF0ZWQgPSBvcHRpb25zLmFuaW1hdGVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc2Nyb2xsVmlld1JlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnNjcm9sbFRvKHRoaXMuX3Njcm9sbFZpZXdSZWYsIHggfHwgMCwgeSB8fCAwLCBhbmltYXRlZCAhPT0gZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIGEgdmVydGljYWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSBib3R0b20uXG4gICAqIElmIHRoaXMgaXMgYSBob3Jpem9udGFsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgcmlnaHQuXG4gICAqXG4gICAqIFVzZSBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiB0cnVlfSlgIGZvciBzbW9vdGggYW5pbWF0ZWQgc2Nyb2xsaW5nLFxuICAgKiBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiBmYWxzZX0pYCBmb3IgaW1tZWRpYXRlIHNjcm9sbGluZy5cbiAgICogSWYgbm8gb3B0aW9ucyBhcmUgcGFzc2VkLCBgYW5pbWF0ZWRgIGRlZmF1bHRzIHRvIHRydWUuXG4gICAqL1xuICBzY3JvbGxUb0VuZDogKG9wdGlvbnM/OiA/e2FuaW1hdGVkPzogYm9vbGVhbiwgLi4ufSkgPT4gdm9pZCA9IChcbiAgICBvcHRpb25zPzogP3thbmltYXRlZD86IGJvb2xlYW4sIC4uLn0sXG4gICkgPT4ge1xuICAgIC8vIERlZmF1bHQgdG8gdHJ1ZVxuICAgIGNvbnN0IGFuaW1hdGVkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlZCkgIT09IGZhbHNlO1xuICAgIGlmICh0aGlzLl9zY3JvbGxWaWV3UmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuc2Nyb2xsVG9FbmQodGhpcy5fc2Nyb2xsVmlld1JlZiwgYW5pbWF0ZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgc2Nyb2xsIGluZGljYXRvcnMgbW9tZW50YXJpbHkuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9yczogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsVmlld1JlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycyh0aGlzLl9zY3JvbGxWaWV3UmVmKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGNhbGxiYWNrIHRvIG9uRm9jdXMgaW4gYSBUZXh0SW5wdXRzJ1xuICAgKiBwYXJlbnQgdmlldy4gTm90ZSB0aGF0IGFueSBtb2R1bGUgdXNpbmcgdGhpcyBtaXhpbiBuZWVkcyB0byByZXR1cm5cbiAgICogdGhlIHBhcmVudCB2aWV3J3MgcmVmIGluIGdldFNjcm9sbFZpZXdSZWYoKSBpbiBvcmRlciB0byB1c2UgdGhpcyBtZXRob2QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBub2RlSGFuZGxlIFRoZSBUZXh0SW5wdXQgbm9kZSBoYW5kbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGl0aW9uYWxPZmZzZXQgVGhlIHNjcm9sbCB2aWV3J3MgYm90dG9tIFwiY29udGVudEluc2V0XCIuXG4gICAqICAgICAgICBEZWZhdWx0IGlzIDAuXG4gICAqIEBwYXJhbSB7Ym9vbH0gcHJldmVudE5lZ2F0aXZlU2Nyb2xsaW5nIFdoZXRoZXIgdG8gYWxsb3cgcHVsbGluZyB0aGUgY29udGVudFxuICAgKiAgICAgICAgZG93biB0byBtYWtlIGl0IG1lZXQgdGhlIGtleWJvYXJkJ3MgdG9wLiBEZWZhdWx0IGlzIGZhbHNlLlxuICAgKi9cbiAgc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZDogPFQ+KFxuICAgIG5vZGVIYW5kbGU6IG51bWJlciB8IFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxUPj4sXG4gICAgYWRkaXRpb25hbE9mZnNldD86IG51bWJlcixcbiAgICBwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ/OiBib29sZWFuLFxuICApID0+IHZvaWQgPSA8VD4oXG4gICAgbm9kZUhhbmRsZTogbnVtYmVyIHwgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PFQ+PixcbiAgICBhZGRpdGlvbmFsT2Zmc2V0PzogbnVtYmVyLFxuICAgIHByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldD86IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQgPSBhZGRpdGlvbmFsT2Zmc2V0IHx8IDA7XG4gICAgdGhpcy5fcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0ID0gISFwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5faW5uZXJWaWV3UmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5vZGVIYW5kbGUgPT09ICdudW1iZXInKSB7XG4gICAgICBVSU1hbmFnZXIubWVhc3VyZUxheW91dChcbiAgICAgICAgbm9kZUhhbmRsZSxcbiAgICAgICAgUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUodGhpcyksXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ10gYWRkZWQgd2hlbiBpbXByb3ZpbmcgdHlwaW5nIGZvciB0aGlzIHBhcmFtZXRlcnNcbiAgICAgICAgdGhpcy5fdGV4dElucHV0Rm9jdXNFcnJvcixcbiAgICAgICAgdGhpcy5faW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZCxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGVIYW5kbGUubWVhc3VyZUxheW91dChcbiAgICAgICAgdGhpcy5faW5uZXJWaWV3UmVmLFxuICAgICAgICB0aGlzLl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkLFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddIGFkZGVkIHdoZW4gaW1wcm92aW5nIHR5cGluZyBmb3IgdGhpcyBwYXJhbWV0ZXJzXG4gICAgICAgIHRoaXMuX3RleHRJbnB1dEZvY3VzRXJyb3IsXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQSBoZWxwZXIgZnVuY3Rpb24gdG8gem9vbSB0byBhIHNwZWNpZmljIHJlY3QgaW4gdGhlIHNjcm9sbHZpZXcuIFRoZSBhcmd1bWVudCBoYXMgdGhlIHNoYXBlXG4gICAqIHt4OiBudW1iZXI7IHk6IG51bWJlcjsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXI7IGFuaW1hdGVkOiBib29sZWFuID0gdHJ1ZX1cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAoXG4gICAgcmVjdDoge3xcbiAgICAgIHg6IG51bWJlcixcbiAgICAgIHk6IG51bWJlcixcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICB8fSxcbiAgICBhbmltYXRlZD86IGJvb2xlYW4sIC8vIGRlcHJlY2F0ZWQsIHB1dCB0aGlzIGluc2lkZSB0aGUgcmVjdCBhcmd1bWVudCBpbnN0ZWFkXG4gICkgPT4gdm9pZCA9IChcbiAgICByZWN0OiB7fFxuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgIHx9LFxuICAgIGFuaW1hdGVkPzogYm9vbGVhbiwgLy8gZGVwcmVjYXRlZCwgcHV0IHRoaXMgaW5zaWRlIHRoZSByZWN0IGFyZ3VtZW50IGluc3RlYWRcbiAgKSA9PiB7XG4gICAgaW52YXJpYW50KFBsYXRmb3JtLk9TID09PSAnaW9zJywgJ3pvb21Ub1JlY3QgaXMgbm90IGltcGxlbWVudGVkJyk7XG4gICAgaWYgKCdhbmltYXRlZCcgaW4gcmVjdCkge1xuICAgICAgdGhpcy5fYW5pbWF0ZWQgPSByZWN0LmFuaW1hdGVkO1xuICAgICAgZGVsZXRlIHJlY3QuYW5pbWF0ZWQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYW5pbWF0ZWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvYCBgYW5pbWF0ZWRgIGFyZ3VtZW50IGlzIGRlcHJlY2F0ZWQuIFVzZSBgb3B0aW9ucy5hbmltYXRlZGAgaW5zdGVhZCcsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxWaWV3UmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuem9vbVRvUmVjdCh0aGlzLl9zY3JvbGxWaWV3UmVmLCByZWN0LCBhbmltYXRlZCAhPT0gZmFsc2UpO1xuICB9O1xuXG4gIF90ZXh0SW5wdXRGb2N1c0Vycm9yKCkge1xuICAgIGNvbnNvbGUud2FybignRXJyb3IgbWVhc3VyaW5nIHRleHQgZmllbGQuJyk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNhbGN1bGF0aW9ucyBwZXJmb3JtZWQgaGVyZSBhc3N1bWUgdGhlIHNjcm9sbCB2aWV3IHRha2VzIHVwIHRoZSBlbnRpcmVcbiAgICogc2NyZWVuIC0gZXZlbiBpZiBoYXMgc29tZSBjb250ZW50IGluc2V0LiBXZSB0aGVuIG1lYXN1cmUgdGhlIG9mZnNldHMgb2YgdGhlXG4gICAqIGtleWJvYXJkLCBhbmQgY29tcGVuc2F0ZSBib3RoIGZvciB0aGUgc2Nyb2xsIHZpZXcncyBcImNvbnRlbnRJbnNldFwiLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCBQb3NpdGlvbiBvZiBpbnB1dCB3LnIudC4gdGFibGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvcCBQb3NpdGlvbiBvZiBpbnB1dCB3LnIudC4gdGFibGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgdGV4dCBpbnB1dC5cbiAgICovXG4gIF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkOiAoXG4gICAgbGVmdDogbnVtYmVyLFxuICAgIHRvcDogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICkgPT4gdm9pZCA9IChsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIGxldCBrZXlib2FyZFNjcmVlblkgPSBEaW1lbnNpb25zLmdldCgnd2luZG93JykuaGVpZ2h0O1xuXG4gICAgY29uc3Qgc2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0ID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2tleWJvYXJkV2lsbE9wZW5UbyAhPSBudWxsKSB7XG4gICAgICAgIGtleWJvYXJkU2NyZWVuWSA9IHRoaXMuX2tleWJvYXJkV2lsbE9wZW5Uby5lbmRDb29yZGluYXRlcy5zY3JlZW5ZO1xuICAgICAgfVxuICAgICAgbGV0IHNjcm9sbE9mZnNldFkgPVxuICAgICAgICB0b3AgLSBrZXlib2FyZFNjcmVlblkgKyBoZWlnaHQgKyB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0O1xuXG4gICAgICAvLyBCeSBkZWZhdWx0LCB0aGlzIGNhbiBzY3JvbGwgd2l0aCBuZWdhdGl2ZSBvZmZzZXQsIHB1bGxpbmcgdGhlIGNvbnRlbnRcbiAgICAgIC8vIGRvd24gc28gdGhhdCB0aGUgdGFyZ2V0IGNvbXBvbmVudCdzIGJvdHRvbSBtZWV0cyB0aGUga2V5Ym9hcmQncyB0b3AuXG4gICAgICAvLyBJZiByZXF1ZXN0ZWQgb3RoZXJ3aXNlLCBjYXAgdGhlIG9mZnNldCBhdCAwIG1pbmltdW0gdG8gYXZvaWQgY29udGVudFxuICAgICAgLy8gc2hpZnRpbmcgZG93bi5cbiAgICAgIGlmICh0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgc2Nyb2xsT2Zmc2V0WSA9IE1hdGgubWF4KDAsIHNjcm9sbE9mZnNldFkpO1xuICAgICAgfVxuICAgICAgdGhpcy5zY3JvbGxUbyh7eDogMCwgeTogc2Nyb2xsT2Zmc2V0WSwgYW5pbWF0ZWQ6IHRydWV9KTtcblxuICAgICAgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldCA9IDA7XG4gICAgICB0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuX2tleWJvYXJkV2lsbE9wZW5UbyA9PSBudWxsKSB7XG4gICAgICAvLyBgX2tleWJvYXJkV2lsbE9wZW5Ub2AgaXMgc2V0IGluc2lkZSBgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvd2Agd2hpY2hcbiAgICAgIC8vIGlzIG5vdCBndWFyYW50ZWVkIHRvIGJlIGNhbGxlZCBiZWZvcmUgYF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkYCBidXQgbmF0aXZlIGhhcyBhbHJlYWR5IHNjaGVkdWxlZCBpdC5cbiAgICAgIC8vIEluIGNhc2UgaXQgd2FzIG5vdCBjYWxsZWQgYmVmb3JlIGBfaW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZGAsIHdlIHBvc3Rwb25lIHNjcm9sbGluZyB0b1xuICAgICAgLy8gdGV4dCBpbnB1dC5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QoKTtcbiAgICAgIH0sIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QoKTtcbiAgICB9XG4gIH07XG5cbiAgX2dldEtleUZvckluZGV4KGluZGV4LCBjaGlsZEFycmF5KSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZEFycmF5W2luZGV4XTtcbiAgICByZXR1cm4gY2hpbGQgJiYgY2hpbGQua2V5O1xuICB9XG5cbiAgX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50KSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudC5kZXRhY2goKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzICYmXG4gICAgICB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQgPSBBbmltYXRlZEltcGxlbWVudGF0aW9uLmF0dGFjaE5hdGl2ZUV2ZW50KFxuICAgICAgICB0aGlzLl9zY3JvbGxWaWV3UmVmLFxuICAgICAgICAnb25TY3JvbGwnLFxuICAgICAgICBbe25hdGl2ZUV2ZW50OiB7Y29udGVudE9mZnNldDoge3k6IHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9fX1dLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfc2V0U3RpY2t5SGVhZGVyUmVmKFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJlZjogP1JlYWN0LkVsZW1lbnRSZWY8U3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZT4sXG4gICkge1xuICAgIGlmIChyZWYpIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuc2V0KGtleSwgcmVmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5kZWxldGUoa2V5KTtcbiAgICB9XG4gIH1cblxuICBfb25TdGlja3lIZWFkZXJMYXlvdXQoaW5kZXgsIGV2ZW50LCBrZXkpIHtcbiAgICBjb25zdCB7c3RpY2t5SGVhZGVySW5kaWNlc30gPSB0aGlzLnByb3BzO1xuICAgIGlmICghc3RpY2t5SGVhZGVySW5kaWNlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZEFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICBpZiAoa2V5ICE9PSB0aGlzLl9nZXRLZXlGb3JJbmRleChpbmRleCwgY2hpbGRBcnJheSkpIHtcbiAgICAgIC8vIGlnbm9yZSBzdGFsZSBsYXlvdXQgdXBkYXRlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbGF5b3V0WSA9IGV2ZW50Lm5hdGl2ZUV2ZW50LmxheW91dC55O1xuICAgIHRoaXMuX2hlYWRlckxheW91dFlzLnNldChrZXksIGxheW91dFkpO1xuXG4gICAgY29uc3QgaW5kZXhPZkluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlcy5pbmRleE9mKGluZGV4KTtcbiAgICBjb25zdCBwcmV2aW91c0hlYWRlckluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlc1tpbmRleE9mSW5kZXggLSAxXTtcbiAgICBpZiAocHJldmlvdXNIZWFkZXJJbmRleCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBwcmV2aW91c0hlYWRlciA9IHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZ2V0KFxuICAgICAgICB0aGlzLl9nZXRLZXlGb3JJbmRleChwcmV2aW91c0hlYWRlckluZGV4LCBjaGlsZEFycmF5KSxcbiAgICAgICk7XG4gICAgICBwcmV2aW91c0hlYWRlciAmJlxuICAgICAgICBwcmV2aW91c0hlYWRlci5zZXROZXh0SGVhZGVyWSAmJlxuICAgICAgICBwcmV2aW91c0hlYWRlci5zZXROZXh0SGVhZGVyWShsYXlvdXRZKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlU2Nyb2xsID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wcm9wcy5vblNjcm9sbCAmJlxuICAgICAgICB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUgPT0gbnVsbCAmJlxuICAgICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2lvcydcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAnWW91IHNwZWNpZmllZCBgb25TY3JvbGxgIG9uIGEgPFNjcm9sbFZpZXc+IGJ1dCBub3QgJyArXG4gICAgICAgICAgICAnYHNjcm9sbEV2ZW50VGhyb3R0bGVgLiBZb3Ugd2lsbCBvbmx5IHJlY2VpdmUgb25lIGV2ZW50LiAnICtcbiAgICAgICAgICAgICdVc2luZyBgMTZgIHlvdSBnZXQgYWxsIHRoZSBldmVudHMgYnV0IGJlIGF3YXJlIHRoYXQgaXQgbWF5ICcgK1xuICAgICAgICAgICAgXCJjYXVzZSBmcmFtZSBkcm9wcywgdXNlIGEgYmlnZ2VyIG51bWJlciBpZiB5b3UgZG9uJ3QgbmVlZCBhcyBcIiArXG4gICAgICAgICAgICAnbXVjaCBwcmVjaXNpb24uJyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsICYmIHRoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gIH07XG5cbiAgX2hhbmRsZUxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnMgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2xheW91dEhlaWdodDogZS5uYXRpdmVFdmVudC5sYXlvdXQuaGVpZ2h0fSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIH1cbiAgfTtcblxuICBfaGFuZGxlQ29udGVudE9uTGF5b3V0ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlICYmXG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2Uod2lkdGgsIGhlaWdodCk7XG4gIH07XG5cbiAgX3Njcm9sbFZpZXdSZWY6ID9SZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+PiA9IG51bGw7XG5cbiAgX2lubmVyVmlld1JlZjogP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpZXc+ID0gbnVsbDtcbiAgX3NldElubmVyVmlld1JlZiA9IHNldEFuZEZvcndhcmRSZWYoe1xuICAgIGdldEZvcndhcmRlZFJlZjogKCkgPT4gdGhpcy5wcm9wcy5pbm5lclZpZXdSZWYsXG4gICAgc2V0TG9jYWxSZWY6IHJlZiA9PiB7XG4gICAgICB0aGlzLl9pbm5lclZpZXdSZWYgPSByZWY7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFdhcm5pbmcsIHRoaXMgbWF5IGJlIGNhbGxlZCBzZXZlcmFsIHRpbWVzIGZvciBhIHNpbmdsZSBrZXlib2FyZCBvcGVuaW5nLlxuICAgKiBJdCdzIGJlc3QgdG8gc3RvcmUgdGhlIGluZm9ybWF0aW9uIGluIHRoaXMgbWV0aG9kIGFuZCB0aGVuIHRha2UgYW55IGFjdGlvblxuICAgKiBhdCBhIGxhdGVyIHBvaW50IChlaXRoZXIgaW4gYGtleWJvYXJkRGlkU2hvd2Agb3Igb3RoZXIpLlxuICAgKlxuICAgKiBIZXJlJ3MgdGhlIG9yZGVyIHRoYXQgZXZlbnRzIG9jY3VyIGluOlxuICAgKiAtIGZvY3VzXG4gICAqIC0gd2lsbFNob3cge3N0YXJ0Q29vcmRpbmF0ZXMsIGVuZENvb3JkaW5hdGVzfSBzZXZlcmFsIHRpbWVzXG4gICAqIC0gZGlkU2hvdyBzZXZlcmFsIHRpbWVzXG4gICAqIC0gYmx1clxuICAgKiAtIHdpbGxIaWRlIHtzdGFydENvb3JkaW5hdGVzLCBlbmRDb29yZGluYXRlc30gc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGRpZEhpZGUgc2V2ZXJhbCB0aW1lc1xuICAgKlxuICAgKiBUaGUgYFNjcm9sbFJlc3BvbmRlcmAgbW9kdWxlIGNhbGxiYWNrcyBmb3IgZWFjaCBvZiB0aGVzZSBldmVudHMuXG4gICAqIEV2ZW4gdGhvdWdoIGFueSB1c2VyIGNvdWxkIGhhdmUgZWFzaWx5IGxpc3RlbmVkIHRvIGtleWJvYXJkIGV2ZW50c1xuICAgKiB0aGVtc2VsdmVzLCB1c2luZyB0aGVzZSBgcHJvcHNgIGNhbGxiYWNrcyBlbnN1cmVzIHRoYXQgb3JkZXJpbmcgb2YgZXZlbnRzXG4gICAqIGlzIGNvbnNpc3RlbnQgLSBhbmQgbm90IGRlcGVuZGVudCBvbiB0aGUgb3JkZXIgdGhhdCB0aGUga2V5Ym9hcmQgZXZlbnRzIGFyZVxuICAgKiBzdWJzY3JpYmVkIHRvLiBUaGlzIG1hdHRlcnMgd2hlbiB0ZWxsaW5nIHRoZSBzY3JvbGwgdmlldyB0byBzY3JvbGwgdG8gd2hlcmVcbiAgICogdGhlIGtleWJvYXJkIGlzIGhlYWRlZCAtIHRoZSBzY3JvbGwgcmVzcG9uZGVyIGJldHRlciBoYXZlIGJlZW4gbm90aWZpZWQgb2ZcbiAgICogdGhlIGtleWJvYXJkIGRlc3RpbmF0aW9uIGJlZm9yZSBiZWluZyBpbnN0cnVjdGVkIHRvIHNjcm9sbCB0byB3aGVyZSB0aGVcbiAgICoga2V5Ym9hcmQgd2lsbCBiZS4gU3RpY2sgdG8gdGhlIGBTY3JvbGxSZXNwb25kZXJgIGNhbGxiYWNrcywgYW5kIGV2ZXJ5dGhpbmdcbiAgICogd2lsbCB3b3JrLlxuICAgKlxuICAgKiBXQVJOSU5HOiBUaGVzZSBjYWxsYmFja3Mgd2lsbCBmaXJlIGV2ZW4gaWYgYSBrZXlib2FyZCBpcyBkaXNwbGF5ZWQgaW4gYVxuICAgKiBkaWZmZXJlbnQgbmF2aWdhdGlvbiBwYW5lLiBGaWx0ZXIgb3V0IHRoZSBldmVudHMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAqIHJlbGV2YW50IHRvIHlvdS4gKEZvciBleGFtcGxlLCBvbmx5IGlmIHlvdSByZWNlaXZlIHRoZXNlIGNhbGxiYWNrcyBhZnRlclxuICAgKiB5b3UgaGFkIGV4cGxpY2l0bHkgZm9jdXNlZCBhIG5vZGUgZXRjKS5cbiAgICovXG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvdzogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRXaWxsT3BlblRvID0gZTtcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvdyAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvdyhlKTtcbiAgfTtcblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlOiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gPSBudWxsO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlICYmIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlKGUpO1xuICB9O1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkU2hvdzogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgLy8gVE9ETyg3NjkzOTYxKTogVGhlIGV2ZW50IGZvciBEaWRTaG93IGlzIG5vdCBhdmFpbGFibGUgb24gaU9TIHlldC5cbiAgICAvLyBVc2UgdGhlIG9uZSBmcm9tIFdpbGxTaG93IGFuZCBkbyBub3QgYXNzaWduLlxuICAgIGlmIChlKSB7XG4gICAgICB0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gPSBlO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93ICYmIHRoaXMucHJvcHMub25LZXlib2FyZERpZFNob3coZSk7XG4gIH07XG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRIaWRlOiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gPSBudWxsO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGUgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkSGlkZShlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWUgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uTW9tZW50dW1TY3JvbGxFbmRgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZU1vbWVudHVtU2Nyb2xsRW5kOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBGcmFtZVJhdGVMb2dnZXIuZW5kU2Nyb2xsKCk7XG4gICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSA9IGdsb2JhbC5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbmZvcnR1bmF0ZWx5LCBgb25TY3JvbGxCZWdpbkRyYWdgIGFsc28gZmlyZXMgd2hlbiAqc3RvcHBpbmcqIHRoZSBzY3JvbGxcbiAgICogYW5pbWF0aW9uLCBhbmQgdGhlcmUncyBub3QgYW4gZWFzeSB3YXkgdG8gZGlzdGluZ3Vpc2ggYSBkcmFnIHZzLiBzdG9wcGluZ1xuICAgKiBtb21lbnR1bS5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TY3JvbGxCZWdpbkRyYWdgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVNjcm9sbEJlZ2luRHJhZzogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgRnJhbWVSYXRlTG9nZ2VyLmJlZ2luU2Nyb2xsKCk7IC8vIFRPRE86IHRyYWNrIGFsbCBzY3JvbGxzIGFmdGVyIGltcGxlbWVudGluZyBvblNjcm9sbEVuZEFuaW1hdGlvblxuXG4gICAgaWYgKFxuICAgICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJlxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZERpc21pc3NNb2RlID09PSAnb24tZHJhZydcbiAgICApIHtcbiAgICAgIGRpc21pc3NLZXlib2FyZCgpO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TY3JvbGxFbmREcmFnYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxFbmREcmFnOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBjb25zdCB7dmVsb2NpdHl9ID0gZS5uYXRpdmVFdmVudDtcbiAgICAvLyAtIElmIHdlIGFyZSBhbmltYXRpbmcsIHRoZW4gdGhpcyBpcyBhIFwiZHJhZ1wiIHRoYXQgaXMgc3RvcHBpbmcgdGhlIHNjcm9sbHZpZXcgYW5kIG1vbWVudHVtIGVuZFxuICAgIC8vICAgd2lsbCBmaXJlLlxuICAgIC8vIC0gSWYgdmVsb2NpdHkgaXMgbm9uLXplcm8sIHRoZW4gdGhlIGludGVyYWN0aW9uIHdpbGwgc3RvcCB3aGVuIG1vbWVudHVtIHNjcm9sbCBlbmRzIG9yXG4gICAgLy8gICBhbm90aGVyIGRyYWcgc3RhcnRzIGFuZCBlbmRzLlxuICAgIC8vIC0gSWYgd2UgZG9uJ3QgZ2V0IHZlbG9jaXR5LCBiZXR0ZXIgdG8gc3RvcCB0aGUgaW50ZXJhY3Rpb24gdHdpY2UgdGhhbiBub3Qgc3RvcCBpdC5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5faXNBbmltYXRpbmcoKSAmJlxuICAgICAgKCF2ZWxvY2l0eSB8fCAodmVsb2NpdHkueCA9PT0gMCAmJiB2ZWxvY2l0eS55ID09PSAwKSlcbiAgICApIHtcbiAgICAgIEZyYW1lUmF0ZUxvZ2dlci5lbmRTY3JvbGwoKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIGZ1bmN0aW9uIGZvciB0aGlzIGNsYXNzIHRoYXQgbGV0cyB1cyBxdWlja2x5IGRldGVybWluZSBpZiB0aGVcbiAgICogdmlldyBpcyBjdXJyZW50bHkgYW5pbWF0aW5nLiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgdG8ga25vdyB3aGVuXG4gICAqIGEgdG91Y2ggaGFzIGp1c3Qgc3RhcnRlZCBvciBlbmRlZC5cbiAgICovXG4gIF9pc0FuaW1hdGluZzogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICBjb25zdCBub3cgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgdGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kID1cbiAgICAgIG5vdyAtIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWU7XG4gICAgY29uc3QgaXNBbmltYXRpbmcgPVxuICAgICAgdGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kIDwgSVNfQU5JTUFUSU5HX1RPVUNIX1NUQVJUX1RIUkVTSE9MRF9NUyB8fFxuICAgICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSA8IHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZTtcbiAgICByZXR1cm4gaXNBbmltYXRpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyR3JhbnRgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVJlc3BvbmRlckdyYW50OiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wcy5vblJlc3BvbmRlckdyYW50ICYmIHRoaXMucHJvcHMub25SZXNwb25kZXJHcmFudChlKTtcbiAgICB0aGlzLl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZyA9IHRoaXMuX2lzQW5pbWF0aW5nKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyUmVqZWN0YCBldmVudC5cbiAgICpcbiAgICogU29tZSBvdGhlciBlbGVtZW50IGlzIG5vdCB5aWVsZGluZyBpdHMgcm9sZSBhcyByZXNwb25kZXIuIE5vcm1hbGx5LCB3ZSdkXG4gICAqIGp1c3QgZGlzYWJsZSB0aGUgYFVJU2Nyb2xsVmlld2AsIGJ1dCBhIHRvdWNoIGhhcyBhbHJlYWR5IGJlZ2FuIG9uIGl0LCB0aGVcbiAgICogYFVJU2Nyb2xsVmlld2Agd2lsbCBub3QgYWNjZXB0IGJlaW5nIGRpc2FibGVkIGFmdGVyIHRoYXQuIFRoZSBlYXNpZXN0XG4gICAqIHNvbHV0aW9uIGZvciBub3cgaXMgdG8gYWNjZXB0IHRoZSBsaW1pdGF0aW9uIG9mIGRpc2FsbG93aW5nIHRoaXNcbiAgICogYWx0b2dldGhlci4gVG8gaW1wcm92ZSB0aGlzLCBmaW5kIGEgd2F5IHRvIGRpc2FibGUgdGhlIGBVSVNjcm9sbFZpZXdgIGFmdGVyXG4gICAqIGEgdG91Y2ggaGFzIGFscmVhZHkgc3RhcnRlZC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJSZWplY3Q6ICgpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25SZXNwb25kZXJSZWxlYXNlYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJSZWxlYXNlOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IGUubmF0aXZlRXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDA7XG4gICAgdGhpcy5wcm9wcy5vblJlc3BvbmRlclJlbGVhc2UgJiYgdGhpcy5wcm9wcy5vblJlc3BvbmRlclJlbGVhc2UoZSk7XG5cbiAgICBpZiAodHlwZW9mIGUudGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRGlkIG5vdCBleHBlY3QgZXZlbnQgdGFyZ2V0IHRvIGJlIGEgbnVtYmVyLiBTaG91bGQgaGF2ZSBiZWVuIGEgbmF0aXZlIGNvbXBvbmVudCcsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCeSBkZWZhdWx0IHNjcm9sbCB2aWV3cyB3aWxsIHVuZm9jdXMgYSB0ZXh0RmllbGRcbiAgICAvLyBpZiBhbm90aGVyIHRvdWNoIG9jY3VycyBvdXRzaWRlIG9mIGl0XG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gdHJ1ZSAmJlxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSAnYWx3YXlzJyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICYmXG4gICAgICAhdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyICYmXG4gICAgICAhdGhpcy5fYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmdcbiAgICApIHtcbiAgICAgIFRleHRJbnB1dFN0YXRlLmJsdXJUZXh0SW5wdXQoY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBXZSB3aWxsIGFsbG93IHRoZSBzY3JvbGwgdmlldyB0byBnaXZlIHVwIGl0cyBsb2NrIGlmZiBpdCBhY3F1aXJlZCB0aGUgbG9ja1xuICAgKiBkdXJpbmcgYW4gYW5pbWF0aW9uLiBUaGlzIGlzIGEgdmVyeSB1c2VmdWwgZGVmYXVsdCB0aGF0IGhhcHBlbnMgdG8gc2F0aXNmeVxuICAgKiBtYW55IGNvbW1vbiB1c2VyIGV4cGVyaWVuY2VzLlxuICAgKlxuICAgKiAtIFN0b3AgYSBzY3JvbGwgb24gdGhlIGxlZnQgZWRnZSwgdGhlbiB0dXJuIHRoYXQgaW50byBhbiBvdXRlciB2aWV3J3NcbiAgICogICBiYWNrc3dpcGUuXG4gICAqIC0gU3RvcCBhIHNjcm9sbCBtaWQtYm91bmNlIGF0IHRoZSB0b3AsIGNvbnRpbnVlIHB1bGxpbmcgdG8gaGF2ZSB0aGUgb3V0ZXJcbiAgICogICB2aWV3IGRpc21pc3MuXG4gICAqIC0gSG93ZXZlciwgd2l0aG91dCBjYXRjaGluZyB0aGUgc2Nyb2xsIHZpZXcgbWlkLWJvdW5jZSAod2hpbGUgaXQgaXNcbiAgICogICBtb3Rpb25sZXNzKSwgaWYgeW91IGRyYWcgZmFyIGVub3VnaCBmb3IgdGhlIHNjcm9sbCB2aWV3IHRvIGJlY29tZVxuICAgKiAgIHJlc3BvbmRlciAoYW5kIHRoZXJlZm9yZSBkcmFnIHRoZSBzY3JvbGwgdmlldyBhIGJpdCksIGFueSBiYWNrc3dpcGVcbiAgICogICBuYXZpZ2F0aW9uIG9mIGEgc3dpcGUgZ2VzdHVyZSBoaWdoZXIgaW4gdGhlIHZpZXcgaGllcmFyY2h5LCBzaG91bGQgYmVcbiAgICogICByZWplY3RlZC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgcmV0dXJuICF0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXI6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgLy8gQWxsb3cgYW55IGV2ZW50IHRvdWNoIHBhc3MgdGhyb3VnaCBpZiB0aGUgZGVmYXVsdCBwYW4gcmVzcG9uZGVyIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lzVG91Y2hpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1lcmVseSB0b3VjaCBzdGFydGluZyBpcyBub3Qgc3VmZmljaWVudCBmb3IgYSBzY3JvbGwgdmlldyB0byBiZWNvbWUgdGhlXG4gICAqIHJlc3BvbmRlci4gQmVpbmcgdGhlIFwicmVzcG9uZGVyXCIgbWVhbnMgdGhhdCB0aGUgdmVyeSBuZXh0IHRvdWNoIG1vdmUvZW5kXG4gICAqIGV2ZW50IHdpbGwgcmVzdWx0IGluIGFuIGFjdGlvbi9tb3ZlbWVudC5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmAgZXZlbnQuXG4gICAqXG4gICAqIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYCBpcyB1c2VkIHdoZW4gdGhlIG5leHQgbW92ZS9lbmQgd2lsbCB0cmlnZ2VyXG4gICAqIHNvbWUgVUkgbW92ZW1lbnQvYWN0aW9uLCBidXQgd2hlbiB5b3Ugd2FudCB0byB5aWVsZCBwcmlvcml0eSB0byB2aWV3c1xuICAgKiBuZXN0ZWQgaW5zaWRlIG9mIHRoZSB2aWV3LlxuICAgKlxuICAgKiBUaGVyZSBtYXkgYmUgc29tZSBjYXNlcyB3aGVyZSBzY3JvbGwgdmlld3MgYWN0dWFsbHkgc2hvdWxkIHJldHVybiBgdHJ1ZWBcbiAgICogZnJvbSBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmA6IEFueSB0aW1lIHdlIGFyZSBkZXRlY3RpbmcgYSBzdGFuZGFyZCB0YXBcbiAgICogdGhhdCBnaXZlcyBwcmlvcml0eSB0byBuZXN0ZWQgdmlld3MuXG4gICAqXG4gICAqIC0gSWYgYSBzaW5nbGUgdGFwIG9uIHRoZSBzY3JvbGwgdmlldyB0cmlnZ2VycyBhbiBhY3Rpb24gc3VjaCBhc1xuICAgKiAgIHJlY2VudGVyaW5nIGEgbWFwIHN0eWxlIHZpZXcgeWV0IHdhbnRzIHRvIGdpdmUgcHJpb3JpdHkgdG8gaW50ZXJhY3Rpb25cbiAgICogICB2aWV3cyBpbnNpZGUgKHN1Y2ggYXMgZHJvcHBlZCBwaW5zIG9yIGxhYmVscyksIHRoZW4gd2Ugd291bGQgcmV0dXJuIHRydWVcbiAgICogICBmcm9tIHRoaXMgbWV0aG9kIHdoZW4gdGhlcmUgaXMgYSBzaW5nbGUgdG91Y2guXG4gICAqXG4gICAqIC0gU2ltaWxhciB0byB0aGUgcHJldmlvdXMgY2FzZSwgaWYgYSB0d28gZmluZ2VyIFwidGFwXCIgc2hvdWxkIHRyaWdnZXIgYVxuICAgKiAgIHpvb20sIHdlIHdvdWxkIGNoZWNrIHRoZSBgdG91Y2hlc2AgY291bnQsIGFuZCBpZiBgPj0gMmAsIHdlIHdvdWxkIHJldHVyblxuICAgKiAgIHRydWUuXG4gICAqXG4gICAqL1xuICBfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IChlOiBQcmVzc0V2ZW50KSA9PiBib29sZWFuID0gKFxuICAgIGU6IFByZXNzRXZlbnQsXG4gICkgPT4ge1xuICAgIC8vIEFsbG93IGFueSBldmVudCB0b3VjaCBwYXNzIHRocm91Z2ggaWYgdGhlIGRlZmF1bHQgcGFuIHJlc3BvbmRlciBpcyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICdoYW5kbGVkJyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkSW5wdXRcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZXJlIGFyZSB0aW1lcyB3aGVuIHRoZSBzY3JvbGwgdmlldyB3YW50cyB0byBiZWNvbWUgdGhlIHJlc3BvbmRlclxuICAgKiAobWVhbmluZyByZXNwb25kIHRvIHRoZSBuZXh0IGltbWVkaWF0ZSBgdG91Y2hTdGFydC90b3VjaEVuZGApLCBpbiBhIHdheVxuICAgKiB0aGF0ICpkb2Vzbid0KiBnaXZlIHByaW9yaXR5IHRvIG5lc3RlZCB2aWV3cyAoaGVuY2UgdGhlIGNhcHR1cmUgcGhhc2UpOlxuICAgKlxuICAgKiAtIEN1cnJlbnRseSBhbmltYXRpbmcuXG4gICAqIC0gVGFwcGluZyBhbnl3aGVyZSB0aGF0IGlzIG5vdCBhIHRleHQgaW5wdXQsIHdoaWxlIHRoZSBrZXlib2FyZCBpc1xuICAgKiAgIHVwICh3aGljaCBzaG91bGQgZGlzbWlzcyB0aGUga2V5Ym9hcmQpLlxuICAgKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZWAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiAoZTogUHJlc3NFdmVudCkgPT4gYm9vbGVhbiA9IChcbiAgICBlOiBQcmVzc0V2ZW50LFxuICApID0+IHtcbiAgICAvLyBUaGUgc2Nyb2xsIHZpZXcgc2hvdWxkIHJlY2VpdmUgdGFwcyBpbnN0ZWFkIG9mIGl0cyBkZXNjZW5kYW50cyBpZjpcbiAgICAvLyAqIGl0IGlzIGFscmVhZHkgYW5pbWF0aW5nL2RlY2VsZXJhdGluZ1xuICAgIGlmICh0aGlzLl9pc0FuaW1hdGluZygpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vICogdGhlIGtleWJvYXJkIGlzIHVwLCBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIGlzICduZXZlcicgKHRoZSBkZWZhdWx0KSxcbiAgICAvLyBhbmQgYSBuZXcgdG91Y2ggc3RhcnRzIHdpdGggYSBub24tdGV4dGlucHV0IHRhcmdldCAoaW4gd2hpY2ggY2FzZSB0aGVcbiAgICAvLyBmaXJzdCB0YXAgc2hvdWxkIGJlIHNlbnQgdG8gdGhlIHNjcm9sbCB2aWV3IGFuZCBkaXNtaXNzIHRoZSBrZXlib2FyZCxcbiAgICAvLyB0aGVuIHRoZSBzZWNvbmQgdGFwIGdvZXMgdG8gdGhlIGFjdHVhbCBpbnRlcmlvciB2aWV3KVxuICAgIGNvbnN0IHtrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qga2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzID1cbiAgICAgICFrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIHx8IGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICduZXZlcic7XG5cbiAgICBpZiAodHlwZW9mIGUudGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRGlkIG5vdCBleHBlY3QgZXZlbnQgdGFyZ2V0IHRvIGJlIGEgbnVtYmVyLiBTaG91bGQgaGF2ZSBiZWVuIGEgbmF0aXZlIGNvbXBvbmVudCcsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBrZXlib2FyZE5ldmVyUGVyc2lzdFRhcHMgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBlLnRhcmdldCAhPSBudWxsICYmXG4gICAgICAhVGV4dElucHV0U3RhdGUuaXNUZXh0SW5wdXQoZS50YXJnZXQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIERvIHdlIGNvbnNpZGVyIHRoZXJlIHRvIGJlIGEgZGlzbWlzc2libGUgc29mdC1rZXlib2FyZCBvcGVuP1xuICAgKi9cbiAgX2tleWJvYXJkSXNEaXNtaXNzaWJsZTogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkSW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcblxuICAgIC8vIFdlIGNhbm5vdCBkaXNtaXNzIHRoZSBrZXlib2FyZCB3aXRob3V0IGFuIGlucHV0IHRvIGJsdXIsIGV2ZW4gaWYgYSBzb2Z0XG4gICAgLy8ga2V5Ym9hcmQgaXMgb3BlbiAoZS5nLiB3aGVuIGtleWJvYXJkIGlzIG9wZW4gZHVlIHRvIGEgbmF0aXZlIGNvbXBvbmVudFxuICAgIC8vIG5vdCBwYXJ0aWNpcGF0aW5nIGluIFRleHRJbnB1dFN0YXRlKS4gSXQncyBhbHNvIHBvc3NpYmxlIHRoYXQgdGhlXG4gICAgLy8gY3VycmVudGx5IGZvY3VzZWQgaW5wdXQgaXNuJ3QgYSBUZXh0SW5wdXQgKHN1Y2ggYXMgYnkgY2FsbGluZyByZWYuZm9jdXNcbiAgICAvLyBvbiBhIG5vbi1UZXh0SW5wdXQpLlxuICAgIGNvbnN0IGhhc0ZvY3VzZWRUZXh0SW5wdXQgPVxuICAgICAgY3VycmVudGx5Rm9jdXNlZElucHV0ICE9IG51bGwgJiZcbiAgICAgIFRleHRJbnB1dFN0YXRlLmlzVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRJbnB1dCk7XG5cbiAgICAvLyBFdmVuIGlmIGFuIGlucHV0IGlzIGZvY3VzZWQsIHdlIG1heSBub3QgaGF2ZSBhIGtleWJvYXJkIHRvIGRpc21pc3MuIEUuZ1xuICAgIC8vIHdoZW4gdXNpbmcgYSBwaHlzaWNhbCBrZXlib2FyZC4gRW5zdXJlIHdlIGhhdmUgYW4gZXZlbnQgZm9yIGFuIG9wZW5lZFxuICAgIC8vIGtleWJvYXJkLCBleGNlcHQgb24gQW5kcm9pZCB3aGVyZSBzZXR0aW5nIHdpbmRvd1NvZnRJbnB1dE1vZGUgdG9cbiAgICAvLyBhZGp1c3ROb25lIGxlYWRzIHRvIG1pc3Npbmcga2V5Ym9hcmQgZXZlbnRzLlxuICAgIGNvbnN0IHNvZnRLZXlib2FyZE1heUJlT3BlbiA9XG4gICAgICB0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gIT0gbnVsbCB8fCBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnO1xuXG4gICAgcmV0dXJuIGhhc0ZvY3VzZWRUZXh0SW5wdXQgJiYgc29mdEtleWJvYXJkTWF5QmVPcGVuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoRW5kYCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIEV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoRW5kOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgY29uc3QgbmF0aXZlRXZlbnQgPSBlLm5hdGl2ZUV2ZW50O1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBuYXRpdmVFdmVudC50b3VjaGVzLmxlbmd0aCAhPT0gMDtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hFbmQgJiYgdGhpcy5wcm9wcy5vblRvdWNoRW5kKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoQ2FuY2VsYCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIEV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoQ2FuY2VsOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IGZhbHNlO1xuICAgIHRoaXMucHJvcHMub25Ub3VjaENhbmNlbCAmJiB0aGlzLnByb3BzLm9uVG91Y2hDYW5jZWwoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hTdGFydGAgZXZlbnQuXG4gICAqXG4gICAqIFNpbmNlIHdlIGtub3cgdGhhdCB0aGUgYFNpbXBsZUV2ZW50UGx1Z2luYCBvY2N1cnMgbGF0ZXIgaW4gdGhlIHBsdWdpblxuICAgKiBvcmRlciwgYWZ0ZXIgYFJlc3BvbmRlckV2ZW50UGx1Z2luYCwgd2UgY2FuIGRldGVjdCB0aGF0IHdlIHdlcmUgKm5vdCpcbiAgICogcGVybWl0dGVkIHRvIGJlIHRoZSByZXNwb25kZXIgKHByZXN1bWFibHkgYmVjYXVzZSBhIGNvbnRhaW5lZCB2aWV3IGJlY2FtZVxuICAgKiByZXNwb25kZXIpLiBUaGUgYG9uUmVzcG9uZGVyUmVqZWN0YCB3b24ndCBmaXJlIGluIHRoYXQgY2FzZSAtIGl0IG9ubHlcbiAgICogZmlyZXMgd2hlbiBhICpjdXJyZW50KiByZXNwb25kZXIgcmVqZWN0cyBvdXIgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIFRvdWNoIFN0YXJ0IGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoU3RhcnQ6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hTdGFydCAmJiB0aGlzLnByb3BzLm9uVG91Y2hTdGFydChlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaE1vdmVgIGV2ZW50LlxuICAgKlxuICAgKiBTaW5jZSB3ZSBrbm93IHRoYXQgdGhlIGBTaW1wbGVFdmVudFBsdWdpbmAgb2NjdXJzIGxhdGVyIGluIHRoZSBwbHVnaW5cbiAgICogb3JkZXIsIGFmdGVyIGBSZXNwb25kZXJFdmVudFBsdWdpbmAsIHdlIGNhbiBkZXRlY3QgdGhhdCB3ZSB3ZXJlICpub3QqXG4gICAqIHBlcm1pdHRlZCB0byBiZSB0aGUgcmVzcG9uZGVyIChwcmVzdW1hYmx5IGJlY2F1c2UgYSBjb250YWluZWQgdmlldyBiZWNhbWVcbiAgICogcmVzcG9uZGVyKS4gVGhlIGBvblJlc3BvbmRlclJlamVjdGAgd29uJ3QgZmlyZSBpbiB0aGF0IGNhc2UgLSBpdCBvbmx5XG4gICAqIGZpcmVzIHdoZW4gYSAqY3VycmVudCogcmVzcG9uZGVyIHJlamVjdHMgb3VyIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBUb3VjaCBTdGFydCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaE1vdmU6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hNb3ZlICYmIHRoaXMucHJvcHMub25Ub3VjaE1vdmUoZSk7XG4gIH07XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUgfCBSZWFjdC5FbGVtZW50PHN0cmluZz4ge1xuICAgIGNvbnN0IFtOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXcsIE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsQ29udGVudFZpZXddID1cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZVxuICAgICAgICA/IE5hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGVcbiAgICAgICAgOiBOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZTtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXJTdHlsZSA9IFtcbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSAmJiBzdHlsZXMuY29udGVudENvbnRhaW5lckhvcml6b250YWwsXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSxcbiAgICBdO1xuICAgIGlmIChfX0RFVl9fICYmIHRoaXMucHJvcHMuc3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5zdHlsZSk7XG4gICAgICBjb25zdCBjaGlsZExheW91dFByb3BzID0gWydhbGlnbkl0ZW1zJywgJ2p1c3RpZnlDb250ZW50J10uZmlsdGVyKFxuICAgICAgICBwcm9wID0+IHN0eWxlICYmIHN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjaGlsZExheW91dFByb3BzLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgJ1Njcm9sbFZpZXcgY2hpbGQgbGF5b3V0ICgnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShjaGlsZExheW91dFByb3BzKSArXG4gICAgICAgICAgJykgbXVzdCBiZSBhcHBsaWVkIHRocm91Z2ggdGhlIGNvbnRlbnRDb250YWluZXJTdHlsZSBwcm9wLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnRTaXplQ2hhbmdlUHJvcHMgPVxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlID09IG51bGxcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDoge1xuICAgICAgICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUNvbnRlbnRPbkxheW91dCxcbiAgICAgICAgICB9O1xuXG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgaWYgKHN0aWNreUhlYWRlckluZGljZXMgIT0gbnVsbCAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBjaGlsZHJlbiA9IGNoaWxkQXJyYXkubWFwKChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXhPZkluZGV4ID0gY2hpbGQgPyBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpIDogLTE7XG4gICAgICAgIGlmIChpbmRleE9mSW5kZXggPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCArIDFdO1xuICAgICAgICAgIGNvbnN0IFN0aWNreUhlYWRlckNvbXBvbmVudCA9XG4gICAgICAgICAgICB0aGlzLnByb3BzLlN0aWNreUhlYWRlckNvbXBvbmVudCB8fCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U3RpY2t5SGVhZGVyQ29tcG9uZW50XG4gICAgICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgICAgICBuYXRpdmVJRD17J1N0aWNreUhlYWRlci0nICsga2V5fSAvKiBUT0RPOiBUNjgyNTg4NDYuICovXG4gICAgICAgICAgICAgIHJlZj17cmVmID0+IHRoaXMuX3NldFN0aWNreUhlYWRlclJlZihrZXksIHJlZil9XG4gICAgICAgICAgICAgIG5leHRIZWFkZXJMYXlvdXRZPXt0aGlzLl9oZWFkZXJMYXlvdXRZcy5nZXQoXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgobmV4dEluZGV4LCBjaGlsZEFycmF5KSxcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgb25MYXlvdXQ9e2V2ZW50ID0+IHRoaXMuX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4LCBldmVudCwga2V5KX1cbiAgICAgICAgICAgICAgc2Nyb2xsQW5pbWF0ZWRWYWx1ZT17dGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZX1cbiAgICAgICAgICAgICAgaW52ZXJ0ZWQ9e3RoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVyc31cbiAgICAgICAgICAgICAgaGlkZGVuT25TY3JvbGw9e3RoaXMucHJvcHMuc3RpY2t5SGVhZGVySGlkZGVuT25TY3JvbGx9XG4gICAgICAgICAgICAgIHNjcm9sbFZpZXdIZWlnaHQ9e3RoaXMuc3RhdGUubGF5b3V0SGVpZ2h0fT5cbiAgICAgICAgICAgICAge2NoaWxkfVxuICAgICAgICAgICAgPC9TdGlja3lIZWFkZXJDb21wb25lbnQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGlsZHJlbiA9IChcbiAgICAgIDxTY3JvbGxWaWV3Q29udGV4dC5Qcm92aWRlclxuICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlID8gSE9SSVpPTlRBTCA6IFZFUlRJQ0FMfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9TY3JvbGxWaWV3Q29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuXG4gICAgY29uc3QgaGFzU3RpY2t5SGVhZGVycyA9XG4gICAgICBBcnJheS5pc0FycmF5KHN0aWNreUhlYWRlckluZGljZXMpICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMDtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSAoXG4gICAgICA8TmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50Vmlld1xuICAgICAgICB7Li4uY29udGVudFNpemVDaGFuZ2VQcm9wc31cbiAgICAgICAgcmVmPXt0aGlzLl9zZXRJbm5lclZpZXdSZWZ9XG4gICAgICAgIHN0eWxlPXtjb250ZW50Q29udGFpbmVyU3R5bGV9XG4gICAgICAgIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz17XG4gICAgICAgICAgLy8gU3VidmlldyBjbGlwcGluZyBjYXVzZXMgaXNzdWVzIHdpdGggc3RpY2t5IGhlYWRlcnMgb24gQW5kcm9pZCBhbmRcbiAgICAgICAgICAvLyB3b3VsZCBiZSBoYXJkIHRvIGZpeCBwcm9wZXJseSBpbiBhIHBlcmZvcm1hbnQgd2F5LlxuICAgICAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiB0aGlzLnByb3BzLnJlbW92ZUNsaXBwZWRTdWJ2aWV3c1xuICAgICAgICB9XG4gICAgICAgIGNvbGxhcHNhYmxlPXtmYWxzZX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50Vmlldz5cbiAgICApO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbFxuICAgICAgICA6IHRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZVZlcnRpY2FsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWxcbiAgICAgICAgOiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgYmFzZVN0eWxlID1cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZVxuICAgICAgICA/IHN0eWxlcy5iYXNlSG9yaXpvbnRhbFxuICAgICAgICA6IHN0eWxlcy5iYXNlVmVydGljYWw7XG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAuLi50aGlzLnByb3BzLFxuICAgICAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCxcbiAgICAgIGFsd2F5c0JvdW5jZVZlcnRpY2FsLFxuICAgICAgc3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIHRoaXMucHJvcHMuc3R5bGUpLFxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIG9uQ29udGVudFNpemVDaGFuZ2UgZnJvbSBwcm9wcywgc2luY2UgdGhpcyBldmVudCBjYW5cbiAgICAgIC8vIGJ1YmJsZSB1cCBmcm9tIFRleHRJbnB1dHNcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IG51bGwsXG4gICAgICBvbkxheW91dDogdGhpcy5faGFuZGxlTGF5b3V0LFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLl9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5faGFuZGxlTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICBvblJlc3BvbmRlckdyYW50OiB0aGlzLl9oYW5kbGVSZXNwb25kZXJHcmFudCxcbiAgICAgIG9uUmVzcG9uZGVyUmVqZWN0OiB0aGlzLl9oYW5kbGVSZXNwb25kZXJSZWplY3QsXG4gICAgICBvblJlc3BvbmRlclJlbGVhc2U6IHRoaXMuX2hhbmRsZVJlc3BvbmRlclJlbGVhc2UsXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogdGhpcy5faGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX2hhbmRsZVNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5faGFuZGxlU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiB0aGlzXG4gICAgICAgIC5faGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlLFxuICAgICAgb25Ub3VjaEVuZDogdGhpcy5faGFuZGxlVG91Y2hFbmQsXG4gICAgICBvblRvdWNoTW92ZTogdGhpcy5faGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLl9oYW5kbGVUb3VjaFN0YXJ0LFxuICAgICAgb25Ub3VjaENhbmNlbDogdGhpcy5faGFuZGxlVG91Y2hDYW5jZWwsXG4gICAgICBvblNjcm9sbDogdGhpcy5faGFuZGxlU2Nyb2xsLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICA/IDFcbiAgICAgICAgOiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsXG4gICAgICBzZW5kTW9tZW50dW1FdmVudHM6XG4gICAgICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luIHx8IHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZFxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDogZmFsc2UsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb1N0YXJ0OiB0aGlzLnByb3BzLnNuYXBUb1N0YXJ0ICE9PSBmYWxzZSxcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgc25hcFRvRW5kOiB0aGlzLnByb3BzLnNuYXBUb0VuZCAhPT0gZmFsc2UsXG4gICAgICAvLyBwYWdpbmdFbmFibGVkIGlzIG92ZXJyaWRkZW4gYnkgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzXG4gICAgICBwYWdpbmdFbmFibGVkOiBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAvLyBvbiBpT1MsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gZmFsc2UgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBpb3M6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCA9PSBudWxsICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzID09IG51bGwsXG4gICAgICAgIC8vIG9uIEFuZHJvaWQsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gdHJ1ZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGFuZHJvaWQ6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCAhPSBudWxsIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzICE9IG51bGwsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgY29uc3Qge2RlY2VsZXJhdGlvblJhdGV9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGVjZWxlcmF0aW9uUmF0ZSAhPSBudWxsKSB7XG4gICAgICBwcm9wcy5kZWNlbGVyYXRpb25SYXRlID0gcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUoZGVjZWxlcmF0aW9uUmF0ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVmcmVzaENvbnRyb2wgPSB0aGlzLnByb3BzLnJlZnJlc2hDb250cm9sO1xuXG4gICAgaWYgKHJlZnJlc2hDb250cm9sKSB7XG4gICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICAgIC8vIE9uIGlPUyB0aGUgUmVmcmVzaENvbnRyb2wgaXMgYSBjaGlsZCBvZiB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IHsuLi5wcm9wc30gcmVmPXt0aGlzLl9zZXROYXRpdmVSZWZ9PlxuICAgICAgICAgICAge3JlZnJlc2hDb250cm9sfVxuICAgICAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICAgICAgPC9OYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXc+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgLy8gT24gQW5kcm9pZCB3cmFwIHRoZSBTY3JvbGxWaWV3IHdpdGggYSBBbmRyb2lkU3dpcGVSZWZyZXNoTGF5b3V0LlxuICAgICAgICAvLyBTaW5jZSB0aGUgU2Nyb2xsVmlldyBpcyB3cmFwcGVkIGFkZCB0aGUgc3R5bGUgcHJvcHMgdG8gdGhlXG4gICAgICAgIC8vIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQgYW5kIHVzZSBmbGV4OiAxIGZvciB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgLy8gTm90ZTogd2Ugc2hvdWxkIHNwbGl0IHByb3BzLnN0eWxlIG9uIHRoZSBpbm5lciBhbmQgb3V0ZXIgcHJvcHNcbiAgICAgICAgLy8gaG93ZXZlciwgdGhlIFNjcm9sbFZpZXcgc3RpbGwgbmVlZHMgdGhlIGJhc2VTdHlsZSB0byBiZSBzY3JvbGxhYmxlXG4gICAgICAgIGNvbnN0IHtvdXRlciwgaW5uZXJ9ID0gc3BsaXRMYXlvdXRQcm9wcyhmbGF0dGVuU3R5bGUocHJvcHMuc3R5bGUpKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgICByZWZyZXNoQ29udHJvbCxcbiAgICAgICAgICB7c3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIG91dGVyKX0sXG4gICAgICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlld1xuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIGlubmVyKX1cbiAgICAgICAgICAgIHJlZj17dGhpcy5fc2V0TmF0aXZlUmVmfT5cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3PixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXcgey4uLnByb3BzfSByZWY9e3RoaXMuX3NldE5hdGl2ZVJlZn0+XG4gICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgPC9OYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXc+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGJhc2VWZXJ0aWNhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBiYXNlSG9yaXpvbnRhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBjb250ZW50Q29udGFpbmVySG9yaXpvbnRhbDoge1xuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICB9LFxufSk7XG5cbmZ1bmN0aW9uIFdyYXBwZXIocHJvcHMsIHJlZikge1xuICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSBzY3JvbGxWaWV3UmVmPXtyZWZ9IC8+O1xufVxuV3JhcHBlci5kaXNwbGF5TmFtZSA9ICdTY3JvbGxWaWV3JztcbmNvbnN0IEZvcndhcmRlZFNjcm9sbFZpZXcgPSBSZWFjdC5mb3J3YXJkUmVmKFdyYXBwZXIpO1xuXG4vLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gQWRkIHN0YXRpYyBjb250ZXh0IHRvIEZvcndhcmRlZFNjcm9sbFZpZXdcbkZvcndhcmRlZFNjcm9sbFZpZXcuQ29udGV4dCA9IFNjcm9sbFZpZXdDb250ZXh0O1xuXG5Gb3J3YXJkZWRTY3JvbGxWaWV3LmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgoRm9yd2FyZGVkU2Nyb2xsVmlldzogJEZsb3dGaXhNZSk6IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBSZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBTY3JvbGxWaWV3PixcbiAgJFJlYWRPbmx5PHt8XG4gICAgLi4uJEV4YWN0PFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+PixcbiAgICAuLi5TY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMsXG4gIHx9Pixcbj4gJlxuICBTY3JvbGxWaWV3Q29tcG9uZW50U3RhdGljcyk7XG4iXX0=