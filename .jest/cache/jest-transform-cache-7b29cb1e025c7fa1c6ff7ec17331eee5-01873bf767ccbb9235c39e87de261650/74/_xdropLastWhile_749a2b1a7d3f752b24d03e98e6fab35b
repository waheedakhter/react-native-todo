df56ab74644b8eb0bcf09d24c7fa430c
var _curry2 = require("./_curry2");

var _reduce = require("./_reduce");

var _xfBase = require("./_xfBase");

var XDropLastWhile = function () {
  function XDropLastWhile(fn, xf) {
    this.f = fn;
    this.retained = [];
    this.xf = xf;
  }

  XDropLastWhile.prototype['@@transducer/init'] = _xfBase.init;

  XDropLastWhile.prototype['@@transducer/result'] = function (result) {
    this.retained = null;
    return this.xf['@@transducer/result'](result);
  };

  XDropLastWhile.prototype['@@transducer/step'] = function (result, input) {
    return this.f(input) ? this.retain(result, input) : this.flush(result, input);
  };

  XDropLastWhile.prototype.flush = function (result, input) {
    result = _reduce(this.xf['@@transducer/step'], result, this.retained);
    this.retained = [];
    return this.xf['@@transducer/step'](result, input);
  };

  XDropLastWhile.prototype.retain = function (result, input) {
    this.retained.push(input);
    return result;
  };

  return XDropLastWhile;
}();

var _xdropLastWhile = _curry2(function _xdropLastWhile(fn, xf) {
  return new XDropLastWhile(fn, xf);
});

module.exports = _xdropLastWhile;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl94ZHJvcExhc3RXaGlsZS5qcyJdLCJuYW1lcyI6WyJfY3VycnkyIiwicmVxdWlyZSIsIl9yZWR1Y2UiLCJfeGZCYXNlIiwiWERyb3BMYXN0V2hpbGUiLCJmbiIsInhmIiwiZiIsInJldGFpbmVkIiwicHJvdG90eXBlIiwiaW5pdCIsInJlc3VsdCIsImlucHV0IiwicmV0YWluIiwiZmx1c2giLCJwdXNoIiwiX3hkcm9wTGFzdFdoaWxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsT0FBTyxHQUVYQyxPQUFPLENBQUMsV0FBRCxDQUZQOztBQUlBLElBQUlDLE9BQU8sR0FFWEQsT0FBTyxDQUFDLFdBQUQsQ0FGUDs7QUFJQSxJQUFJRSxPQUFPLEdBRVhGLE9BQU8sQ0FBQyxXQUFELENBRlA7O0FBSUEsSUFBSUcsY0FBYyxHQUVsQixZQUFZO0FBQ1YsV0FBU0EsY0FBVCxDQUF3QkMsRUFBeEIsRUFBNEJDLEVBQTVCLEVBQWdDO0FBQzlCLFNBQUtDLENBQUwsR0FBU0YsRUFBVDtBQUNBLFNBQUtHLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLRixFQUFMLEdBQVVBLEVBQVY7QUFDRDs7QUFFREYsRUFBQUEsY0FBYyxDQUFDSyxTQUFmLENBQXlCLG1CQUF6QixJQUFnRE4sT0FBTyxDQUFDTyxJQUF4RDs7QUFFQU4sRUFBQUEsY0FBYyxDQUFDSyxTQUFmLENBQXlCLHFCQUF6QixJQUFrRCxVQUFVRSxNQUFWLEVBQWtCO0FBQ2xFLFNBQUtILFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxXQUFPLEtBQUtGLEVBQUwsQ0FBUSxxQkFBUixFQUErQkssTUFBL0IsQ0FBUDtBQUNELEdBSEQ7O0FBS0FQLEVBQUFBLGNBQWMsQ0FBQ0ssU0FBZixDQUF5QixtQkFBekIsSUFBZ0QsVUFBVUUsTUFBVixFQUFrQkMsS0FBbEIsRUFBeUI7QUFDdkUsV0FBTyxLQUFLTCxDQUFMLENBQU9LLEtBQVAsSUFBZ0IsS0FBS0MsTUFBTCxDQUFZRixNQUFaLEVBQW9CQyxLQUFwQixDQUFoQixHQUE2QyxLQUFLRSxLQUFMLENBQVdILE1BQVgsRUFBbUJDLEtBQW5CLENBQXBEO0FBQ0QsR0FGRDs7QUFJQVIsRUFBQUEsY0FBYyxDQUFDSyxTQUFmLENBQXlCSyxLQUF6QixHQUFpQyxVQUFVSCxNQUFWLEVBQWtCQyxLQUFsQixFQUF5QjtBQUN4REQsSUFBQUEsTUFBTSxHQUFHVCxPQUFPLENBQUMsS0FBS0ksRUFBTCxDQUFRLG1CQUFSLENBQUQsRUFBK0JLLE1BQS9CLEVBQXVDLEtBQUtILFFBQTVDLENBQWhCO0FBQ0EsU0FBS0EsUUFBTCxHQUFnQixFQUFoQjtBQUNBLFdBQU8sS0FBS0YsRUFBTCxDQUFRLG1CQUFSLEVBQTZCSyxNQUE3QixFQUFxQ0MsS0FBckMsQ0FBUDtBQUNELEdBSkQ7O0FBTUFSLEVBQUFBLGNBQWMsQ0FBQ0ssU0FBZixDQUF5QkksTUFBekIsR0FBa0MsVUFBVUYsTUFBVixFQUFrQkMsS0FBbEIsRUFBeUI7QUFDekQsU0FBS0osUUFBTCxDQUFjTyxJQUFkLENBQW1CSCxLQUFuQjtBQUNBLFdBQU9ELE1BQVA7QUFDRCxHQUhEOztBQUtBLFNBQU9QLGNBQVA7QUFDRCxDQTlCRCxFQUZBOztBQWtDQSxJQUFJWSxlQUFlLEdBRW5CaEIsT0FBTyxDQUFDLFNBQVNnQixlQUFULENBQXlCWCxFQUF6QixFQUE2QkMsRUFBN0IsRUFBaUM7QUFDdkMsU0FBTyxJQUFJRixjQUFKLENBQW1CQyxFQUFuQixFQUF1QkMsRUFBdkIsQ0FBUDtBQUNELENBRk0sQ0FGUDs7QUFNQVcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCRixlQUFqQiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfY3VycnkyID1cbi8qI19fUFVSRV9fKi9cbnJlcXVpcmUoXCIuL19jdXJyeTJcIik7XG5cbnZhciBfcmVkdWNlID1cbi8qI19fUFVSRV9fKi9cbnJlcXVpcmUoXCIuL19yZWR1Y2VcIik7XG5cbnZhciBfeGZCYXNlID1cbi8qI19fUFVSRV9fKi9cbnJlcXVpcmUoXCIuL194ZkJhc2VcIik7XG5cbnZhciBYRHJvcExhc3RXaGlsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFhEcm9wTGFzdFdoaWxlKGZuLCB4Zikge1xuICAgIHRoaXMuZiA9IGZuO1xuICAgIHRoaXMucmV0YWluZWQgPSBbXTtcbiAgICB0aGlzLnhmID0geGY7XG4gIH1cblxuICBYRHJvcExhc3RXaGlsZS5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBfeGZCYXNlLmluaXQ7XG5cbiAgWERyb3BMYXN0V2hpbGUucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgdGhpcy5yZXRhaW5lZCA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXMueGZbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXShyZXN1bHQpO1xuICB9O1xuXG4gIFhEcm9wTGFzdFdoaWxlLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgcmV0dXJuIHRoaXMuZihpbnB1dCkgPyB0aGlzLnJldGFpbihyZXN1bHQsIGlucHV0KSA6IHRoaXMuZmx1c2gocmVzdWx0LCBpbnB1dCk7XG4gIH07XG5cbiAgWERyb3BMYXN0V2hpbGUucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKHJlc3VsdCwgaW5wdXQpIHtcbiAgICByZXN1bHQgPSBfcmVkdWNlKHRoaXMueGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10sIHJlc3VsdCwgdGhpcy5yZXRhaW5lZCk7XG4gICAgdGhpcy5yZXRhaW5lZCA9IFtdO1xuICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgaW5wdXQpO1xuICB9O1xuXG4gIFhEcm9wTGFzdFdoaWxlLnByb3RvdHlwZS5yZXRhaW4gPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgIHRoaXMucmV0YWluZWQucHVzaChpbnB1dCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICByZXR1cm4gWERyb3BMYXN0V2hpbGU7XG59KCk7XG5cbnZhciBfeGRyb3BMYXN0V2hpbGUgPVxuLyojX19QVVJFX18qL1xuX2N1cnJ5MihmdW5jdGlvbiBfeGRyb3BMYXN0V2hpbGUoZm4sIHhmKSB7XG4gIHJldHVybiBuZXcgWERyb3BMYXN0V2hpbGUoZm4sIHhmKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IF94ZHJvcExhc3RXaGlsZTsiXX0=