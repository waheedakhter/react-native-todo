0658e5e2d7d243fb46f920de1f273952
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useComponent;

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function useComponent(Component, props) {
  var propsRef = React.useRef(props);
  propsRef.current = props;
  React.useEffect(function () {
    propsRef.current = null;
  });
  return React.useRef(function (rest) {
    var props = propsRef.current;

    if (props === null) {
      throw new Error('The returned component must be rendered in the same render phase as the hook.');
    }

    return React.createElement(Component, _extends({}, props, rest));
  }).current;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZUNvbXBvbmVudC50c3giXSwibmFtZXMiOlsicHJvcHNSZWYiLCJSZWFjdCIsInJlc3QiLCJwcm9wcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUEsS0FBQSxHQUFBLHVCQUFBLENBQUEsT0FBQSxDQUFBLE9BQUEsQ0FBQSxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFZSxTQUFBLFlBQUEsQ0FBQSxTQUFBLEVBQUEsS0FBQSxFQUdXO0FBQ3hCLE1BQU1BLFFBQVEsR0FBR0MsS0FBSyxDQUFMQSxNQUFBQSxDQURPLEtBQ1BBLENBQWpCO0FBS0FELEVBQUFBLFFBQVEsQ0FBUkEsT0FBQUEsR0FBQUEsS0FBQUE7QUFFQUMsRUFBQUEsS0FBSyxDQUFMQSxTQUFBQSxDQUFnQixZQUFNO0FBQ3BCRCxJQUFBQSxRQUFRLENBQVJBLE9BQUFBLEdBQUFBLElBQUFBO0FBREZDLEdBQUFBO0FBSUEsU0FBTyxLQUFLLENBQUwsTUFBQSxDQUFjQyxVQUFBQSxJQUFELEVBQWtEO0FBQ3BFLFFBQU1DLEtBQUssR0FBR0gsUUFBUSxDQUF0QixPQUFBOztBQUVBLFFBQUlHLEtBQUssS0FBVCxJQUFBLEVBQW9CO0FBQ2xCLFlBQU0sSUFBQSxLQUFBLENBQU4sK0VBQU0sQ0FBTjtBQUprRTs7QUFVcEUsV0FBTyxLQUFBLENBQUEsYUFBQSxDQUFBLFNBQUEsRUFBQSxRQUFBLENBQUEsRUFBQSxFQUFBLEtBQUEsRUFBUCxJQUFPLENBQUEsQ0FBUDtBQVZLLEdBQUEsRUFBUCxPQUFBO0FBWUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUNvbXBvbmVudDxcbiAgVCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgUCBleHRlbmRzIHt9XG4+KENvbXBvbmVudDogVCwgcHJvcHM6IFApIHtcbiAgY29uc3QgcHJvcHNSZWYgPSBSZWFjdC51c2VSZWY8UCB8IG51bGw+KHByb3BzKTtcblxuICAvLyBOb3JtYWxseSByZWZzIHNob3VsZG4ndCBiZSBtdXRhdGVkIGluIHJlbmRlclxuICAvLyBCdXQgd2UgcmV0dXJuIGEgY29tcG9uZW50IHdoaWNoIHdpbGwgYmUgcmVuZGVyZWRcbiAgLy8gU28gaXQncyBqdXN0IGZvciBpbW1lZGlhdGUgY29uc3VtcHRpb25cbiAgcHJvcHNSZWYuY3VycmVudCA9IHByb3BzO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcHJvcHNSZWYuY3VycmVudCA9IG51bGw7XG4gIH0pO1xuXG4gIHJldHVybiBSZWFjdC51c2VSZWYoKHJlc3Q6IE9taXQ8UmVhY3QuQ29tcG9uZW50UHJvcHM8VD4sIGtleW9mIFA+KSA9PiB7XG4gICAgY29uc3QgcHJvcHMgPSBwcm9wc1JlZi5jdXJyZW50O1xuXG4gICAgaWYgKHByb3BzID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgcmV0dXJuZWQgY29tcG9uZW50IG11c3QgYmUgcmVuZGVyZWQgaW4gdGhlIHNhbWUgcmVuZGVyIHBoYXNlIGFzIHRoZSBob29rLidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIHByb3BzIHNob3VsZCBiZSBmaW5lIGhlcmVcbiAgICByZXR1cm4gPENvbXBvbmVudCB7Li4ucHJvcHN9IHsuLi5yZXN0fSAvPjtcbiAgfSkuY3VycmVudDtcbn1cbiJdfQ==