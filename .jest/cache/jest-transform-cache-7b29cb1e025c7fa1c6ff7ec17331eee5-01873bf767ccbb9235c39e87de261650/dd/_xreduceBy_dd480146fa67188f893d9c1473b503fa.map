{"version":3,"sources":["_xreduceBy.js"],"names":["_curryN","require","_has","_xfBase","XReduceBy","valueFn","valueAcc","keyFn","xf","inputs","prototype","init","result","key","input","_xreduceBy","module","exports"],"mappings":"AAAA,IAAIA,OAAO,GAEXC,OAAO,CAAC,WAAD,CAFP;;AAIA,IAAIC,IAAI,GAERD,OAAO,CAAC,QAAD,CAFP;;AAIA,IAAIE,OAAO,GAEXF,OAAO,CAAC,WAAD,CAFP;;AAIA,IAAIG,SAAS,GAEb,YAAY;AACV,WAASA,SAAT,CAAmBC,OAAnB,EAA4BC,QAA5B,EAAsCC,KAAtC,EAA6CC,EAA7C,EAAiD;AAC/C,SAAKH,OAAL,GAAeA,OAAf;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,MAAL,GAAc,EAAd;AACD;;AAEDL,EAAAA,SAAS,CAACM,SAAV,CAAoB,mBAApB,IAA2CP,OAAO,CAACQ,IAAnD;;AAEAP,EAAAA,SAAS,CAACM,SAAV,CAAoB,qBAApB,IAA6C,UAAUE,MAAV,EAAkB;AAC7D,QAAIC,GAAJ;;AAEA,SAAKA,GAAL,IAAY,KAAKJ,MAAjB,EAAyB;AACvB,UAAIP,IAAI,CAACW,GAAD,EAAM,KAAKJ,MAAX,CAAR,EAA4B;AAC1BG,QAAAA,MAAM,GAAG,KAAKJ,EAAL,CAAQ,mBAAR,EAA6BI,MAA7B,EAAqC,KAAKH,MAAL,CAAYI,GAAZ,CAArC,CAAT;;AAEA,YAAID,MAAM,CAAC,sBAAD,CAAV,EAAoC;AAClCA,UAAAA,MAAM,GAAGA,MAAM,CAAC,oBAAD,CAAf;AACA;AACD;AACF;AACF;;AAED,SAAKH,MAAL,GAAc,IAAd;AACA,WAAO,KAAKD,EAAL,CAAQ,qBAAR,EAA+BI,MAA/B,CAAP;AACD,GAhBD;;AAkBAR,EAAAA,SAAS,CAACM,SAAV,CAAoB,mBAApB,IAA2C,UAAUE,MAAV,EAAkBE,KAAlB,EAAyB;AAClE,QAAID,GAAG,GAAG,KAAKN,KAAL,CAAWO,KAAX,CAAV;AACA,SAAKL,MAAL,CAAYI,GAAZ,IAAmB,KAAKJ,MAAL,CAAYI,GAAZ,KAAoB,CAACA,GAAD,EAAM,KAAKP,QAAX,CAAvC;AACA,SAAKG,MAAL,CAAYI,GAAZ,EAAiB,CAAjB,IAAsB,KAAKR,OAAL,CAAa,KAAKI,MAAL,CAAYI,GAAZ,EAAiB,CAAjB,CAAb,EAAkCC,KAAlC,CAAtB;AACA,WAAOF,MAAP;AACD,GALD;;AAOA,SAAOR,SAAP;AACD,CArCD,EAFA;;AAyCA,IAAIW,UAAU,GAEdf,OAAO,CAAC,CAAD,EAAI,EAAJ,EAAQ,SAASe,UAAT,CAAoBV,OAApB,EAA6BC,QAA7B,EAAuCC,KAAvC,EAA8CC,EAA9C,EAAkD;AAC/D,SAAO,IAAIJ,SAAJ,CAAcC,OAAd,EAAuBC,QAAvB,EAAiCC,KAAjC,EAAwCC,EAAxC,CAAP;AACD,CAFM,CAFP;;AAMAQ,MAAM,CAACC,OAAP,GAAiBF,UAAjB","sourcesContent":["var _curryN =\n/*#__PURE__*/\nrequire(\"./_curryN\");\n\nvar _has =\n/*#__PURE__*/\nrequire(\"./_has\");\n\nvar _xfBase =\n/*#__PURE__*/\nrequire(\"./_xfBase\");\n\nvar XReduceBy =\n/*#__PURE__*/\nfunction () {\n  function XReduceBy(valueFn, valueAcc, keyFn, xf) {\n    this.valueFn = valueFn;\n    this.valueAcc = valueAcc;\n    this.keyFn = keyFn;\n    this.xf = xf;\n    this.inputs = {};\n  }\n\n  XReduceBy.prototype['@@transducer/init'] = _xfBase.init;\n\n  XReduceBy.prototype['@@transducer/result'] = function (result) {\n    var key;\n\n    for (key in this.inputs) {\n      if (_has(key, this.inputs)) {\n        result = this.xf['@@transducer/step'](result, this.inputs[key]);\n\n        if (result['@@transducer/reduced']) {\n          result = result['@@transducer/value'];\n          break;\n        }\n      }\n    }\n\n    this.inputs = null;\n    return this.xf['@@transducer/result'](result);\n  };\n\n  XReduceBy.prototype['@@transducer/step'] = function (result, input) {\n    var key = this.keyFn(input);\n    this.inputs[key] = this.inputs[key] || [key, this.valueAcc];\n    this.inputs[key][1] = this.valueFn(this.inputs[key][1], input);\n    return result;\n  };\n\n  return XReduceBy;\n}();\n\nvar _xreduceBy =\n/*#__PURE__*/\n_curryN(4, [], function _xreduceBy(valueFn, valueAcc, keyFn, xf) {\n  return new XReduceBy(valueFn, valueAcc, keyFn, xf);\n});\n\nmodule.exports = _xreduceBy;"]}