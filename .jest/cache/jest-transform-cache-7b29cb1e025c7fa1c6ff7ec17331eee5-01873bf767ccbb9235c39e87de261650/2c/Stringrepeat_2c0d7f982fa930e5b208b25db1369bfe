2886008bf236f6665c0c9467e5e4cdb1
"use strict";

exports.__esModule = true;
exports["default"] = void 0;

var _isNotFinite = _interopRequireDefault(require("../../isNotFinite"));

var _isNegative = _interopRequireDefault(require("../../isNegative"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}

var repeat = function repeat(value, count) {
  var validCount = Number(count);

  if (validCount !== count) {
    validCount = 0;
  }

  if ((0, _isNegative["default"])(validCount)) {
    throw new RangeError('repeat count must be non-negative');
  }

  if ((0, _isNotFinite["default"])(validCount)) {
    throw new RangeError('repeat count must be less than infinity');
  }

  validCount = Math.floor(validCount);

  if (value.length === 0 || validCount === 0) {
    return '';
  }

  if (value.length * validCount >= 1 << 28) {
    throw new RangeError('repeat count must not overflow maximum string size');
  }

  var maxCount = value.length * validCount;
  validCount = Math.floor(Math.log(validCount) / Math.log(2));
  var result = value;

  while (validCount) {
    result += value;
    validCount -= 1;
  }

  result += result.substring(0, maxCount - result.length);
  return result;
};

var _default = repeat;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0cmluZy5yZXBlYXQuanMiXSwibmFtZXMiOlsiZXhwb3J0cyIsIl9fZXNNb2R1bGUiLCJfaXNOb3RGaW5pdGUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9pc05lZ2F0aXZlIiwib2JqIiwicmVwZWF0IiwidmFsdWUiLCJjb3VudCIsInZhbGlkQ291bnQiLCJOdW1iZXIiLCJSYW5nZUVycm9yIiwiTWF0aCIsImZsb29yIiwibGVuZ3RoIiwibWF4Q291bnQiLCJsb2ciLCJyZXN1bHQiLCJzdWJzdHJpbmciLCJfZGVmYXVsdCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUFBLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQixJQUFyQjtBQUNBRCxPQUFPLENBQUMsU0FBRCxDQUFQLEdBQXFCLEtBQUssQ0FBMUI7O0FBRUEsSUFBSUUsWUFBWSxHQUFHQyxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLG1CQUFELENBQVIsQ0FBekM7O0FBRUEsSUFBSUMsV0FBVyxHQUFHRixzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLGtCQUFELENBQVIsQ0FBeEM7O0FBRUEsU0FBU0Qsc0JBQVQsQ0FBZ0NHLEdBQWhDLEVBQXFDO0FBQUUsU0FBT0EsR0FBRyxJQUFJQSxHQUFHLENBQUNMLFVBQVgsR0FBd0JLLEdBQXhCLEdBQThCO0FBQUUsZUFBV0E7QUFBYixHQUFyQztBQUEwRDs7QUFFakcsSUFBSUMsTUFBTSxHQUFHLFNBQVNBLE1BQVQsQ0FBZ0JDLEtBQWhCLEVBQXVCQyxLQUF2QixFQUE4QjtBQUN6QyxNQUFJQyxVQUFVLEdBQUdDLE1BQU0sQ0FBQ0YsS0FBRCxDQUF2Qjs7QUFFQSxNQUFJQyxVQUFVLEtBQUtELEtBQW5CLEVBQTBCO0FBQ3hCQyxJQUFBQSxVQUFVLEdBQUcsQ0FBYjtBQUNEOztBQUVELE1BQUksQ0FBQyxHQUFHTCxXQUFXLENBQUMsU0FBRCxDQUFmLEVBQTRCSyxVQUE1QixDQUFKLEVBQTZDO0FBQzNDLFVBQU0sSUFBSUUsVUFBSixDQUFlLG1DQUFmLENBQU47QUFDRDs7QUFFRCxNQUFJLENBQUMsR0FBR1YsWUFBWSxDQUFDLFNBQUQsQ0FBaEIsRUFBNkJRLFVBQTdCLENBQUosRUFBOEM7QUFDNUMsVUFBTSxJQUFJRSxVQUFKLENBQWUseUNBQWYsQ0FBTjtBQUNEOztBQUVERixFQUFBQSxVQUFVLEdBQUdHLElBQUksQ0FBQ0MsS0FBTCxDQUFXSixVQUFYLENBQWI7O0FBRUEsTUFBSUYsS0FBSyxDQUFDTyxNQUFOLEtBQWlCLENBQWpCLElBQXNCTCxVQUFVLEtBQUssQ0FBekMsRUFBNEM7QUFDMUMsV0FBTyxFQUFQO0FBQ0Q7O0FBTUQsTUFBSUYsS0FBSyxDQUFDTyxNQUFOLEdBQWVMLFVBQWYsSUFBNkIsS0FBSyxFQUF0QyxFQUEwQztBQUN4QyxVQUFNLElBQUlFLFVBQUosQ0FBZSxvREFBZixDQUFOO0FBQ0Q7O0FBRUQsTUFBSUksUUFBUSxHQUFHUixLQUFLLENBQUNPLE1BQU4sR0FBZUwsVUFBOUI7QUFDQUEsRUFBQUEsVUFBVSxHQUFHRyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDSSxHQUFMLENBQVNQLFVBQVQsSUFBdUJHLElBQUksQ0FBQ0ksR0FBTCxDQUFTLENBQVQsQ0FBbEMsQ0FBYjtBQUNBLE1BQUlDLE1BQU0sR0FBR1YsS0FBYjs7QUFFQSxTQUFPRSxVQUFQLEVBQW1CO0FBQ2pCUSxJQUFBQSxNQUFNLElBQUlWLEtBQVY7QUFDQUUsSUFBQUEsVUFBVSxJQUFJLENBQWQ7QUFDRDs7QUFFRFEsRUFBQUEsTUFBTSxJQUFJQSxNQUFNLENBQUNDLFNBQVAsQ0FBaUIsQ0FBakIsRUFBb0JILFFBQVEsR0FBR0UsTUFBTSxDQUFDSCxNQUF0QyxDQUFWO0FBQ0EsU0FBT0csTUFBUDtBQUNELENBeENEOztBQTBDQSxJQUFJRSxRQUFRLEdBQUdiLE1BQWY7QUFDQVAsT0FBTyxDQUFDLFNBQUQsQ0FBUCxHQUFxQm9CLFFBQXJCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHZvaWQgMDtcblxudmFyIF9pc05vdEZpbml0ZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL2lzTm90RmluaXRlXCIpKTtcblxudmFyIF9pc05lZ2F0aXZlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vaXNOZWdhdGl2ZVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgcmVwZWF0ID0gZnVuY3Rpb24gcmVwZWF0KHZhbHVlLCBjb3VudCkge1xuICB2YXIgdmFsaWRDb3VudCA9IE51bWJlcihjb3VudCk7XG5cbiAgaWYgKHZhbGlkQ291bnQgIT09IGNvdW50KSB7XG4gICAgdmFsaWRDb3VudCA9IDA7XG4gIH1cblxuICBpZiAoKDAsIF9pc05lZ2F0aXZlW1wiZGVmYXVsdFwiXSkodmFsaWRDb3VudCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigncmVwZWF0IGNvdW50IG11c3QgYmUgbm9uLW5lZ2F0aXZlJyk7XG4gIH1cblxuICBpZiAoKDAsIF9pc05vdEZpbml0ZVtcImRlZmF1bHRcIl0pKHZhbGlkQ291bnQpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlcGVhdCBjb3VudCBtdXN0IGJlIGxlc3MgdGhhbiBpbmZpbml0eScpO1xuICB9XG5cbiAgdmFsaWRDb3VudCA9IE1hdGguZmxvb3IodmFsaWRDb3VudCk7XG5cbiAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCB8fCB2YWxpZENvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuICcnO1xuICB9IC8vIEVuc3VyaW5nIHZhbGlkQ291bnQgaXMgYSAzMS1iaXQgaW50ZWdlciBhbGxvd3MgdXMgdG8gaGVhdmlseSBvcHRpbWl6ZSB0aGVcbiAgLy8gbWFpbiBwYXJ0LiBCdXQgYW55d2F5LCBtb3N0IGN1cnJlbnQgKEF1Z3VzdCAyMDE0KSBicm93c2VycyBjYW4ndCBoYW5kbGVcbiAgLy8gc3RyaW5ncyAxIDw8IDI4IGNoYXJzIG9yIGxvbmdlciwgc286XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG5cblxuICBpZiAodmFsdWUubGVuZ3RoICogdmFsaWRDb3VudCA+PSAxIDw8IDI4KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlcGVhdCBjb3VudCBtdXN0IG5vdCBvdmVyZmxvdyBtYXhpbXVtIHN0cmluZyBzaXplJyk7XG4gIH1cblxuICB2YXIgbWF4Q291bnQgPSB2YWx1ZS5sZW5ndGggKiB2YWxpZENvdW50O1xuICB2YWxpZENvdW50ID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWxpZENvdW50KSAvIE1hdGgubG9nKDIpKTtcbiAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuXG4gIHdoaWxlICh2YWxpZENvdW50KSB7XG4gICAgcmVzdWx0ICs9IHZhbHVlO1xuICAgIHZhbGlkQ291bnQgLT0gMTtcbiAgfVxuXG4gIHJlc3VsdCArPSByZXN1bHQuc3Vic3RyaW5nKDAsIG1heENvdW50IC0gcmVzdWx0Lmxlbmd0aCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgX2RlZmF1bHQgPSByZXBlYXQ7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kZWZhdWx0OyJdfQ==