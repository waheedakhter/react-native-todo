{"version":3,"sources":["cata.js"],"names":["exports","__esModule","_ramda","require","_isFunction","_interopRequireDefault","obj","catamorphism","curry","leftFn","rightFn","catamorphicObj","matchWith","Ok","_ref","value","Error","_ref2","Just","_ref3","Nothing","undefined","Success","_ref4","Failure","_ref5","cata","getOrElse","elseValue","concat","Math","random","either","_default"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,WAAW,GAAGC,sBAAsB,CAACF,OAAO,CAAC,cAAD,CAAR,CAAxC;;AAEA,SAASE,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACL,UAAX,GAAwBK,GAAxB,GAA8B;AAAE,eAAWA;AAAb,GAArC;AAA0D;;AAsDjG,IAAIC,YAAY,GAAG,CAAC,GAAGL,MAAM,CAACM,KAAX,EAAkB,UAAUC,MAAV,EAAkBC,OAAlB,EAA2BC,cAA3B,EAA2C;AAE9E,MAAI,CAAC,GAAGP,WAAW,CAAC,SAAD,CAAf,EAA4BO,cAAc,CAACC,SAA3C,CAAJ,EAA2D;AACzD,WAAOD,cAAc,CAACC,SAAf,CAAyB;AAE9BC,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYC,IAAZ,EAAkB;AACpB,YAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;AACA,eAAOL,OAAO,CAACK,KAAD,CAAd;AACD,OAL6B;AAM9BC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAeC,KAAf,EAAsB;AAC3B,YAAIF,KAAK,GAAGE,KAAK,CAACF,KAAlB;AACA,eAAON,MAAM,CAACM,KAAD,CAAb;AACD,OAT6B;AAW9BG,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcC,KAAd,EAAqB;AACzB,YAAIJ,KAAK,GAAGI,KAAK,CAACJ,KAAlB;AACA,eAAOL,OAAO,CAACK,KAAD,CAAd;AACD,OAd6B;AAe9BK,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,eAAOX,MAAM,CAACY,SAAD,CAAb;AACD,OAjB6B;AAmB9BC,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBC,KAAjB,EAAwB;AAC/B,YAAIR,KAAK,GAAGQ,KAAK,CAACR,KAAlB;AACA,eAAOL,OAAO,CAACK,KAAD,CAAd;AACD,OAtB6B;AAuB9BS,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBC,KAAjB,EAAwB;AAC/B,YAAIV,KAAK,GAAGU,KAAK,CAACV,KAAlB;AACA,eAAON,MAAM,CAACM,KAAD,CAAb;AACD;AA1B6B,KAAzB,CAAP;AA4BD;;AAED,MAAI,CAAC,GAAGX,WAAW,CAAC,SAAD,CAAf,EAA4BO,cAAc,CAACe,IAA3C,CAAJ,EAAsD;AACpD,WAAOf,cAAc,CAACe,IAAf,CAAoBjB,MAApB,EAA4BC,OAA5B,CAAP;AACD;;AAED,MAAI,CAAC,GAAGN,WAAW,CAAC,SAAD,CAAf,EAA4BO,cAAc,CAACgB,SAA3C,CAAJ,EAA2D;AACzD,QAAIC,SAAS,GAAG,UAAUC,MAAV,CAAiBC,IAAI,CAACC,MAAL,EAAjB,CAAhB;AACA,QAAIhB,KAAK,GAAGJ,cAAc,CAACgB,SAAf,CAAyBC,SAAzB,CAAZ;AACA,WAAOb,KAAK,KAAKa,SAAV,GAAsBnB,MAAM,EAA5B,GAAiCC,OAAO,CAACK,KAAD,CAA/C;AACD;;AAED,SAAOJ,cAAc,CAACqB,MAAf,CAAsBvB,MAAtB,EAA8BC,OAA9B,CAAP;AACD,CA5CkB,CAAnB;AA6CA,IAAIuB,QAAQ,GAAG1B,YAAf;AACAP,OAAO,CAAC,SAAD,CAAP,GAAqBiC,QAArB","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _ramda = require(\"ramda\");\n\nvar _isFunction = _interopRequireDefault(require(\"./isFunction\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * The catamorphism is a way of folding a type into a value.\n *\n * **Either**\n *\n * If the either is right then the right function will be executed with\n * the `right` value and the value of the function returned. Otherwise the left function\n * will be called with the `left` value.\n *\n * **Maybe**\n *\n * If the maybe is Some than the right function will be executed with the `some` value and the value of the function\n * returned. Otherwise the left function with be called without an argument.\n *\n * **Result**\n *\n * If the result is Ok than the right function will be executed with the `Ok` value and the value of the function\n * returned. Otherwise the left function will be called with the `Error` value.\n *\n * **Validation**\n *\n * If the validation is Success than the right function will be executed with the `Success` value and the value of the function\n * returned. Otherwise the left function will be called with the `Failure` value.\n *\n * Supported monadic libraries: {@link https://monet.github.io/monet.js/|monet.js}, {@link https://folktale.origamitower.com/|folktale}, {@link https://github.com/ramda/ramda-fantasy|ramda-fantasy}\n *\n * @func cata\n * @memberOf RA\n * @since {@link https://char0n.github.io/ramda-adjunct/1.4.0|v1.4.0}\n * @category Function\n * @sig (a -> b) -> (a -> c) -> Cata a -> b | c\n * @param {Function} leftFn The left function that consumes the left value\n * @param {Function} rightFn The right function that consumes the right value\n * @param {Cata} catamorphicObj Either, Maybe or any other type with catamorphic capabilities (`cata` or `either` method)\n * @return {*}\n * @see {@link https://monet.github.io/monet.js/#cata|cata explained}\n * @example\n *\n * // Either\n * const eitherR = Either.Right(1);\n * const eitherL = Either.Left(2);\n *\n * RA.cata(identity, identity, eitherR); //=> 1\n * RA.cata(identity, identity, eitherL); //=> 2\n *\n * // Maybe\n * const maybeSome = Maybe.Some(1);\n * const maybeNothing = Maybe.Nothing();\n *\n * RA.cata(identity, identity, maybeSome); //=> 1\n * RA.cata(identity, identity, maybeNothing); //=> undefined\n */\nvar catamorphism = (0, _ramda.curry)(function (leftFn, rightFn, catamorphicObj) {\n  // folktale support\n  if ((0, _isFunction[\"default\"])(catamorphicObj.matchWith)) {\n    return catamorphicObj.matchWith({\n      // Result type\n      Ok: function Ok(_ref) {\n        var value = _ref.value;\n        return rightFn(value);\n      },\n      Error: function Error(_ref2) {\n        var value = _ref2.value;\n        return leftFn(value);\n      },\n      // Maybe type\n      Just: function Just(_ref3) {\n        var value = _ref3.value;\n        return rightFn(value);\n      },\n      Nothing: function Nothing() {\n        return leftFn(undefined);\n      },\n      // Validation type\n      Success: function Success(_ref4) {\n        var value = _ref4.value;\n        return rightFn(value);\n      },\n      Failure: function Failure(_ref5) {\n        var value = _ref5.value;\n        return leftFn(value);\n      }\n    });\n  }\n\n  if ((0, _isFunction[\"default\"])(catamorphicObj.cata)) {\n    return catamorphicObj.cata(leftFn, rightFn);\n  }\n\n  if ((0, _isFunction[\"default\"])(catamorphicObj.getOrElse)) {\n    var elseValue = \"RA.cata\".concat(Math.random());\n    var value = catamorphicObj.getOrElse(elseValue);\n    return value === elseValue ? leftFn() : rightFn(value);\n  }\n\n  return catamorphicObj.either(leftFn, rightFn);\n});\nvar _default = catamorphism;\nexports[\"default\"] = _default;"]}