{"version":3,"sources":["index.js"],"names":["isOptionObject","require","hasOwnProperty","Object","prototype","propertyIsEnumerable","defineProperty","object","name","value","writable","enumerable","configurable","globalThis","defaultMergeOptions","concatArrays","ignoreUndefined","getEnumerableOwnPropertyKeys","keys","key","call","push","getOwnPropertySymbols","symbols","symbol","clone","Array","isArray","cloneArray","cloneOptionObject","array","result","slice","forEach","getPrototypeOf","create","mergeKeys","merged","source","config","merge","resultIndex","indices","k","length","String","filter","includes","module","exports","_","options","option","undefined","TypeError"],"mappings":"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","sourcesContent":["'use strict';\nconst isOptionObject = require('is-plain-obj');\n\nconst {hasOwnProperty} = Object.prototype;\nconst {propertyIsEnumerable} = Object;\nconst defineProperty = (object, name, value) => Object.defineProperty(object, name, {\n\tvalue,\n\twritable: true,\n\tenumerable: true,\n\tconfigurable: true\n});\n\nconst globalThis = this;\nconst defaultMergeOptions = {\n\tconcatArrays: false,\n\tignoreUndefined: false\n};\n\nconst getEnumerableOwnPropertyKeys = value => {\n\tconst keys = [];\n\n\tfor (const key in value) {\n\t\tif (hasOwnProperty.call(value, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\n\t/* istanbul ignore else  */\n\tif (Object.getOwnPropertySymbols) {\n\t\tconst symbols = Object.getOwnPropertySymbols(value);\n\n\t\tfor (const symbol of symbols) {\n\t\t\tif (propertyIsEnumerable.call(value, symbol)) {\n\t\t\t\tkeys.push(symbol);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn keys;\n};\n\nfunction clone(value) {\n\tif (Array.isArray(value)) {\n\t\treturn cloneArray(value);\n\t}\n\n\tif (isOptionObject(value)) {\n\t\treturn cloneOptionObject(value);\n\t}\n\n\treturn value;\n}\n\nfunction cloneArray(array) {\n\tconst result = array.slice(0, 0);\n\n\tgetEnumerableOwnPropertyKeys(array).forEach(key => {\n\t\tdefineProperty(result, key, clone(array[key]));\n\t});\n\n\treturn result;\n}\n\nfunction cloneOptionObject(object) {\n\tconst result = Object.getPrototypeOf(object) === null ? Object.create(null) : {};\n\n\tgetEnumerableOwnPropertyKeys(object).forEach(key => {\n\t\tdefineProperty(result, key, clone(object[key]));\n\t});\n\n\treturn result;\n}\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {string[]} keys keys to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n */\nconst mergeKeys = (merged, source, keys, config) => {\n\tkeys.forEach(key => {\n\t\tif (typeof source[key] === 'undefined' && config.ignoreUndefined) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Do not recurse into prototype chain of merged\n\t\tif (key in merged && merged[key] !== Object.getPrototypeOf(merged)) {\n\t\t\tdefineProperty(merged, key, merge(merged[key], source[key], config));\n\t\t} else {\n\t\t\tdefineProperty(merged, key, clone(source[key]));\n\t\t}\n\t});\n\n\treturn merged;\n};\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n *\n * see [Array.prototype.concat ( ...arguments )](http://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.concat)\n */\nconst concatArrays = (merged, source, config) => {\n\tlet result = merged.slice(0, 0);\n\tlet resultIndex = 0;\n\n\t[merged, source].forEach(array => {\n\t\tconst indices = [];\n\n\t\t// `result.concat(array)` with cloning\n\t\tfor (let k = 0; k < array.length; k++) {\n\t\t\tif (!hasOwnProperty.call(array, k)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tindices.push(String(k));\n\n\t\t\tif (array === merged) {\n\t\t\t\t// Already cloned\n\t\t\t\tdefineProperty(result, resultIndex++, array[k]);\n\t\t\t} else {\n\t\t\t\tdefineProperty(result, resultIndex++, clone(array[k]));\n\t\t\t}\n\t\t}\n\n\t\t// Merge non-index keys\n\t\tresult = mergeKeys(result, array, getEnumerableOwnPropertyKeys(array).filter(key => !indices.includes(key)), config);\n\t});\n\n\treturn result;\n};\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n */\nfunction merge(merged, source, config) {\n\tif (config.concatArrays && Array.isArray(merged) && Array.isArray(source)) {\n\t\treturn concatArrays(merged, source, config);\n\t}\n\n\tif (!isOptionObject(source) || !isOptionObject(merged)) {\n\t\treturn clone(source);\n\t}\n\n\treturn mergeKeys(merged, source, getEnumerableOwnPropertyKeys(source), config);\n}\n\nmodule.exports = function (...options) {\n\tconst config = merge(clone(defaultMergeOptions), (this !== globalThis && this) || {}, defaultMergeOptions);\n\tlet merged = {_: {}};\n\n\tfor (const option of options) {\n\t\tif (option === undefined) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!isOptionObject(option)) {\n\t\t\tthrow new TypeError('`' + option + '` is not an Option Object');\n\t\t}\n\n\t\tmerged = merge(merged, {_: option}, config);\n\t}\n\n\treturn merged._;\n};\n"]}