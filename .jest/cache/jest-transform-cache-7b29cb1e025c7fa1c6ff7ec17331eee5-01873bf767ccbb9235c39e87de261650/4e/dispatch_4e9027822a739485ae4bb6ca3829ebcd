1c6b7e6466414b8c16401622ad14ff46
"use strict";

exports.__esModule = true;
exports["default"] = void 0;

var _ramda = require("ramda");

var _isNotNil = _interopRequireDefault(require("./isNotNil"));

var _isNonEmptyArray = _interopRequireDefault(require("./isNonEmptyArray"));

var _stubUndefined = _interopRequireDefault(require("./stubUndefined"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

var byArity = (0, _ramda.comparator)(function (a, b) {
  return a.length > b.length;
});
var getMaxArity = (0, _ramda.pipe)((0, _ramda.sort)(byArity), _ramda.head, (0, _ramda.prop)('length'));
var iteratorFn = (0, _ramda.curry)(function (args, accumulator, fn) {
  var result = fn.apply(void 0, _toConsumableArray(args));
  return (0, _isNotNil["default"])(result) ? (0, _ramda.reduced)(result) : accumulator;
});

var dispatchImpl = function dispatchImpl(functions) {
  var arity = getMaxArity(functions);
  return (0, _ramda.curryN)(arity, function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return (0, _ramda.reduce)(iteratorFn(args), undefined, functions);
  });
};

var dispatch = (0, _ramda.ifElse)(_isNonEmptyArray["default"], dispatchImpl, _stubUndefined["default"]);
var _default = dispatch;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BhdGNoLmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiX3JhbWRhIiwicmVxdWlyZSIsIl9pc05vdE5pbCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfaXNOb25FbXB0eUFycmF5IiwiX3N0dWJVbmRlZmluZWQiLCJvYmoiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiVHlwZUVycm9yIiwibyIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiQXJyYXkiLCJmcm9tIiwidGVzdCIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsImlzQXJyYXkiLCJsZW4iLCJsZW5ndGgiLCJpIiwiYXJyMiIsImJ5QXJpdHkiLCJjb21wYXJhdG9yIiwiYSIsImIiLCJnZXRNYXhBcml0eSIsInBpcGUiLCJzb3J0IiwiaGVhZCIsInByb3AiLCJpdGVyYXRvckZuIiwiY3VycnkiLCJhcmdzIiwiYWNjdW11bGF0b3IiLCJmbiIsInJlc3VsdCIsImFwcGx5IiwicmVkdWNlZCIsImRpc3BhdGNoSW1wbCIsImZ1bmN0aW9ucyIsImFyaXR5IiwiY3VycnlOIiwiX2xlbiIsImFyZ3VtZW50cyIsIl9rZXkiLCJyZWR1Y2UiLCJ1bmRlZmluZWQiLCJkaXNwYXRjaCIsImlmRWxzZSIsIl9kZWZhdWx0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsT0FBTyxDQUFDQyxVQUFSLEdBQXFCLElBQXJCO0FBQ0FELE9BQU8sQ0FBQyxTQUFELENBQVAsR0FBcUIsS0FBSyxDQUExQjs7QUFFQSxJQUFJRSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxPQUFELENBQXBCOztB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Q3pCLE1BQXJCLEVBQTZCYyxJQUFJLEdBQUcsSUFBSXRCLEtBQUosQ0FBVWdDLElBQVYsQ0FBcEMsRUFBcURFLElBQUksR0FBRyxDQUFqRSxFQUFvRUEsSUFBSSxHQUFHRixJQUEzRSxFQUFpRkUsSUFBSSxFQUFyRixFQUF5RjtBQUN2RlosTUFBQUEsSUFBSSxDQUFDWSxJQUFELENBQUosR0FBYUQsU0FBUyxDQUFDQyxJQUFELENBQXRCO0FBQ0Q7O0FBRUQsV0FBTyxDQUFDLEdBQUczRCxNQUFNLENBQUM0RCxNQUFYLEVBQW1CZixVQUFVLENBQUNFLElBQUQsQ0FBN0IsRUFBcUNjLFNBQXJDLEVBQWdEUCxTQUFoRCxDQUFQO0FBQ0QsR0FOTSxDQUFQO0FBT0QsQ0FURDs7QUFXQSxJQUFJUSxRQUFRLEdBQUcsQ0FBQyxHQUFHOUQsTUFBTSxDQUFDK0QsTUFBWCxFQUFtQjNELGdCQUFnQixDQUFDLFNBQUQsQ0FBbkMsRUFBZ0RpRCxZQUFoRCxFQUE4RGhELGNBQWMsQ0FBQyxTQUFELENBQTVFLENBQWY7QUFDQSxJQUFJMkQsUUFBUSxHQUFHRixRQUFmO0FBQ0FoRSxPQUFPLENBQUMsU0FBRCxDQUFQLEdBQXFCa0UsUUFBckIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdm9pZCAwO1xuXG52YXIgX3JhbWRhID0gcmVxdWlyZShcInJhbWRhXCIpO1xuXG52YXIgX2lzTm90TmlsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pc05vdE5pbFwiKSk7XG5cbnZhciBfaXNOb25FbXB0eUFycmF5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pc05vbkVtcHR5QXJyYXlcIikpO1xuXG52YXIgX3N0dWJVbmRlZmluZWQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3N0dWJVbmRlZmluZWRcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG52YXIgYnlBcml0eSA9ICgwLCBfcmFtZGEuY29tcGFyYXRvcikoZnVuY3Rpb24gKGEsIGIpIHtcbiAgcmV0dXJuIGEubGVuZ3RoID4gYi5sZW5ndGg7XG59KTtcbnZhciBnZXRNYXhBcml0eSA9ICgwLCBfcmFtZGEucGlwZSkoKDAsIF9yYW1kYS5zb3J0KShieUFyaXR5KSwgX3JhbWRhLmhlYWQsICgwLCBfcmFtZGEucHJvcCkoJ2xlbmd0aCcpKTtcbnZhciBpdGVyYXRvckZuID0gKDAsIF9yYW1kYS5jdXJyeSkoZnVuY3Rpb24gKGFyZ3MsIGFjY3VtdWxhdG9yLCBmbikge1xuICB2YXIgcmVzdWx0ID0gZm4uYXBwbHkodm9pZCAwLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpO1xuICByZXR1cm4gKDAsIF9pc05vdE5pbFtcImRlZmF1bHRcIl0pKHJlc3VsdCkgPyAoMCwgX3JhbWRhLnJlZHVjZWQpKHJlc3VsdCkgOiBhY2N1bXVsYXRvcjtcbn0pO1xuXG52YXIgZGlzcGF0Y2hJbXBsID0gZnVuY3Rpb24gZGlzcGF0Y2hJbXBsKGZ1bmN0aW9ucykge1xuICB2YXIgYXJpdHkgPSBnZXRNYXhBcml0eShmdW5jdGlvbnMpO1xuICByZXR1cm4gKDAsIF9yYW1kYS5jdXJyeU4pKGFyaXR5LCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiAoMCwgX3JhbWRhLnJlZHVjZSkoaXRlcmF0b3JGbihhcmdzKSwgdW5kZWZpbmVkLCBmdW5jdGlvbnMpO1xuICB9KTtcbn07XG5cbnZhciBkaXNwYXRjaCA9ICgwLCBfcmFtZGEuaWZFbHNlKShfaXNOb25FbXB0eUFycmF5W1wiZGVmYXVsdFwiXSwgZGlzcGF0Y2hJbXBsLCBfc3R1YlVuZGVmaW5lZFtcImRlZmF1bHRcIl0pO1xudmFyIF9kZWZhdWx0ID0gZGlzcGF0Y2g7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kZWZhdWx0OyJdfQ==