1984ea1738eb398cd40069ffda88b317
var _forceReduced = require("./_forceReduced");

var _isArrayLike = require("./_isArrayLike");

var _reduce = require("./_reduce");

var _xfBase = require("./_xfBase");

var preservingReduced = function preservingReduced(xf) {
  return {
    '@@transducer/init': _xfBase.init,
    '@@transducer/result': function transducerResult(result) {
      return xf['@@transducer/result'](result);
    },
    '@@transducer/step': function transducerStep(result, input) {
      var ret = xf['@@transducer/step'](result, input);
      return ret['@@transducer/reduced'] ? _forceReduced(ret) : ret;
    }
  };
};

var _flatCat = function _xcat(xf) {
  var rxf = preservingReduced(xf);
  return {
    '@@transducer/init': _xfBase.init,
    '@@transducer/result': function transducerResult(result) {
      return rxf['@@transducer/result'](result);
    },
    '@@transducer/step': function transducerStep(result, input) {
      return !_isArrayLike(input) ? _reduce(rxf, result, [input]) : _reduce(rxf, result, input);
    }
  };
};

module.exports = _flatCat;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9mbGF0Q2F0LmpzIl0sIm5hbWVzIjpbIl9mb3JjZVJlZHVjZWQiLCJyZXF1aXJlIiwiX2lzQXJyYXlMaWtlIiwiX3JlZHVjZSIsIl94ZkJhc2UiLCJwcmVzZXJ2aW5nUmVkdWNlZCIsInhmIiwiaW5pdCIsInJlc3VsdCIsImlucHV0IiwicmV0IiwiX2ZsYXRDYXQiLCJfeGNhdCIsInJ4ZiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLGFBQWEsR0FFakJDLE9BQU8sQ0FBQyxpQkFBRCxDQUZQOztBQUlBLElBQUlDLFlBQVksR0FFaEJELE9BQU8sQ0FBQyxnQkFBRCxDQUZQOztBQUlBLElBQUlFLE9BQU8sR0FFWEYsT0FBTyxDQUFDLFdBQUQsQ0FGUDs7QUFJQSxJQUFJRyxPQUFPLEdBRVhILE9BQU8sQ0FBQyxXQUFELENBRlA7O0FBSUEsSUFBSUksaUJBQWlCLEdBQUcsU0FBcEJBLGlCQUFvQixDQUFVQyxFQUFWLEVBQWM7QUFDcEMsU0FBTztBQUNMLHlCQUFxQkYsT0FBTyxDQUFDRyxJQUR4QjtBQUVMLDJCQUF1QiwwQkFBVUMsTUFBVixFQUFrQjtBQUN2QyxhQUFPRixFQUFFLENBQUMscUJBQUQsQ0FBRixDQUEwQkUsTUFBMUIsQ0FBUDtBQUNELEtBSkk7QUFLTCx5QkFBcUIsd0JBQVVBLE1BQVYsRUFBa0JDLEtBQWxCLEVBQXlCO0FBQzVDLFVBQUlDLEdBQUcsR0FBR0osRUFBRSxDQUFDLG1CQUFELENBQUYsQ0FBd0JFLE1BQXhCLEVBQWdDQyxLQUFoQyxDQUFWO0FBQ0EsYUFBT0MsR0FBRyxDQUFDLHNCQUFELENBQUgsR0FBOEJWLGFBQWEsQ0FBQ1UsR0FBRCxDQUEzQyxHQUFtREEsR0FBMUQ7QUFDRDtBQVJJLEdBQVA7QUFVRCxDQVhEOztBQWFBLElBQUlDLFFBQVEsR0FBRyxTQUFTQyxLQUFULENBQWVOLEVBQWYsRUFBbUI7QUFDaEMsTUFBSU8sR0FBRyxHQUFHUixpQkFBaUIsQ0FBQ0MsRUFBRCxDQUEzQjtBQUNBLFNBQU87QUFDTCx5QkFBcUJGLE9BQU8sQ0FBQ0csSUFEeEI7QUFFTCwyQkFBdUIsMEJBQVVDLE1BQVYsRUFBa0I7QUFDdkMsYUFBT0ssR0FBRyxDQUFDLHFCQUFELENBQUgsQ0FBMkJMLE1BQTNCLENBQVA7QUFDRCxLQUpJO0FBS0wseUJBQXFCLHdCQUFVQSxNQUFWLEVBQWtCQyxLQUFsQixFQUF5QjtBQUM1QyxhQUFPLENBQUNQLFlBQVksQ0FBQ08sS0FBRCxDQUFiLEdBQXVCTixPQUFPLENBQUNVLEdBQUQsRUFBTUwsTUFBTixFQUFjLENBQUNDLEtBQUQsQ0FBZCxDQUE5QixHQUF1RE4sT0FBTyxDQUFDVSxHQUFELEVBQU1MLE1BQU4sRUFBY0MsS0FBZCxDQUFyRTtBQUNEO0FBUEksR0FBUDtBQVNELENBWEQ7O0FBYUFLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkosUUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2ZvcmNlUmVkdWNlZCA9XG4vKiNfX1BVUkVfXyovXG5yZXF1aXJlKFwiLi9fZm9yY2VSZWR1Y2VkXCIpO1xuXG52YXIgX2lzQXJyYXlMaWtlID1cbi8qI19fUFVSRV9fKi9cbnJlcXVpcmUoXCIuL19pc0FycmF5TGlrZVwiKTtcblxudmFyIF9yZWR1Y2UgPVxuLyojX19QVVJFX18qL1xucmVxdWlyZShcIi4vX3JlZHVjZVwiKTtcblxudmFyIF94ZkJhc2UgPVxuLyojX19QVVJFX18qL1xucmVxdWlyZShcIi4vX3hmQmFzZVwiKTtcblxudmFyIHByZXNlcnZpbmdSZWR1Y2VkID0gZnVuY3Rpb24gKHhmKSB7XG4gIHJldHVybiB7XG4gICAgJ0BAdHJhbnNkdWNlci9pbml0JzogX3hmQmFzZS5pbml0LFxuICAgICdAQHRyYW5zZHVjZXIvcmVzdWx0JzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10ocmVzdWx0KTtcbiAgICB9LFxuICAgICdAQHRyYW5zZHVjZXIvc3RlcCc6IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgICB2YXIgcmV0ID0geGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCBpbnB1dCk7XG4gICAgICByZXR1cm4gcmV0WydAQHRyYW5zZHVjZXIvcmVkdWNlZCddID8gX2ZvcmNlUmVkdWNlZChyZXQpIDogcmV0O1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBfZmxhdENhdCA9IGZ1bmN0aW9uIF94Y2F0KHhmKSB7XG4gIHZhciByeGYgPSBwcmVzZXJ2aW5nUmVkdWNlZCh4Zik7XG4gIHJldHVybiB7XG4gICAgJ0BAdHJhbnNkdWNlci9pbml0JzogX3hmQmFzZS5pbml0LFxuICAgICdAQHRyYW5zZHVjZXIvcmVzdWx0JzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJ4ZlsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddKHJlc3VsdCk7XG4gICAgfSxcbiAgICAnQEB0cmFuc2R1Y2VyL3N0ZXAnOiBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgICAgcmV0dXJuICFfaXNBcnJheUxpa2UoaW5wdXQpID8gX3JlZHVjZShyeGYsIHJlc3VsdCwgW2lucHV0XSkgOiBfcmVkdWNlKHJ4ZiwgcmVzdWx0LCBpbnB1dCk7XG4gICAgfVxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBfZmxhdENhdDsiXX0=