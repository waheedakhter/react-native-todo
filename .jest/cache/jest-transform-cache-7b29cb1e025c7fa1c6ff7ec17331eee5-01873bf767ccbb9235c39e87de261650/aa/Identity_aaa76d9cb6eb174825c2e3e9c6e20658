7a14b72e6be41ad5396b8dfc2bd789fc
"use strict";

function _typeof(obj) {
  "@babel/helpers - typeof";

  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  }, _typeof(obj);
}

exports.__esModule = true;
exports["default"] = void 0;

var _ramda = require("ramda");

var fl = _interopRequireWildcard(require("./mapping"));

var _traits = require("./traits");

function _getRequireWildcardCache(nodeInterop) {
  if (typeof WeakMap !== "function") return null;
  var cacheBabelInterop = new WeakMap();
  var cacheNodeInterop = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {
    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
  })(nodeInterop);
}

function _interopRequireWildcard(obj, nodeInterop) {
  if (!nodeInterop && obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") {
    return {
      "default": obj
    };
  }

  var cache = _getRequireWildcardCache(nodeInterop);

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj["default"] = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  Object.defineProperty(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}

var Identity = function (_fl$of, _fl$ap, _fl$map, _fl$equals, _fl$concat, _fl$chain, _fl$lte, _fl$empty, _fl$contramap) {
  function Identity(value) {
    _classCallCheck(this, Identity);

    this.value = value;
  }

  _createClass(Identity, [{
    key: "get",
    value: function get() {
      return this.value;
    }
  }, {
    key: _fl$ap,
    value: function value(applyWithFn) {
      return _traits.applyTrait[fl.ap].call(this, applyWithFn);
    }
  }, {
    key: "ap",
    value: function ap(applyWithFn) {
      return this[fl.ap](applyWithFn);
    }
  }, {
    key: _fl$map,
    value: function value(fn) {
      return _traits.functorTrait[fl.map].call(this, fn);
    }
  }, {
    key: "map",
    value: function map(fn) {
      return this[fl.map](fn);
    }
  }, {
    key: _fl$equals,
    value: function value(setoid) {
      return _traits.setoidTrait[fl.equals].call(this, setoid);
    }
  }, {
    key: "equals",
    value: function equals(setoid) {
      return this[fl.equals](setoid);
    }
  }, {
    key: _fl$concat,
    value: function value(semigroup) {
      return _traits.semigroupTrait[fl.concat].call(this, semigroup);
    }
  }, {
    key: "concat",
    value: function concat(semigroup) {
      return this[fl.concat](semigroup);
    }
  }, {
    key: _fl$chain,
    value: function value(fn) {
      return _traits.chainTrait[fl.chain].call(this, fn);
    }
  }, {
    key: "chain",
    value: function chain(fn) {
      return this[fl.chain](fn);
    }
  }, {
    key: _fl$lte,
    value: function value(ord) {
      return _traits.ordTrait[fl.lte].call(this, ord);
    }
  }, {
    key: "lte",
    value: function lte(ord) {
      return this[fl.lte](ord);
    }
  }, {
    key: _fl$empty,
    value: function value() {
      return this.constructor.of((0, _ramda.empty)(this.value));
    }
  }, {
    key: "empty",
    value: function empty() {
      return this[fl.empty]();
    }
  }, {
    key: _fl$contramap,
    value: function value(fn) {
      var _this = this;

      return this.constructor.of(function (value) {
        return _this.value(fn(value));
      });
    }
  }, {
    key: "contramap",
    value: function contramap(fn) {
      return this[fl.contramap](fn);
    }
  }], [{
    key: _fl$of,
    value: function value(_value) {
      return new Identity(_value);
    }
  }, {
    key: "of",
    value: function of(value) {
      return new Identity(value);
    }
  }, {
    key: '@@type',
    get: function get() {
      return 'RA/Identity';
    }
  }]);

  return Identity;
}(fl.of, fl.ap, fl.map, fl.equals, fl.concat, fl.chain, fl.lte, fl.empty, fl.contramap);

var _default = Identity;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIklkZW50aXR5LmpzIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJvYmoiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiZXhwb3J0cyIsIl9fZXNNb2R1bGUiLCJfcmFtZGEiLCJyZXF1aXJlIiwiZmwiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl90cmFpdHMiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJJZGVudGl0eSIsIl9mbCRvZiIsIl9mbCRhcCIsIl9mbCRtYXAiLCJfZmwkZXF1YWxzIiwiX2ZsJGNvbmNhdCIsIl9mbCRjaGFpbiIsIl9mbCRsdGUiLCJfZmwkZW1wdHkiLCJfZmwkY29udHJhbWFwIiwidmFsdWUiLCJhcHBseVdpdGhGbiIsImFwcGx5VHJhaXQiLCJhcCIsImZuIiwiZnVuY3RvclRyYWl0IiwibWFwIiwic2V0b2lkIiwic2V0b2lkVHJhaXQiLCJlcXVhbHMiLCJzZW1pZ3JvdXAiLCJzZW1pZ3JvdXBUcmFpdCIsImNvbmNhdCIsImNoYWluVHJhaXQiLCJjaGFpbiIsIm9yZCIsIm9yZFRyYWl0IiwibHRlIiwib2YiLCJlbXB0eSIsIl90aGlzIiwiY29udHJhbWFwIiwiX3ZhbHVlIiwiX2RlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLFNBQVNBLE9BQVQsQ0FBaUJDLEdBQWpCLEVBQXNCO0FBQUU7O0FBQTJCLFNBQU9ELE9BQU8sR0FBRyxjQUFjLE9BQU9FLE1BQXJCLElBQStCLFlBQVksT0FBT0EsTUFBTSxDQUFDQyxRQUF6RCxHQUFvRSxVQUFVRixHQUFWLEVBQWU7QUFBRSxXQUFPLE9BQU9BLEdBQWQ7QUFBb0IsR0FBekcsR0FBNEcsVUFBVUEsR0FBVixFQUFlO0FBQUUsV0FBT0EsR0FBRyxJQUFJLGNBQWMsT0FBT0MsTUFBNUIsSUFBc0NELEdBQUcsQ0FBQ0csV0FBSixLQUFvQkYsTUFBMUQsSUFBb0VELEdBQUcsS0FBS0MsTUFBTSxDQUFDRyxTQUFuRixHQUErRixRQUEvRixHQUEwRyxPQUFPSixHQUF4SDtBQUE4SCxHQUFyUSxFQUF1UUQsT0FBTyxDQUFDQyxHQUFELENBQXJSO0FBQTZSOztBQUVoVkssT0FBTyxDQUFDQyxVQUFSLEdBQXFCLElBQXJCO0FBQ0FELE9BQU8sQ0FBQyxTQUFELENBQVAsR0FBcUIsS0FBSyxDQUExQjs7QUFFQSxJQUFJRSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxPQUFELENBQXBCOztBQUVBLElBQUlDLEVBQUUsR0FBR0MsdUJBQXVCLENBQUNGLE9BQU8sQ0FBQyxXQUFELENBQVIsQ0FBaEM7O0FBRUEsSUFBSUcsT0FBTyxHQUFHSCxPQUFPLENBQUMsVUFBRCxDQUFyQjs7QUFFQSxTQUFTSSx3QkFBVCxDQUFrQ0MsV0FBbEMsRUFBK0M7QUFBRSxNQUFJLE9BQU9DLE9BQVAsS0FBbUIsVUFBdkIsRUFBbUMsT0FBTyxJQUFQO0FBQWEsTUFBSUMsaUJBQWlCLEdBQUcsSUFBSUQsT0FBSixFQUF4QjtBQUF1QyxNQUFJRSxnQkFBZ0IsR0FBRyxJQUFJRixPQUFKLEVBQXZCO0FBQXNDLFNBQU8sQ0FBQ0Ysd0JBQXdCLEdBQUcs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ZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB2b2lkIDA7XG5cbnZhciBfcmFtZGEgPSByZXF1aXJlKFwicmFtZGFcIik7XG5cbnZhciBmbCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuL21hcHBpbmdcIikpO1xuXG52YXIgX3RyYWl0cyA9IHJlcXVpcmUoXCIuL3RyYWl0c1wiKTtcblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlQmFiZWxJbnRlcm9wID0gbmV3IFdlYWtNYXAoKTsgdmFyIGNhY2hlTm9kZUludGVyb3AgPSBuZXcgV2Vha01hcCgpOyByZXR1cm4gKF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZShub2RlSW50ZXJvcCkgeyByZXR1cm4gbm9kZUludGVyb3AgPyBjYWNoZU5vZGVJbnRlcm9wIDogY2FjaGVCYWJlbEludGVyb3A7IH0pKG5vZGVJbnRlcm9wKTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmosIG5vZGVJbnRlcm9wKSB7IGlmICghbm9kZUludGVyb3AgJiYgb2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gaWYgKG9iaiA9PT0gbnVsbCB8fCBfdHlwZW9mKG9iaikgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iaiAhPT0gXCJmdW5jdGlvblwiKSB7IHJldHVybiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfSB2YXIgY2FjaGUgPSBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUobm9kZUludGVyb3ApOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChrZXkgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqW1wiZGVmYXVsdFwiXSA9IG9iajsgaWYgKGNhY2hlKSB7IGNhY2hlLnNldChvYmosIG5ld09iaik7IH0gcmV0dXJuIG5ld09iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbi8qKlxuICogVGhlIHNpbXBsZXN0IHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmFudGFzeWxhbmQvZmFudGFzeS1sYW5kfGZhbnRhc3ktbGFuZH1cbiAqIGNvbXBhdGlibGUgbW9uYWQgd2hpY2ggYXR0YWNoZXMgbm8gaW5mb3JtYXRpb24gdG8gdmFsdWVzLlxuICpcbiAqIFRoZSBJZGVudGl0eSB0eXBlIGlzIGEgdmVyeSBzaW1wbGUgdHlwZSB0aGF0IGhhcyBubyBpbnRlcmVzdGluZyBzaWRlIGVmZmVjdHMgYW5kXG4gKiBpcyBlZmZlY3RpdmVseSBqdXN0IGEgY29udGFpbmVyIG9mIHNvbWUgdmFsdWUuIFNvIHdoeSBkb2VzIGl0IGV4aXN0ID9cbiAqIFRoZSBJZGVudGl0eSB0eXBlIGlzIG9mdGVuIHVzZWQgYXMgdGhlIGJhc2UgbW9uYWQgb2YgYSBtb25hZFxuICogdHJhbnNmb3JtZXIgd2hlbiBubyBvdGhlciBiZWhhdmlvdXIgaXMgcmVxdWlyZWQuXG4gKlxuICogQG1lbWJlck9mIFJBXG4gKiBAaW1wbGVtZW50c1xuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYW50YXN5bGFuZC9mYW50YXN5LWxhbmQjYXBwbHl8QXBwbHl9LFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYW50YXN5bGFuZC9mYW50YXN5LWxhbmQjYXBwbGljYXRpdmV8QXBwbGljYXRpdmV9LFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYW50YXN5bGFuZC9mYW50YXN5LWxhbmQjZnVuY3RvcnxGdW5jdG9yfSxcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmFudGFzeWxhbmQvZmFudGFzeS1sYW5kI3NldG9pZHxTZXRvaWR9LFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYW50YXN5bGFuZC9mYW50YXN5LWxhbmQjc2VtaWdyb3VwfFNlbWlncm91cH0sXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2ZhbnRhc3lsYW5kL2ZhbnRhc3ktbGFuZCNjaGFpbnxDaGFpbn0sXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2ZhbnRhc3lsYW5kL2ZhbnRhc3ktbGFuZCNtb25hZHxNb25hZH0sXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2ZhbnRhc3lsYW5kL2ZhbnRhc3ktbGFuZCNvcmR8T3JkfSxcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmFudGFzeWxhbmQvZmFudGFzeS1sYW5kI21vbm9pZHxNb25vaWQqfSxcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmFudGFzeWxhbmQvZmFudGFzeS1sYW5kI2NvbnRyYXZhcmlhbnR8Q29udHJhdmFyaWFudH1cbiAqIEBzaW5jZSB7QGxpbmsgaHR0cHM6Ly9jaGFyMG4uZ2l0aHViLmlvL3JhbWRhLWFkanVuY3QvMS44LjB8djEuOC4wfVxuICovXG52YXIgSWRlbnRpdHkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9mbCRvZiwgX2ZsJGFwLCBfZmwkbWFwLCBfZmwkZXF1YWxzLCBfZmwkY29uY2F0LCBfZmwkY2hhaW4sIF9mbCRsdGUsIF9mbCRlbXB0eSwgX2ZsJGNvbnRyYW1hcCkge1xuICAvKipcbiAgICogUHJpdmF0ZSBjb25zdHJ1Y3Rvci4gVXNlIHtAbGluayBSQS5JZGVudGl0eS5vZnxJZGVudGl0eS5vZn0gaW5zdGVhZC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtSQS5JZGVudGl0eX1cbiAgICovXG4gIGZ1bmN0aW9uIElkZW50aXR5KHZhbHVlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElkZW50aXR5KTtcblxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogQ2F0YW1vcnBoaXNtIGZvciBhIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogY29uc3QgYSA9IElkZW50aXR5Lm9mKDEpO1xuICAgKiBhLmdldCgpOyAvLz0+IDFcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSWRlbnRpdHksIFt7XG4gICAga2V5OiBcImdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmFudGFzeSBsYW5kIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmFudGFzeWxhbmQvZmFudGFzeS1sYW5kI2FwcGx5fEFwcGx5fSBzcGVjaWZpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHNpZyBhcCA6OiBBcHBseSBmID0+IGYgYSB+PiBmIChhIC0+IGIpIC0+IGYgYlxuICAgICAqIEBwYXJhbSB7UkEuSWRlbnRpdHl9IGFwcGx5V2l0aEZuXG4gICAgICogQHJldHVybiB7UkEuSWRlbnRpdHl9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGNvbnN0IGEgPSBJZGVudGl0eS5vZigxKTtcbiAgICAgKiBjb25zdCBiID0gSWRlbnRpdHkub2YoMSkubWFwKGEgPT4gYiA9PiBhICsgYik7XG4gICAgICpcbiAgICAgKiBhLmFwKGIpOyAvLz0+IElkZW50aXR5KDIpXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogX2ZsJGFwLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShhcHBseVdpdGhGbikge1xuICAgICAgcmV0dXJuIF90cmFpdHMuYXBwbHlUcmFpdFtmbC5hcF0uY2FsbCh0aGlzLCBhcHBseVdpdGhGbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFwKGFwcGx5V2l0aEZuKSB7XG4gICAgICByZXR1cm4gdGhpc1tmbC5hcF0oYXBwbHlXaXRoRm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGYW50YXN5IGxhbmQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYW50YXN5bGFuZC9mYW50YXN5LWxhbmQjZnVuY3RvcnxGdW5jdG9yfSBzcGVjaWZpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHNpZyBtYXAgOjogRnVuY3RvciBmID0+IGYgYSB+PiAoYSAtPiBiKSAtPiBmIGJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgICAqIEByZXR1cm4ge1JBLklkZW50aXR5fVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBjb25zdCBhID0gSWRlbnRpdHkub2YoMSk7XG4gICAgICogYS5tYXAoYSA9PiBhICsgMSk7IC8vPT4gSWRlbnRpdHkoMilcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBfZmwkbWFwLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShmbikge1xuICAgICAgcmV0dXJuIF90cmFpdHMuZnVuY3RvclRyYWl0W2ZsLm1hcF0uY2FsbCh0aGlzLCBmbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXAoZm4pIHtcbiAgICAgIHJldHVybiB0aGlzW2ZsLm1hcF0oZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGYW50YXN5IGxhbmQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYW50YXN5bGFuZC9mYW50YXN5LWxhbmQjc2V0b2lkfFNldG9pZH0gc3BlY2lmaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzaWcgZXF1YWxzIDo6IFNldG9pZCBhID0+IGEgfj4gYSAtPiBCb29sZWFuXG4gICAgICogQHBhcmFtIHtSQS5JZGVudGl0eX0gc2V0b2lkXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogY29uc3QgYSA9IElkZW50aXR5Lm9mKDEpO1xuICAgICAqIGNvbnN0IGIgPSBJZGVudGl0eS5vZigxKTtcbiAgICAgKiBjb25zdCBjID0gSWRlbnRpdHkub2YoMik7XG4gICAgICpcbiAgICAgKiBhLmVxdWFscyhiKTsgLy89PiB0cnVlXG4gICAgICogYS5lcXVhbHMoYyk7IC8vPT4gZmFsc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBfZmwkZXF1YWxzLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShzZXRvaWQpIHtcbiAgICAgIHJldHVybiBfdHJhaXRzLnNldG9pZFRyYWl0W2ZsLmVxdWFsc10uY2FsbCh0aGlzLCBzZXRvaWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlcXVhbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXF1YWxzKHNldG9pZCkge1xuICAgICAgcmV0dXJuIHRoaXNbZmwuZXF1YWxzXShzZXRvaWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGYW50YXN5IGxhbmQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYW50YXN5bGFuZC9mYW50YXN5LWxhbmQjc2VtaWdyb3VwfFNlbWlncm91cH0gc3BlY2lmaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzaWcgY29uY2F0IDo6IFNlbWlncm91cCBhID0+IGEgfj4gYSAtPiBhXG4gICAgICogQHBhcmFtIHtSQS5JZGVudGl0eX0gc2VtaWdyb3VwXG4gICAgICogQHJldHVybiB7UkEuSWRlbnRpdHl9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGNvbnN0IGEgPSBJZGVudGl0eS5vZigxKTtcbiAgICAgKiBjb25zdCBiID0gSWRlbnRpdHkub2YoMSk7XG4gICAgICogYS5jb25jYXQoYik7IC8vPT4gMlxuICAgICAqXG4gICAgICogY29uc3QgYyA9IElkZW50aXR5Lm9mKCdjJyk7XG4gICAgICogY29uc3QgZCA9IElkZW50aXR5Lm9mKCdkJyk7XG4gICAgICogYy5jb25jYXQoZCk7IC8vPT4gJ2NkJ1xuICAgICAqXG4gICAgICogY29uc3QgZSA9IElkZW50aXR5Lm9mKFsnZSddKTtcbiAgICAgKiBjb25zdCBmID0gSWRlbnRpdHkub2YoWydmJ10pO1xuICAgICAqIGUuY29uY2F0KGYpOyAvLz0+IFsnZScsICdmJ11cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBfZmwkY29uY2F0LFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShzZW1pZ3JvdXApIHtcbiAgICAgIHJldHVybiBfdHJhaXRzLnNlbWlncm91cFRyYWl0W2ZsLmNvbmNhdF0uY2FsbCh0aGlzLCBzZW1pZ3JvdXApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb25jYXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29uY2F0KHNlbWlncm91cCkge1xuICAgICAgcmV0dXJuIHRoaXNbZmwuY29uY2F0XShzZW1pZ3JvdXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGYW50YXN5IGxhbmQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYW50YXN5bGFuZC9mYW50YXN5LWxhbmQjY2hhaW58Q2hhaW59IHNwZWNpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAc2lnIGNoYWluIDo6IENoYWluIG0gPT4gbSBhIH4+IChhIC0+IG0gYikgLT4gbSBiXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gcmV0dXJuaW5nIHRoZSB2YWx1ZSBvZiB0aGUgc2FtZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2ZhbnRhc3lsYW5kL2ZhbnRhc3ktbGFuZCNzZW1pZ3JvdXB8Q2hhaW59XG4gICAgICogQHJldHVybiB7UkEuSWRlbnRpdHl9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGNvbnN0IGEgPSBJZGVudGl0eS5vZigxKTtcbiAgICAgKiBjb25zdCBmbiA9IHZhbCA9PiBJZGVudGl0eS5vZih2YWwgKyAxKTtcbiAgICAgKlxuICAgICAqIGEuY2hhaW4oZm4pLmNoYWluKGZuKTsgLy89PiBJZGVudGl0eSgzKVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IF9mbCRjaGFpbixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoZm4pIHtcbiAgICAgIHJldHVybiBfdHJhaXRzLmNoYWluVHJhaXRbZmwuY2hhaW5dLmNhbGwodGhpcywgZm4pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFpblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFpbihmbikge1xuICAgICAgcmV0dXJuIHRoaXNbZmwuY2hhaW5dKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmFudGFzeSBsYW5kIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmFudGFzeWxhbmQvZmFudGFzeS1sYW5kI29yZHxPcmR9IHNwZWNpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAc2lnIGx0ZSA6OiBPcmQgYSA9PiBhIH4+IGEgLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7UkEuSWRlbnRpdHl9IG9yZFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGNvbnN0IGEgPSBJZGVudGl0eS5vZigxKTtcbiAgICAgKiBjb25zdCBiID0gSWRlbnRpdHkub2YoMSk7XG4gICAgICogY29uc3QgYyA9IElkZW50aXR5Lm9mKDIpO1xuICAgICAqXG4gICAgICogYS5sdGUoYik7IC8vPT4gdHJ1ZVxuICAgICAqIGEubHRlKGMpOyAvLz0+IHRydWVcbiAgICAgKiBjLmx0ZShhKTsgLy89PiBmYWxzZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IF9mbCRsdGUsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKG9yZCkge1xuICAgICAgcmV0dXJuIF90cmFpdHMub3JkVHJhaXRbZmwubHRlXS5jYWxsKHRoaXMsIG9yZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImx0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsdGUob3JkKSB7XG4gICAgICByZXR1cm4gdGhpc1tmbC5sdGVdKG9yZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZhbnRhc3kgbGFuZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2ZhbnRhc3lsYW5kL2ZhbnRhc3ktbGFuZCNtb25vaWR8TW9ub2lkKn0gc3BlY2lmaWNhdGlvbi5cbiAgICAgKiBQYXJ0aWFsIGltcGxlbWVudGF0aW9uIG9mIE1vbm9pZCBzcGVjaWZpY2F0aW9uLiBgZW1wdHlgIG1ldGhvZCBvbiBpbnN0YW5jZSBvbmx5LCByZXR1cm5pbmdcbiAgICAgKiBpZGVudGl0eSB2YWx1ZSBvZiB0aGUgd3JhcHBlZCB0eXBlLiBVc2luZyBgUi5lbXB0eWAgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBzaWcgZW1wdHkgOjogTW9ub2lkIG0gPT4gKCkgLT4gbVxuICAgICAqIEByZXR1cm4ge1JBLklkZW50aXR5fVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBjb25zdCBhID0gSWRlbnRpdHkub2YoJ3Rlc3QnKTtcbiAgICAgKiBjb25zdCBpID0gYS5lbXB0eSgpO1xuICAgICAqXG4gICAgICogYS5jb25jYXQoaSk7IC8vPT4gSWRlbnRpdHkoJ3N0cmluZycpO1xuICAgICAqIGkuY29uY2F0KGEpOyAvLz0+IElkZW50aXR5KCdzdHJpbmcnKTtcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBfZmwkZW1wdHksXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3Iub2YoKDAsIF9yYW1kYS5lbXB0eSkodGhpcy52YWx1ZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbXB0eVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbXB0eSgpIHtcbiAgICAgIHJldHVybiB0aGlzW2ZsLmVtcHR5XSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGYW50YXN5IGxhbmQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYW50YXN5bGFuZC9mYW50YXN5LWxhbmQjY29udHJhdmFyaWFudHxDb250cmF2YXJpYW50fSBzcGVjaWZpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHNpZyBjb250cmFtYXAgOjogQ29udHJhdmFyaWFudCBmID0+IGYgYSB+PiAoYiAtPiBhKSAtPiBmIGJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgICAqIEByZXR1cm4ge1JBLklkZW50aXR5fVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBjb25zdCBpZGVudGl0eSA9IGEgPT4gYTtcbiAgICAgKiBjb25zdCBhZGQxID0gYSA9PiBhICsgMTtcbiAgICAgKiBjb25zdCBkaXZpZGUyID0gYSA9PiBhIC8gMjtcbiAgICAgKlxuICAgICAqIElkZW50aXR5Lm9mKGRpdmlkZTIpLmNvbnRyYW1hcChhZGQxKS5nZXQoKSgzKTsgLy89PiAyXG4gICAgICogSWRlbnRpdHkub2YoaWRlbnRpdHkpLmNvbnRyYW1hcChkaXZpZGUyKS5jb250cmFtYXAoYWRkMSkuZ2V0KCkoMyk7IC8vPT4gMlxuICAgICAqIElkZW50aXR5Lm9mKGlkZW50aXR5KS5jb250cmFtYXAoYSA9PiBkaXZpZGUyKGFkZDEoYSkpKS5nZXQoKSgzKTsgLy89PiAyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogX2ZsJGNvbnRyYW1hcCxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoZm4pIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLm9mKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gX3RoaXMudmFsdWUoZm4odmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250cmFtYXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29udHJhbWFwKGZuKSB7XG4gICAgICByZXR1cm4gdGhpc1tmbC5jb250cmFtYXBdKGZuKTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogX2ZsJG9mLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIEZhbnRhc3kgbGFuZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2ZhbnRhc3lsYW5kL2ZhbnRhc3ktbGFuZCNhcHBsaWNhdGl2ZXxBcHBsaWNhdGl2ZX0gc3BlY2lmaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2lnIG9mIDo6IEFwcGxpY2F0aXZlIGYgPT4gYSAtPiBmIGFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybnMge1JBLklkZW50aXR5fVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBjb25zdCBhID0gSWRlbnRpdHkub2YoMSk7IC8vPT4gSWRlbnRpdHkoMSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZShfdmFsdWUpIHtcbiAgICAgIHJldHVybiBuZXcgSWRlbnRpdHkoX3ZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib2ZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2YodmFsdWUpIHtcbiAgICAgIHJldHVybiBuZXcgSWRlbnRpdHkodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ0BAdHlwZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ1JBL0lkZW50aXR5JztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSWRlbnRpdHk7XG59KGZsLm9mLCBmbC5hcCwgZmwubWFwLCBmbC5lcXVhbHMsIGZsLmNvbmNhdCwgZmwuY2hhaW4sIGZsLmx0ZSwgZmwuZW1wdHksIGZsLmNvbnRyYW1hcCk7XG5cbnZhciBfZGVmYXVsdCA9IElkZW50aXR5O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfZGVmYXVsdDsiXX0=