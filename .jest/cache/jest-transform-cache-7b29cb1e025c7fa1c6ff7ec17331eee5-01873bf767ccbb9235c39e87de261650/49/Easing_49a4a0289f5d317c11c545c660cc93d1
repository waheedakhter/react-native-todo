b60320a9a893a29c1e2c9c278c81da51
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault2(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault2(require("@babel/runtime/helpers/createClass"));

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _base = require("./base");

var _AnimatedBezier = _interopRequireDefault(require("./core/AnimatedBezier"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

var Easing = function () {
  function Easing() {
    (0, _classCallCheck2.default)(this, Easing);
  }

  (0, _createClass2.default)(Easing, null, [{
    key: "linear",
    value: function linear(t) {
      return t;
    }
  }, {
    key: "ease",
    value: function ease(t) {
      return new _AnimatedBezier.default(t, 0.42, 0, 1, 1);
    }
  }, {
    key: "quad",
    value: function quad(t) {
      return (0, _base.multiply)(t, t);
    }
  }, {
    key: "cubic",
    value: function cubic(t) {
      return (0, _base.multiply)(t, t, t);
    }
  }, {
    key: "poly",
    value: function poly(n) {
      return function (t) {
        return (0, _base.pow)(t, n);
      };
    }
  }, {
    key: "sin",
    value: function sin(t) {
      return (0, _base.sub)(1, (0, _base.cos)((0, _base.multiply)(t, Math.PI, 0.5)));
    }
  }, {
    key: "circle",
    value: function circle(t) {
      return (0, _base.sub)(1, (0, _base.sqrt)((0, _base.sub)(1, (0, _base.multiply)(t, t))));
    }
  }, {
    key: "exp",
    value: function exp(t) {
      return (0, _base.pow)(2, (0, _base.multiply)(10, (0, _base.sub)(t, 1)));
    }
  }, {
    key: "elastic",
    value: function elastic() {
      var bounciness = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var p = bounciness * Math.PI;
      return function (t) {
        return (0, _base.sub)(1, (0, _base.multiply)((0, _base.pow)((0, _base.cos)((0, _base.multiply)(t, Math.PI, 0.5)), 3), (0, _base.cos)((0, _base.multiply)(t, p))));
      };
    }
  }, {
    key: "back",
    value: function back(s) {
      if (s === undefined) {
        s = 1.70158;
      }

      return function (t) {
        return (0, _base.multiply)(t, t, (0, _base.sub)((0, _base.multiply)((0, _base.add)(s, 1), t), s));
      };
    }
  }, {
    key: "bounce",
    value: function bounce(t) {
      var sq = function sq(v) {
        return (0, _base.multiply)(7.5625, v, v);
      };

      return (0, _base.cond)((0, _base.lessThan)(t, 1 / 2.75), sq(t), (0, _base.cond)((0, _base.lessThan)(t, 2 / 2.75), (0, _base.add)(0.75, sq((0, _base.sub)(t, 1.5 / 2.75))), (0, _base.cond)((0, _base.lessThan)(t, 2.5 / 2.76), (0, _base.add)(0.9375, sq((0, _base.sub)(t, 2.25 / 2.75))), (0, _base.add)(0.984375, sq((0, _base.sub)(t, 2.625 / 2.75))))));
    }
  }, {
    key: "bezier",
    value: function bezier(x1, y1, x2, y2) {
      return function (t) {
        return new _AnimatedBezier.default(t, x1, y1, x2, y2);
      };
    }
  }, {
    key: "in",
    value: function _in(easing) {
      return easing;
    }
  }, {
    key: "out",
    value: function out(easing) {
      return function (t) {
        return (0, _base.sub)(1, easing((0, _base.sub)(1, t)));
      };
    }
  }, {
    key: "inOut",
    value: function inOut(easing) {
      return function (t) {
        return (0, _base.cond)((0, _base.lessThan)(t, 0.5), (0, _base.divide)(easing((0, _base.multiply)(t, 2)), 2), (0, _base.sub)(1, (0, _base.divide)(easing((0, _base.multiply)((0, _base.sub)(1, t), 2)), 2)));
      };
    }
  }]);
  return Easing;
}();

exports.default = Easing;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVhc2luZy5qcyJdLCJuYW1lcyI6WyJBbmltYXRlZEJlemllciIsInQiLCJNYXRoIiwiYm91bmNpbmVzcyIsInAiLCJzIiwic3EiLCJ2IiwiZWFzaW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQSxLQUFBLEdBQUEsT0FBQSxDQUFBLFFBQUEsQ0FBQTs7QUFXQSxJQUFBLGVBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSx1QkFBQSxDQUFBLENBQUE7Ozs7Ozs7O0lBK0NlLE07Ozs7Ozs7V0FPYixnQkFBQSxDQUFBLEVBQWlCO0FBQ2YsYUFBQSxDQUFBO0FBQ0Q7OztXQVFELGNBQUEsQ0FBQSxFQUFlO0FBQ2IsYUFBTyxJQUFJQSxlQUFBQSxDQUFKLE9BQUEsQ0FBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQVAsQ0FBTyxDQUFQO0FBQ0Q7OztXQVFELGNBQUEsQ0FBQSxFQUFlO0FBQ2IsYUFBTyxDQUFBLEdBQUEsS0FBQSxDQUFBLFFBQUEsRUFBQSxDQUFBLEVBQVAsQ0FBTyxDQUFQO0FBQ0Q7OztXQVFELGVBQUEsQ0FBQSxFQUFnQjtBQUNkLGFBQU8sQ0FBQSxHQUFBLEtBQUEsQ0FBQSxRQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBUCxDQUFPLENBQVA7QUFDRDs7O1dBUUQsY0FBQSxDQUFBLEVBQWU7QUFDYixhQUFPQyxVQUFBQSxDQUFDO0FBQUEsZUFBSSxDQUFBLEdBQUEsS0FBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLEVBQVosQ0FBWSxDQUFKO0FBQUEsT0FBUjtBQUNEOzs7V0FPRCxhQUFBLENBQUEsRUFBYztBQUNaLGFBQU8sQ0FBQSxHQUFBLEtBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxFQUFPLENBQUEsR0FBQSxLQUFBLENBQUEsR0FBQSxFQUFJLENBQUEsR0FBQSxLQUFBLENBQUEsUUFBQSxFQUFBLENBQUEsRUFBWUMsSUFBSSxDQUFoQixFQUFBLEVBQWxCLEdBQWtCLENBQUosQ0FBUCxD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RSxDQUZGLEVBR0UsQ0FBQSxHQUFBLEtBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxFQUFPLENBQUEsR0FBQSxLQUFBLENBQUEsTUFBQSxFQUFPQSxNQUFNLENBQUMsQ0FBQSxHQUFBLEtBQUEsQ0FBQSxRQUFBLEVBQVMsQ0FBQSxHQUFBLEtBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxFQUFULENBQVMsQ0FBVCxFQUFkLENBQWMsQ0FBRCxDQUFiLEVBSlgsQ0FJVyxDQUFQLENBSEYsQ0FETTtBQUFBLE9BQVI7QUFNRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNvbmQsXG4gIGxlc3NUaGFuLFxuICBtdWx0aXBseSxcbiAgcG93LFxuICBjb3MsXG4gIHNxcnQsXG4gIHN1YixcbiAgYWRkLFxuICBkaXZpZGUsXG59IGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgQW5pbWF0ZWRCZXppZXIgZnJvbSAnLi9jb3JlL0FuaW1hdGVkQmV6aWVyJztcblxuLyoqXG4gKiBUaGUgYEVhc2luZ2AgbW9kdWxlIGltcGxlbWVudHMgY29tbW9uIGVhc2luZyBmdW5jdGlvbnMuIFRoaXMgbW9kdWxlIGlzIHVzZWRcbiAqIGJ5IFtBbmltYXRlLnRpbWluZygpXShkb2NzL2FuaW1hdGUuaHRtbCN0aW1pbmcpIHRvIGNvbnZleSBwaHlzaWNhbGx5XG4gKiBiZWxpZXZhYmxlIG1vdGlvbiBpbiBhbmltYXRpb25zLlxuICpcbiAqIFlvdSBjYW4gZmluZCBhIHZpc3VhbGl6YXRpb24gb2Ygc29tZSBjb21tb24gZWFzaW5nIGZ1bmN0aW9ucyBhdFxuICogaHR0cDovL2Vhc2luZ3MubmV0L1xuICpcbiAqICMjIyBQcmVkZWZpbmVkIGFuaW1hdGlvbnNcbiAqXG4gKiBUaGUgYEVhc2luZ2AgbW9kdWxlIHByb3ZpZGVzIHNldmVyYWwgcHJlZGVmaW5lZCBhbmltYXRpb25zIHRocm91Z2ggdGhlXG4gKiBmb2xsb3dpbmcgbWV0aG9kczpcbiAqXG4gKiAtIFtgYmFja2BdKGRvY3MvZWFzaW5nLmh0bWwjYmFjaykgcHJvdmlkZXMgYSBzaW1wbGUgYW5pbWF0aW9uIHdoZXJlIHRoZVxuICogICBvYmplY3QgZ29lcyBzbGlnaHRseSBiYWNrIGJlZm9yZSBtb3ZpbmcgZm9yd2FyZFxuICogLSBbYGJvdW5jZWBdKGRvY3MvZWFzaW5nLmh0bWwjYm91bmNlKSBwcm92aWRlcyBhIGJvdW5jaW5nIGFuaW1hdGlvblxuICogLSBbYGVhc2VgXShkb2NzL2Vhc2luZy5odG1sI2Vhc2UpIHByb3ZpZGVzIGEgc2ltcGxlIGluZXJ0aWFsIGFuaW1hdGlvblxuICogLSBbYGVsYXN0aWNgXShkb2NzL2Vhc2luZy5odG1sI2VsYXN0aWMpIHByb3ZpZGVzIGEgc2ltcGxlIHNwcmluZyBpbnRlcmFjdGlvblxuICpcbiAqICMjIyBTdGFuZGFyZCBmdW5jdGlvbnNcbiAqXG4gKiBUaHJlZSBzdGFuZGFyZCBlYXNpbmcgZnVuY3Rpb25zIGFyZSBwcm92aWRlZDpcbiAqXG4gKiAtIFtgbGluZWFyYF0oZG9jcy9lYXNpbmcuaHRtbCNsaW5lYXIpXG4gKiAtIFtgcXVhZGBdKGRvY3MvZWFzaW5nLmh0bWwjcXVhZClcbiAqIC0gW2BjdWJpY2BdKGRvY3MvZWFzaW5nLmh0bWwjY3ViaWMpXG4gKlxuICogVGhlIFtgcG9seWBdKGRvY3MvZWFzaW5nLmh0bWwjcG9seSkgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gaW1wbGVtZW50XG4gKiBxdWFydGljLCBxdWludGljLCBhbmQgb3RoZXIgaGlnaGVyIHBvd2VyIGZ1bmN0aW9ucy5cbiAqXG4gKiAjIyMgQWRkaXRpb25hbCBmdW5jdGlvbnNcbiAqXG4gKiBBZGRpdGlvbmFsIG1hdGhlbWF0aWNhbCBmdW5jdGlvbnMgYXJlIHByb3ZpZGVkIGJ5IHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcbiAqXG4gKiAtIFtgYmV6aWVyYF0oZG9jcy9lYXNpbmcuaHRtbCNiZXppZXIpIHByb3ZpZGVzIGEgY3ViaWMgYmV6aWVyIGN1cnZlXG4gKiAtIFtgY2lyY2xlYF0oZG9jcy9lYXNpbmcuaHRtbCNjaXJjbGUpIHByb3ZpZGVzIGEgY2lyY3VsYXIgZnVuY3Rpb25cbiAqIC0gW2BzaW5gXShkb2NzL2Vhc2luZy5odG1sI3NpbikgcHJvdmlkZXMgYSBzaW51c29pZGFsIGZ1bmN0aW9uXG4gKiAtIFtgZXhwYF0oZG9jcy9lYXNpbmcuaHRtbCNleHApIHByb3ZpZGVzIGFuIGV4cG9uZW50aWFsIGZ1bmN0aW9uXG4gKlxuICogVGhlIGZvbGxvd2luZyBoZWxwZXJzIGFyZSB1c2VkIHRvIG1vZGlmeSBvdGhlciBlYXNpbmcgZnVuY3Rpb25zLlxuICpcbiAqIC0gW2BpbmBdKGRvY3MvZWFzaW5nLmh0bWwjaW4pIHJ1bnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGZvcndhcmRzXG4gKiAtIFtgaW5PdXRgXShkb2NzL2Vhc2luZy5odG1sI2lub3V0KSBtYWtlcyBhbnkgZWFzaW5nIGZ1bmN0aW9uIHN5bW1ldHJpY2FsXG4gKiAtIFtgb3V0YF0oZG9jcy9lYXNpbmcuaHRtbCNvdXQpIHJ1bnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGJhY2t3YXJkc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFYXNpbmcge1xuICAvKipcbiAgICogQSBsaW5lYXIgZnVuY3Rpb24sIGBmKHQpID0gdGAuIFBvc2l0aW9uIGNvcnJlbGF0ZXMgdG8gZWxhcHNlZCB0aW1lIG9uZSB0b1xuICAgKiBvbmUuXG4gICAqXG4gICAqIGh0dHA6Ly9jdWJpYy1iZXppZXIuY29tLyMwLDAsMSwxXG4gICAqL1xuICBzdGF0aWMgbGluZWFyKHQpIHtcbiAgICByZXR1cm4gdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNpbXBsZSBpbmVydGlhbCBpbnRlcmFjdGlvbiwgc2ltaWxhciB0byBhbiBvYmplY3Qgc2xvd2x5IGFjY2VsZXJhdGluZyB0b1xuICAgKiBzcGVlZC5cbiAgICpcbiAgICogaHR0cDovL2N1YmljLWJlemllci5jb20vIy40MiwwLDEsMVxuICAgKi9cbiAgc3RhdGljIGVhc2UodCkge1xuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRCZXppZXIodCwgMC40MiwgMCwgMSwgMSk7XG4gIH1cblxuICAvKipcbiAgICogQSBxdWFkcmF0aWMgZnVuY3Rpb24sIGBmKHQpID0gdCAqIHRgLiBQb3NpdGlvbiBlcXVhbHMgdGhlIHNxdWFyZSBvZiBlbGFwc2VkXG4gICAqIHRpbWUuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluUXVhZFxuICAgKi9cbiAgc3RhdGljIHF1YWQodCkge1xuICAgIHJldHVybiBtdWx0aXBseSh0LCB0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGN1YmljIGZ1bmN0aW9uLCBgZih0KSA9IHQgKiB0ICogdGAuIFBvc2l0aW9uIGVxdWFscyB0aGUgY3ViZSBvZiBlbGFwc2VkXG4gICAqIHRpbWUuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQ3ViaWNcbiAgICovXG4gIHN0YXRpYyBjdWJpYyh0KSB7XG4gICAgcmV0dXJuIG11bHRpcGx5KHQsIHQsIHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgcG93ZXIgZnVuY3Rpb24uIFBvc2l0aW9uIGlzIGVxdWFsIHRvIHRoZSBOdGggcG93ZXIgb2YgZWxhcHNlZCB0aW1lLlxuICAgKlxuICAgKiBuID0gNDogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5RdWFydFxuICAgKiBuID0gNTogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5RdWludFxuICAgKi9cbiAgc3RhdGljIHBvbHkobikge1xuICAgIHJldHVybiB0ID0+IHBvdyh0LCBuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNpbnVzb2lkYWwgZnVuY3Rpb24uXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluU2luZVxuICAgKi9cbiAgc3RhdGljIHNpbih0KSB7XG4gICAgcmV0dXJuIHN1YigxLCBjb3MobXVsdGlwbHkodCwgTWF0aC5QSSwgMC41KSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgY2lyY3VsYXIgZnVuY3Rpb24uXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQ2lyY1xuICAgKi9cbiAgc3RhdGljIGNpcmNsZSh0KSB7XG4gICAgcmV0dXJuIHN1YigxLCBzcXJ0KHN1YigxLCBtdWx0aXBseSh0LCB0KSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBleHBvbmVudGlhbCBmdW5jdGlvbi5cbiAgICpcbiAgICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5FeHBvXG4gICAqL1xuICBzdGF0aWMgZXhwKHQpIHtcbiAgICByZXR1cm4gcG93KDIsIG11bHRpcGx5KDEwLCBzdWIodCwgMSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNpbXBsZSBlbGFzdGljIGludGVyYWN0aW9uLCBzaW1pbGFyIHRvIGEgc3ByaW5nIG9zY2lsbGF0aW5nIGJhY2sgYW5kXG4gICAqIGZvcnRoLlxuICAgKlxuICAgKiBEZWZhdWx0IGJvdW5jaW5lc3MgaXMgMSwgd2hpY2ggb3ZlcnNob290cyBhIGxpdHRsZSBiaXQgb25jZS4gMCBib3VuY2luZXNzXG4gICAqIGRvZXNuJ3Qgb3ZlcnNob290IGF0IGFsbCwgYW5kIGJvdW5jaW5lc3Mgb2YgTiA+IDEgd2lsbCBvdmVyc2hvb3QgYWJvdXQgTlxuICAgKiB0aW1lcy5cbiAgICpcbiAgICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5FbGFzdGljXG4gICAqL1xuICBzdGF0aWMgZWxhc3RpYyhib3VuY2luZXNzID0gMSkge1xuICAgIGNvbnN0IHAgPSBib3VuY2luZXNzICogTWF0aC5QSTtcbiAgICByZXR1cm4gdCA9PlxuICAgICAgc3ViKFxuICAgICAgICAxLFxuICAgICAgICBtdWx0aXBseShwb3coY29zKG11bHRpcGx5KHQsIE1hdGguUEksIDAuNSkpLCAzKSwgY29zKG11bHRpcGx5KHQsIHApKSlcbiAgICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVXNlIHdpdGggYEFuaW1hdGVkLnBhcmFsbGVsKClgIHRvIGNyZWF0ZSBhIHNpbXBsZSBlZmZlY3Qgd2hlcmUgdGhlIG9iamVjdFxuICAgKiBhbmltYXRlcyBiYWNrIHNsaWdodGx5IGFzIHRoZSBhbmltYXRpb24gc3RhcnRzLlxuICAgKlxuICAgKiBXb2xmcmFtIFBsb3Q6XG4gICAqXG4gICAqIC0gaHR0cDovL3RpbnkuY2MvYmFja19kZWZhdWx0IChzID0gMS43MDE1OCwgZGVmYXVsdClcbiAgICovXG4gIHN0YXRpYyBiYWNrKHMpIHtcbiAgICBpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICB9XG4gICAgcmV0dXJuIHQgPT4gbXVsdGlwbHkodCwgdCwgc3ViKG11bHRpcGx5KGFkZChzLCAxKSwgdCksIHMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIHNpbXBsZSBib3VuY2luZyBlZmZlY3QuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQm91bmNlXG4gICAqL1xuICBzdGF0aWMgYm91bmNlKHQpIHtcbiAgICBjb25zdCBzcSA9IHYgPT4gbXVsdGlwbHkoNy41NjI1LCB2LCB2KTtcbiAgICByZXR1cm4gY29uZChcbiAgICAgIGxlc3NUaGFuKHQsIDEgLyAyLjc1KSxcbiAgICAgIHNxKHQpLFxuICAgICAgY29uZChcbiAgICAgICAgbGVzc1RoYW4odCwgMiAvIDIuNzUpLFxuICAgICAgICBhZGQoMC43NSwgc3Eoc3ViKHQsIDEuNSAvIDIuNzUpKSksXG4gICAgICAgIGNvbmQoXG4gICAgICAgICAgbGVzc1RoYW4odCwgMi41IC8gMi43NiksXG4gICAgICAgICAgYWRkKDAuOTM3NSwgc3Eoc3ViKHQsIDIuMjUgLyAyLjc1KSkpLFxuICAgICAgICAgIGFkZCgwLjk4NDM3NSwgc3Eoc3ViKHQsIDIuNjI1IC8gMi43NSkpKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGN1YmljIGJlemllciBjdXJ2ZSwgZXF1aXZhbGVudCB0byBDU1MgVHJhbnNpdGlvbnMnXG4gICAqIGB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbmAuXG4gICAqXG4gICAqIEEgdXNlZnVsIHRvb2wgdG8gdmlzdWFsaXplIGN1YmljIGJlemllciBjdXJ2ZXMgY2FuIGJlIGZvdW5kIGF0XG4gICAqIGh0dHA6Ly9jdWJpYy1iZXppZXIuY29tL1xuICAgKi9cbiAgc3RhdGljIGJlemllcih4MSwgeTEsIHgyLCB5Mikge1xuICAgIHJldHVybiB0ID0+IG5ldyBBbmltYXRlZEJlemllcih0LCB4MSwgeTEsIHgyLCB5Mik7XG4gIH1cblxuICAvKipcbiAgICogUnVucyBhbiBlYXNpbmcgZnVuY3Rpb24gZm9yd2FyZHMuXG4gICAqL1xuICBzdGF0aWMgaW4oZWFzaW5nKSB7XG4gICAgcmV0dXJuIGVhc2luZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIGFuIGVhc2luZyBmdW5jdGlvbiBiYWNrd2FyZHMuXG4gICAqL1xuICBzdGF0aWMgb3V0KGVhc2luZykge1xuICAgIHJldHVybiB0ID0+IHN1YigxLCBlYXNpbmcoc3ViKDEsIHQpKSk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZXMgYW55IGVhc2luZyBmdW5jdGlvbiBzeW1tZXRyaWNhbC4gVGhlIGVhc2luZyBmdW5jdGlvbiB3aWxsIHJ1blxuICAgKiBmb3J3YXJkcyBmb3IgaGFsZiBvZiB0aGUgZHVyYXRpb24sIHRoZW4gYmFja3dhcmRzIGZvciB0aGUgcmVzdCBvZiB0aGVcbiAgICogZHVyYXRpb24uXG4gICAqL1xuICBzdGF0aWMgaW5PdXQoZWFzaW5nKSB7XG4gICAgcmV0dXJuIHQgPT5cbiAgICAgIGNvbmQoXG4gICAgICAgIGxlc3NUaGFuKHQsIDAuNSksXG4gICAgICAgIGRpdmlkZShlYXNpbmcobXVsdGlwbHkodCwgMikpLCAyKSxcbiAgICAgICAgc3ViKDEsIGRpdmlkZShlYXNpbmcobXVsdGlwbHkoc3ViKDEsIHQpLCAyKSksIDIpKVxuICAgICAgKTtcbiAgfVxufVxuIl19