a85d39410fccfb09ded795b5d7a9c5d7
var _curry2 = require("./_curry2");

var _reduced = require("./_reduced");

var _xfBase = require("./_xfBase");

var XFindIndex = function () {
  function XFindIndex(f, xf) {
    this.xf = xf;
    this.f = f;
    this.idx = -1;
    this.found = false;
  }

  XFindIndex.prototype['@@transducer/init'] = _xfBase.init;

  XFindIndex.prototype['@@transducer/result'] = function (result) {
    if (!this.found) {
      result = this.xf['@@transducer/step'](result, -1);
    }

    return this.xf['@@transducer/result'](result);
  };

  XFindIndex.prototype['@@transducer/step'] = function (result, input) {
    this.idx += 1;

    if (this.f(input)) {
      this.found = true;
      result = _reduced(this.xf['@@transducer/step'](result, this.idx));
    }

    return result;
  };

  return XFindIndex;
}();

var _xfindIndex = _curry2(function _xfindIndex(f, xf) {
  return new XFindIndex(f, xf);
});

module.exports = _xfindIndex;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl94ZmluZEluZGV4LmpzIl0sIm5hbWVzIjpbIl9jdXJyeTIiLCJyZXF1aXJlIiwiX3JlZHVjZWQiLCJfeGZCYXNlIiwiWEZpbmRJbmRleCIsImYiLCJ4ZiIsImlkeCIsImZvdW5kIiwicHJvdG90eXBlIiwiaW5pdCIsInJlc3VsdCIsImlucHV0IiwiX3hmaW5kSW5kZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxPQUFPLEdBRVhDLE9BQU8sQ0FBQyxXQUFELENBRlA7O0FBSUEsSUFBSUMsUUFBUSxHQUVaRCxPQUFPLENBQUMsWUFBRCxDQUZQOztBQUlBLElBQUlFLE9BQU8sR0FFWEYsT0FBTyxDQUFDLFdBQUQsQ0FGUDs7QUFJQSxJQUFJRyxVQUFVLEdBRWQsWUFBWTtBQUNWLFdBQVNBLFVBQVQsQ0FBb0JDLENBQXBCLEVBQXVCQyxFQUF2QixFQUEyQjtBQUN6QixTQUFLQSxFQUFMLEdBQVVBLEVBQVY7QUFDQSxTQUFLRCxDQUFMLEdBQVNBLENBQVQ7QUFDQSxTQUFLRSxHQUFMLEdBQVcsQ0FBQyxDQUFaO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEtBQWI7QUFDRDs7QUFFREosRUFBQUEsVUFBVSxDQUFDSyxTQUFYLENBQXFCLG1CQUFyQixJQUE0Q04sT0FBTyxDQUFDTyxJQUFwRDs7QUFFQU4sRUFBQUEsVUFBVSxDQUFDSyxTQUFYLENBQXFCLHFCQUFyQixJQUE4QyxVQUFVRSxNQUFWLEVBQWtCO0FBQzlELFFBQUksQ0FBQyxLQUFLSCxLQUFWLEVBQWlCO0FBQ2ZHLE1BQUFBLE1BQU0sR0FBRyxLQUFLTCxFQUFMLENBQVEsbUJBQVIsRUFBNkJLLE1BQTdCLEVBQXFDLENBQUMsQ0FBdEMsQ0FBVDtBQUNEOztBQUVELFdBQU8sS0FBS0wsRUFBTCxDQUFRLHFCQUFSLEVBQStCSyxNQUEvQixDQUFQO0FBQ0QsR0FORDs7QUFRQVAsRUFBQUEsVUFBVSxDQUFDSyxTQUFYLENBQXFCLG1CQUFyQixJQUE0QyxVQUFVRSxNQUFWLEVBQWtCQyxLQUFsQixFQUF5QjtBQUNuRSxTQUFLTCxHQUFMLElBQVksQ0FBWjs7QUFFQSxRQUFJLEtBQUtGLENBQUwsQ0FBT08sS0FBUCxDQUFKLEVBQW1CO0FBQ2pCLFdBQUtKLEtBQUwsR0FBYSxJQUFiO0FBQ0FHLE1BQUFBLE1BQU0sR0FBR1QsUUFBUSxDQUFDLEtBQUtJLEVBQUwsQ0FBUSxtQkFBUixFQUE2QkssTUFBN0IsRUFBcUMsS0FBS0osR0FBMUMsQ0FBRCxDQUFqQjtBQUNEOztBQUVELFdBQU9JLE1BQVA7QUFDRCxHQVREOztBQVdBLFNBQU9QLFVBQVA7QUFDRCxDQTlCRCxFQUZBOztBQWtDQSxJQUFJUyxXQUFXLEdBRWZiLE9BQU8sQ0FBQyxTQUFTYSxXQUFULENBQXFCUixDQUFyQixFQUF3QkMsRUFBeEIsRUFBNEI7QUFDbEMsU0FBTyxJQUFJRixVQUFKLENBQWVDLENBQWYsRUFBa0JDLEVBQWxCLENBQVA7QUFDRCxDQUZNLENBRlA7O0FBTUFRLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkYsV0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2N1cnJ5MiA9XG4vKiNfX1BVUkVfXyovXG5yZXF1aXJlKFwiLi9fY3VycnkyXCIpO1xuXG52YXIgX3JlZHVjZWQgPVxuLyojX19QVVJFX18qL1xucmVxdWlyZShcIi4vX3JlZHVjZWRcIik7XG5cbnZhciBfeGZCYXNlID1cbi8qI19fUFVSRV9fKi9cbnJlcXVpcmUoXCIuL194ZkJhc2VcIik7XG5cbnZhciBYRmluZEluZGV4ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gWEZpbmRJbmRleChmLCB4Zikge1xuICAgIHRoaXMueGYgPSB4ZjtcbiAgICB0aGlzLmYgPSBmO1xuICAgIHRoaXMuaWR4ID0gLTE7XG4gICAgdGhpcy5mb3VuZCA9IGZhbHNlO1xuICB9XG5cbiAgWEZpbmRJbmRleC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBfeGZCYXNlLmluaXQ7XG5cbiAgWEZpbmRJbmRleC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBpZiAoIXRoaXMuZm91bmQpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMueGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCAtMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMueGZbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXShyZXN1bHQpO1xuICB9O1xuXG4gIFhGaW5kSW5kZXgucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKHJlc3VsdCwgaW5wdXQpIHtcbiAgICB0aGlzLmlkeCArPSAxO1xuXG4gICAgaWYgKHRoaXMuZihpbnB1dCkpIHtcbiAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgcmVzdWx0ID0gX3JlZHVjZWQodGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXShyZXN1bHQsIHRoaXMuaWR4KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICByZXR1cm4gWEZpbmRJbmRleDtcbn0oKTtcblxudmFyIF94ZmluZEluZGV4ID1cbi8qI19fUFVSRV9fKi9cbl9jdXJyeTIoZnVuY3Rpb24gX3hmaW5kSW5kZXgoZiwgeGYpIHtcbiAgcmV0dXJuIG5ldyBYRmluZEluZGV4KGYsIHhmKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IF94ZmluZEluZGV4OyJdfQ==