8d6c28577bd4947a78ff601ce39b9e79
var _curry2 = require("./_curry2");

var _reduced = require("./_reduced");

var _xfBase = require("./_xfBase");

var XAll = function () {
  function XAll(f, xf) {
    this.xf = xf;
    this.f = f;
    this.all = true;
  }

  XAll.prototype['@@transducer/init'] = _xfBase.init;

  XAll.prototype['@@transducer/result'] = function (result) {
    if (this.all) {
      result = this.xf['@@transducer/step'](result, true);
    }

    return this.xf['@@transducer/result'](result);
  };

  XAll.prototype['@@transducer/step'] = function (result, input) {
    if (!this.f(input)) {
      this.all = false;
      result = _reduced(this.xf['@@transducer/step'](result, false));
    }

    return result;
  };

  return XAll;
}();

var _xall = _curry2(function _xall(f, xf) {
  return new XAll(f, xf);
});

module.exports = _xall;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl94YWxsLmpzIl0sIm5hbWVzIjpbIl9jdXJyeTIiLCJyZXF1aXJlIiwiX3JlZHVjZWQiLCJfeGZCYXNlIiwiWEFsbCIsImYiLCJ4ZiIsImFsbCIsInByb3RvdHlwZSIsImluaXQiLCJyZXN1bHQiLCJpbnB1dCIsIl94YWxsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsT0FBTyxHQUVYQyxPQUFPLENBQUMsV0FBRCxDQUZQOztBQUlBLElBQUlDLFFBQVEsR0FFWkQsT0FBTyxDQUFDLFlBQUQsQ0FGUDs7QUFJQSxJQUFJRSxPQUFPLEdBRVhGLE9BQU8sQ0FBQyxXQUFELENBRlA7O0FBSUEsSUFBSUcsSUFBSSxHQUVSLFlBQVk7QUFDVixXQUFTQSxJQUFULENBQWNDLENBQWQsRUFBaUJDLEVBQWpCLEVBQXFCO0FBQ25CLFNBQUtBLEVBQUwsR0FBVUEsRUFBVjtBQUNBLFNBQUtELENBQUwsR0FBU0EsQ0FBVDtBQUNBLFNBQUtFLEdBQUwsR0FBVyxJQUFYO0FBQ0Q7O0FBRURILEVBQUFBLElBQUksQ0FBQ0ksU0FBTCxDQUFlLG1CQUFmLElBQXNDTCxPQUFPLENBQUNNLElBQTlDOztBQUVBTCxFQUFBQSxJQUFJLENBQUNJLFNBQUwsQ0FBZSxxQkFBZixJQUF3QyxVQUFVRSxNQUFWLEVBQWtCO0FBQ3hELFFBQUksS0FBS0gsR0FBVCxFQUFjO0FBQ1pHLE1BQUFBLE1BQU0sR0FBRyxLQUFLSixFQUFMLENBQVEsbUJBQVIsRUFBNkJJLE1BQTdCLEVBQXFDLElBQXJDLENBQVQ7QUFDRDs7QUFFRCxXQUFPLEtBQUtKLEVBQUwsQ0FBUSxxQkFBUixFQUErQkksTUFBL0IsQ0FBUDtBQUNELEdBTkQ7O0FBUUFOLEVBQUFBLElBQUksQ0FBQ0ksU0FBTCxDQUFlLG1CQUFmLElBQXNDLFVBQVVFLE1BQVYsRUFBa0JDLEtBQWxCLEVBQXlCO0FBQzdELFFBQUksQ0FBQyxLQUFLTixDQUFMLENBQU9NLEtBQVAsQ0FBTCxFQUFvQjtBQUNsQixXQUFLSixHQUFMLEdBQVcsS0FBWDtBQUNBRyxNQUFBQSxNQUFNLEdBQUdSLFFBQVEsQ0FBQyxLQUFLSSxFQUFMLENBQVEsbUJBQVIsRUFBNkJJLE1BQTdCLEVBQXFDLEtBQXJDLENBQUQsQ0FBakI7QUFDRDs7QUFFRCxXQUFPQSxNQUFQO0FBQ0QsR0FQRDs7QUFTQSxTQUFPTixJQUFQO0FBQ0QsQ0EzQkQsRUFGQTs7QUErQkEsSUFBSVEsS0FBSyxHQUVUWixPQUFPLENBQUMsU0FBU1ksS0FBVCxDQUFlUCxDQUFmLEVBQWtCQyxFQUFsQixFQUFzQjtBQUM1QixTQUFPLElBQUlGLElBQUosQ0FBU0MsQ0FBVCxFQUFZQyxFQUFaLENBQVA7QUFDRCxDQUZNLENBRlA7O0FBTUFPLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkYsS0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2N1cnJ5MiA9XG4vKiNfX1BVUkVfXyovXG5yZXF1aXJlKFwiLi9fY3VycnkyXCIpO1xuXG52YXIgX3JlZHVjZWQgPVxuLyojX19QVVJFX18qL1xucmVxdWlyZShcIi4vX3JlZHVjZWRcIik7XG5cbnZhciBfeGZCYXNlID1cbi8qI19fUFVSRV9fKi9cbnJlcXVpcmUoXCIuL194ZkJhc2VcIik7XG5cbnZhciBYQWxsID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gWEFsbChmLCB4Zikge1xuICAgIHRoaXMueGYgPSB4ZjtcbiAgICB0aGlzLmYgPSBmO1xuICAgIHRoaXMuYWxsID0gdHJ1ZTtcbiAgfVxuXG4gIFhBbGwucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gX3hmQmFzZS5pbml0O1xuXG4gIFhBbGwucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgaWYgKHRoaXMuYWxsKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMueGZbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXShyZXN1bHQpO1xuICB9O1xuXG4gIFhBbGwucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKHJlc3VsdCwgaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuZihpbnB1dCkpIHtcbiAgICAgIHRoaXMuYWxsID0gZmFsc2U7XG4gICAgICByZXN1bHQgPSBfcmVkdWNlZCh0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgZmFsc2UpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHJldHVybiBYQWxsO1xufSgpO1xuXG52YXIgX3hhbGwgPVxuLyojX19QVVJFX18qL1xuX2N1cnJ5MihmdW5jdGlvbiBfeGFsbChmLCB4Zikge1xuICByZXR1cm4gbmV3IFhBbGwoZiwgeGYpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gX3hhbGw7Il19